(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{119:function(t,e,n){"use strict";n(46),n(19);var r={props:{operationCoinName:{type:String,default:"-"},displayCoinBalance:{type:[Number,String],default:"-"},amount:{type:[Number,String],default:""},isMax:{type:Boolean,default:!1}},watch:{amount:{immediate:!0,handler:function(t){t&&String(t).length>18&&this.emitAmount(t,this.isMax)}}},methods:{onClickMax:function(){this.$emit("max")},emitAmount:function(t,e){var n=String(t);n.length>18&&(n=n.substring(0,18),this.$forceUpdate()),this.$emit("input",n,e)},onInputChange:function(t){var e=(t.target.value||"").replace(/[^(0-9.)]/g,"");e<0&&(e=""),this.emitAmount(e,!1)}}},o=(n(1388),n(4)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"staking-input"},[r("input",{staticClass:"bold",attrs:{type:"number",placeholder:"0 "+t.operationCoinName},domProps:{value:t.amount},on:{input:t.onInputChange}}),r("button",{staticClass:"touch",on:{click:t.onClickMax}},[t._v("Max")]),r("div",{staticClass:"balance"},[r("img",{attrs:{src:n(700)}}),r("span",{staticClass:"num"},[t._v(t._s(t.displayCoinBalance))])]),r("div",{staticClass:"right-input-background"}),t.amount>0?r("div",{staticClass:"displayInput"},[r("span",{staticClass:"num"},[t._v(t._s(t.amount))]),r("span",{staticClass:"name"},[t._v(" "+t._s(t.operationCoinName))])]):t._e()])}),[],!1,null,"0bff810e",null);e.a=component.exports},1380:function(t,e,n){"use strict";var r=n(283);n.n(r).a},1381:function(t,e,n){"use strict";var r=n(284);n.n(r).a},1382:function(t,e,n){"use strict";var r=n(285);n.n(r).a},1383:function(t,e,n){"use strict";var r=n(286);n.n(r).a},1384:function(t,e,n){"use strict";var r=n(287);n.n(r).a},1385:function(t,e,n){"use strict";var r=n(288);n.n(r).a},1386:function(t,e,n){"use strict";var r=n(289);n.n(r).a},1387:function(t,e,n){"use strict";var r=n(290);n.n(r).a},1388:function(t,e,n){"use strict";var r=n(291);n.n(r).a},1389:function(t,e,n){"use strict";var r=n(292);n.n(r).a},1390:function(t,e,n){"use strict";var r=n(293);n.n(r).a},1391:function(t,e,n){"use strict";var r=n(294);n.n(r).a},1392:function(t,e,n){"use strict";var r=n(295);n.n(r).a},1393:function(t,e,n){"use strict";var r=n(296);n.n(r).a},1395:function(t,e,n){"use strict";var r=n(297);n.n(r).a},1396:function(t,e,n){"use strict";var r=n(298);n.n(r).a},1397:function(t,e,n){"use strict";var r=n(299);n.n(r).a},1398:function(t,e,n){"use strict";var r=n(300);n.n(r).a},1399:function(t,e,n){"use strict";var r=n(301);n.n(r).a},1400:function(t,e,n){"use strict";var r=n(302);n.n(r).a},1401:function(t,e,n){"use strict";var r=n(303);n.n(r).a},1402:function(t,e,n){"use strict";var r=n(304);n.n(r).a},1403:function(t,e,n){"use strict";var r=n(305);n.n(r).a},1404:function(t,e,n){"use strict";var r=n(306);n.n(r).a},1405:function(t,e,n){"use strict";var r=n(307);n.n(r).a},1406:function(t,e,n){"use strict";var r=n(308);n.n(r).a},1407:function(t,e,n){"use strict";var r=n(309);n.n(r).a},1409:function(t,e,n){"use strict";var r=n(310);n.n(r).a},1410:function(t,e,n){"use strict";var r=n(311);n.n(r).a},1411:function(t,e,n){"use strict";var r=n(312);n.n(r).a},1412:function(t,e,n){"use strict";var r=n(313);n.n(r).a},1413:function(t,e,n){"use strict";var r=n(314);n.n(r).a},1414:function(t,e,n){"use strict";var r=n(315);n.n(r).a},1415:function(t,e,n){"use strict";var r=n(316);n.n(r).a},1416:function(t,e,n){"use strict";var r=n(317);n.n(r).a},1417:function(t,e,n){"use strict";var r=n(318);n.n(r).a},1418:function(t,e,n){"use strict";var r=n(319);n.n(r).a},1419:function(t,e,n){"use strict";var r=n(320);n.n(r).a},1420:function(t,e,n){"use strict";var r=n(321);n.n(r).a},1421:function(t,e,n){"use strict";var r=n(322);n.n(r).a},1422:function(t,e,n){"use strict";var r=n(323);n.n(r).a},1423:function(t,e,n){"use strict";var r=n(324);n.n(r).a},1424:function(t,e,n){"use strict";var r=n(325);n.n(r).a},1425:function(t,e,n){"use strict";var r=n(326);n.n(r).a},1426:function(t,e,n){"use strict";var r=n(327);n.n(r).a},1427:function(t,e,n){"use strict";var r=n(328);n.n(r).a},1428:function(t,e,n){"use strict";var r=n(329);n.n(r).a},1429:function(t,e,n){"use strict";var r=n(330);n.n(r).a},1430:function(t,e,n){"use strict";var r=n(331);n.n(r).a},1431:function(t,e,n){"use strict";var r=n(332);n.n(r).a},1432:function(t,e,n){"use strict";var r=n(333);n.n(r).a},1433:function(t,e,n){"use strict";var r=n(334);n.n(r).a},1434:function(t,e,n){"use strict";var r=n(335);n.n(r).a},1435:function(t,e,n){"use strict";var r=n(336);n.n(r).a},1436:function(t,e,n){"use strict";var r=n(337);n.n(r).a},1437:function(t,e,n){"use strict";var r=n(338);n.n(r).a},1438:function(t,e,n){"use strict";var r=n(339);n.n(r).a},1440:function(t,e,n){"use strict";var r=n(340);n.n(r).a},1441:function(t,e,n){"use strict";var r=n(341);n.n(r).a},1442:function(t,e,n){"use strict";var r=n(342);n.n(r).a},1443:function(t,e,n){"use strict";var r=n(343);n.n(r).a},1444:function(t,e,n){"use strict";var r=n(344);n.n(r).a},1514:function(t,e,n){"use strict";n.r(e);n(56),n(39),n(27),n(38),n(34),n(35);var r=n(42),o=n(18),l=(n(20),n(17),n(2)),c=(n(19),n(630),n(14),n(176)),d=n(13),h=n(16),f=n.n(h),m=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"wallet"},[e("img",{attrs:{src:n(700)}})])}],v=(n(46),n(29),n(36),{props:{amount:{type:[Number,String],default:""},needsDexApproval:{type:Boolean,default:!1},role:{type:String,default:"sell"},selectedItem:{type:Object,default:function(){return{}}},sellCoin:{type:Object,default:function(){return{}}},getCoin:{type:Object,default:function(){return{}}},coinBalance:{type:Object,default:function(){return{}}},currentNetwork:{type:String,default:""},userSelectCrossToNetwork:{type:String,default:""},isCrossMode:{type:Boolean,default:!1}},data:function(){return{coinList:this.$DI.get("Coin").dexCoinList(),initEmit:!1,searchText:"",chainSelectVisible:!1,coinSelectVisible:!1,targetChainBalanceArr:[]}},computed:{isChainSelectAvailable:function(){return!this.isSell&&!this.isChainBaseGoerli},availableNetworkConfigArr:function(){return this.$DI.get("Network").getAvailableNetworkConfigArr()},networkDropdownArr:function(){var t=this,e=this.availableNetworkConfigArr.filter((function(e){return e.key!==t.userSelectCrossToNetwork})).filter((function(t){return"base_goerli"!==t.key&&"zksync"!==t.key}));return"ethereum"===this.currentNetwork?e.filter((function(t){return"ethereum"!==t.key})):e},isChainBaseGoerli:function(){return"base_goerli"===this.$DI.get("CURRENT_NETWORK")||"zksync_goerli"===this.$DI.get("CURRENT_NETWORK")||"zksync"===this.$DI.get("CURRENT_NETWORK")},currentChainConfig:function(){var t=this;return this.isSell?this.availableNetworkConfigArr.filter((function(e){return e.key===t.currentNetwork}))[0].config:this.userSelectCrossToNetwork?this.availableNetworkConfigArr.filter((function(e){return e.key===t.userSelectCrossToNetwork}))[0].config:{}},isDark:function(){return this.$store.state.setting.isDark},displayCoinListWithOrder:function(){var t=this;if(this.isCrossMode&&this.isGet)return this.$DI.get("Coin").getCrossCoinListByNetworkName(this.userSelectCrossToNetwork);var e=this.coinList.filter((function(e){return e.name.includes(String(t.searchText).toLocaleLowerCase())})).sort((function(a,b){var e=t.coinBalance[a.name],n=t.coinBalance[b.name];return e?n?n.balance*(b.mockPrice||1)-e.balance*(a.mockPrice||1):-1:1}));if(this.isCrossMode&&this.isSell){var n=this.$DI.get("Coin").getTargetChainConfig(this.currentNetwork).crossCoinList;return e.filter((function(t){return n.includes(t.name)}))}return e},balance:function(){return this.isCrossMode&&this.isGet?this.selectedItem.name&&this.targetChainBalanceArr.length?this.getDisplayCoinBalanceFromApi(this.selectedItem):"--":this.selectedItem.name&&this.coinBalance[this.selectedItem.name]?this.cutNumber(this.coinBalance[this.selectedItem.name].balance,this.selectedItem.fix):"--"},id:function(){return"".concat(this.role,"DexCoinInput")},chainId:function(){return"".concat(this.role,"swap-chain-select-dropdown")},isSell:function(){return"sell"===this.role},isGet:function(){return!this.isSell},userAddress:function(){return this.$store.state.auth.address}},watch:{userAddress:{handler:function(t){t&&this.getUserBalanceByChain()},immediate:!0},userSelectCrossToNetwork:{handler:function(){if(this.isGet){this.getUserBalanceByChain();var t=this.displayCoinListWithOrder[0];this.sellCoin.name===t.name&&(t=this.displayCoinListWithOrder[1]),t&&this.emitSelect(t)}}},coinBalance:function(t){this.initEmit||t.wbnb&&(this.isGet?this.onSelectClick(this.coinList.filter((function(t){return"usdt"===t.name}))[0]):this.onSelectClick(this.coinList.filter((function(t){return"wbnb"===t.name}))[0]),this.initEmit=!0)}},mounted:function(){var t=this;this.$DI.get("Vue").$on("onBodyClick",(function(e){e(t.id)&&(t.coinSelectVisible=!1),e(t.chainId)&&(t.chainSelectVisible=!1)}))},methods:{onClickMax:function(){this.isSell&&this.$emit("max")},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},getDisplayBalance:function(t){if(this.isCrossMode&&this.isGet)return this.getDisplayCoinBalanceFromApi(t);var e=this.coinBalance[t.name];return e?this.cutNumber(e.balance,t.fix):"--"},checkInput:function(t){},onInputChange:function(t){var e=(t.target.value||"").replace(/[^(0-9.)]/g,"");this.checkInput(e),e<0&&(e=""),this.$emit("input",e)},emitSelect:function(t){this.$emit("select",t)},onSelectClick:function(t){this.coinSelectVisible=!1,this.emitSelect(t)},onClickDropdown:function(){this.coinSelectVisible=!this.coinSelectVisible,this.searchText=""},onSelectChainDropdown:function(){this.isChainBaseGoerli||this.isSell||(this.chainSelectVisible=!this.chainSelectVisible)},onClickChain:function(t){this.$emit("chain",t)},getDisplayCoinBalanceFromApi:function(t){var e=this.getCoinBalanceFromApi(t);if(!e)return this.targetChainBalanceArr.length?"0":"--";var n=this.$DI.get("Utils").toSmallNumber(e.balance,e.contract_decimals);return this.cutNumber(n,t.fix)},getCoinBalanceFromApi:function(t){var e=this;return this.targetChainBalanceArr.filter((function(n){return t.isCrossSwapSpecialGasCoin?n.contract_address===e.$DI.get("Constant").nativeEthTokenContract():n.contract_address===t.contract.toLowerCase()}))[0]},getUserBalanceByChain:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isSell){e.next=3;break}return t.targetChainBalanceArr=[],e.abrupt("return");case 3:if(t.userAddress){e.next=6;break}return t.targetChainBalanceArr=[],e.abrupt("return");case 6:return e.next=8,t.$DI.get("DexHttp").getUserBalanceByChain(t.userAddress,t.userSelectCrossToNetwork);case 8:n=e.sent,t.targetChainBalanceArr=n.items;case 10:case"end":return e.stop()}}),e)})))()}}}),C=(n(1424),n(4)),y=Object(C.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"coin-input"},[r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"chain-tab",attrs:{id:t.chainId}},[r("div",{staticClass:"to-touch",class:{touch:t.isChainSelectAvailable},on:{click:t.onSelectChainDropdown}},[r("div",{staticClass:"tab-name"}),r("div",{staticClass:"tab-select select"},[r("div",{staticClass:"current-chain flex-align"},[r("img",{staticClass:"icon",attrs:{src:t.currentChainConfig.chainLogo}}),r("span",{staticClass:"bold"},[t._v(t._s(t.currentChainConfig.chainNameShort))]),t.isChainSelectAvailable?r("img",{staticClass:"down",class:{up:t.chainSelectVisible},attrs:{src:n(192)}}):t._e()])])]),t.chainSelectVisible?r("div",{staticClass:"switch-list-wrapper"},[r("div",{staticClass:"switch-list"},t._l(t.networkDropdownArr,(function(e){return r("div",{key:e.key,staticClass:"item flex-align touch",on:{click:function(n){return t.onClickChain(e)}}},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:e.config.chainLogo}})]),r("div",{staticClass:"info bold"},[t._v(t._s(e.config.chainNameShort))])])})),0)]):t._e()]),r("div",{staticClass:"coin-tab",attrs:{id:t.id}},[r("div",{staticClass:"to-touch flex-align touch",on:{click:t.onClickDropdown}},[r("div",{staticClass:"coin-icon"},[r("img",{attrs:{src:t.selectedItem.logo}})]),r("div",{staticClass:"coin-right"},[r("div",{staticClass:"tab-name"}),r("div",{staticClass:"coin-select"},[r("div",{staticClass:"current-coin select flex-align"},[r("span",{staticClass:"bold"},[t._v(t._s(t.selectedItem.displayName))]),r("img",{staticClass:"down",class:{up:t.coinSelectVisible},attrs:{src:n(192)}})])])])]),t.coinSelectVisible?r("div",{staticClass:"coin-list"},[r("div",{staticClass:"search-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:'Try "WOO"'},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),r("img",{attrs:{src:n(701)}})]),r("div",{staticClass:"list-container"},[t._l(t.displayCoinListWithOrder,(function(e){return r("div",{key:e.name,staticClass:"item touch flex-all",on:{click:function(n){return t.onSelectClick(e)}}},[r("div",{staticClass:"left flex-align"},[r("img",{staticClass:"logo",attrs:{src:e.logo}}),r("div",{staticClass:"name"},[t._v(t._s(e.displayName))])]),r("div",{staticClass:"right"},[t._v(t._s(t.getDisplayBalance(e)))])])})),t.searchText&&!t.displayCoinListWithOrder.length?r("div",{staticClass:"no-result"},[r("img",{attrs:{src:n(1482)}}),r("div",{staticClass:"text"},[t._v("No matching results found")])]):t._e()],2)]):t._e()])]),r("div",{staticClass:"main flex-all"},[r("input",{staticClass:"bold",attrs:{type:"number",placeholder:"0",readonly:t.isGet},domProps:{value:t.amount},on:{input:t.onInputChange}}),r("div",{staticClass:"balance flex-all",class:{touch:t.isSell,disabled:t.isGet},on:{click:t.onClickMax}},[t._m(0),r("div",{staticClass:"num"},[t._v(t._s(t.balance))])])])])}),m,!1,null,"8b9ff196",null).exports,_={props:{disabledCoin:{type:Array,default:function(){return[]}}},data:function(){return{visible:!1,slippageTolerance:localStorage.getItem("SWAP_SETTING_TOLERANCE")||1,transactionDeadline:localStorage.getItem("SWAP_SETTING_DEADLINE")||30,deadlineInputError:"",toleranceInputError:"",expertMode:!1,disableMulthops:!1,isAudio:!1}},computed:{isEn:function(){return"en"===this.$i18n.locale}},methods:{onClickSave:function(){this.visible=!1},onToleranceInput:function(t){var e=t.target.value;e>0?(this.toleranceInputError="",localStorage.setItem("SWAP_SETTING_TOLERANCE",Number(e)),this.$emit("settingChange")):this.toleranceInputError=this.isEn?"Invalid Input":"请输入数字"},onDeadlineInput:function(t){var e=t.target.value;e>0?(this.deadlineInputError="",localStorage.setItem("SWAP_SETTING_DEADLINE",e)):this.deadlineInputError=this.isEn?"Invalid Input":"请输入数字"},onClickTolerance:function(t){this.slippageTolerance=t,localStorage.setItem("SWAP_SETTING_TOLERANCE",t),this.$emit("settingChange"),this.toleranceInputError=""},isActiveClass:function(t){return this.slippageTolerance===t},triggerDialog:function(){this.visible=!this.visible}}},w=(n(1425),Object(C.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"setting"},[r("el-dialog",{attrs:{title:t.$t("swap.Setting"),visible:t.visible,width:t.$isFromMobile?"90%":"500px","custom-class":"normal-dialog"},on:{"update:visible":function(e){t.visible=e}}},[r("div",{staticClass:"dialog"},[r("div",{staticClass:"item"},[r("div",{staticClass:"title flex-align"},[r("span",[t._v("Slippage tolerance")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("swap.Slippagetolerancetip")))]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"main"},[r("div",{staticClass:"slippage flex-align"},[r("div",{staticClass:"block touch-opacity bold",class:{active:t.isActiveClass(.5)},on:{click:function(e){return t.onClickTolerance(.5)}}},[t._v("0.5%")]),r("div",{staticClass:"block touch-opacity bold",class:{active:t.isActiveClass(1)},on:{click:function(e){return t.onClickTolerance(1)}}},[t._v("1%")]),r("div",{staticClass:"block touch-opacity bold",class:{active:t.isActiveClass(2)},on:{click:function(e){return t.onClickTolerance(2)}}},[t._v("2%")]),r("div",{staticClass:"custom"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.slippageTolerance,expression:"slippageTolerance"}],class:{correct:t.slippageTolerance&&!t.toleranceInputError},attrs:{type:"number"},domProps:{value:t.slippageTolerance},on:{input:[function(e){e.target.composing||(t.slippageTolerance=e.target.value)},t.onToleranceInput]}}),r("span",[t._v("%")]),r("span",{staticClass:"error fly"},[t._v(t._s(t.toleranceInputError))])])]),!t.toleranceInputError&&t.slippageTolerance<=.5?r("div",{staticClass:"note"},[t._v("Your transaction has a certain probability of reverting if the set number is less than 0.5%. Slippage tolerance for cross chain swaps cannot be lower than 1%.")]):t._e()])]),r("div",{staticClass:"item"},[r("div",{staticClass:"title flex-align"},[r("span",[t._v("Transaction deadline")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("swap.Transactiondeadlinetip")))]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"main"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.transactionDeadline,expression:"transactionDeadline"}],class:{correct:t.transactionDeadline&&!t.deadlineInputError},attrs:{type:"number"},domProps:{value:t.transactionDeadline},on:{input:[function(e){e.target.composing||(t.transactionDeadline=e.target.value)},t.onDeadlineInput]}}),r("span",[t._v(t._s(t.$t("swap.Minutes")))]),r("span",{staticClass:"error"},[t._v(t._s(t.deadlineInputError))])])]),r("div",{staticClass:"item flex-all hide"},[r("div",{staticClass:"title flex-align"},[r("span",[t._v("Toggte expert mode")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("Bypasses confirmation modals and allows high slippage trades. Use at your own risk.")]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"switch"},[r("el-switch",{model:{value:t.expertMode,callback:function(e){t.expertMode=e},expression:"expertMode"}})],1)]),r("div",{staticClass:"operation"},[r("el-button",{attrs:{type:"primary"},on:{click:t.onClickSave}},[t._v(t._s(t.$t("swap.Save")))])],1)])])],1)}),[],!1,null,"575279a6",null).exports),k=(n(97),{props:{width:{type:[Number,String],default:42},coin:{type:Object,default:function(){return{}}},chain:{type:String,default:""}},computed:{chainInfoByKey:function(){var t=this;return this.chain?this.availableNetwork.find((function(e){return e.key===t.chain})).logo:""},availableNetwork:function(){return this.$DI.get("Network").getNetworkListArray()}}}),x=(n(1426),Object(C.a)(k,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"cross-coin",style:{width:this.width+"px",height:this.width+"px"}},[e("img",{staticClass:"coin",attrs:{src:this.coin.logo}}),e("div",{staticClass:"chain",style:{width:.6*this.width+"px",height:.6*this.width+"px"}},[e("img",{attrs:{src:this.chainInfoByKey}})])])}),[],!1,null,"b2c0fa86",null).exports),D={optimism:5e-4,arbitrum:5e-4,polygon:.2,fantom:.1,bsc:.005,avax:.02,ethereum:.005},S={components:{CrossCoinLogo:x},props:{wooInfo:{type:Object,default:function(){return{}}},dodoInfo:{type:Object,default:function(){return{}}},dodoDexInfo:{type:Object,default:function(){return{}}},isFetchPriceContractError:{type:Boolean,default:!1},sellCoin:{type:Object,default:function(){return{}}},getCoin:{type:Object,default:function(){return{}}},sellPrice:{type:[Number,String],default:0},getAmount:{type:[Number,String],default:0},sellAmount:{type:[Number,String],default:0},slippageTolerance:{type:[Number,String],default:""},getAmountMin:{type:[Number,String],default:""},refId:{type:[Number,String],default:""},sourceName:{type:String,default:"DODO"},crossTargetAddress:{type:String,default:""},userSelectCrossToNetwork:{type:String,default:""},crossPriceInfo:{type:Object,default:function(){return{}}},sellAmountBig:{type:[Object,String],default:function(){return{}}}},data:function(){return{swapConfirmVisible:!1,currentActionObject:{},exchangeRateMethod:!0,dodoPriceImpactLimit:.05,sendTargetChainExtraGas:!1,calGasExtra:"",calGas:""}},computed:{isHighGas:function(){if(this.calGas){var t=Number(this.$DI.get("Network").getNetworkConfig().maxPrepayCrossGas),e=this.$DI.get("Network").getNetworkCurrency();if(Number(d.a.utils.formatUnits(this.calGas,e.decimals))>t)return!0}return!1},targetChainExtraGas:function(){return D[this.userSelectCrossToNetwork]||0},targetChainExtraGasToken:function(){return this.$DI.get("Coin").getTargetChainConfig(this.userSelectCrossToNetwork).coins.filter((function(t){return t.isCrossSwapSpecialGasCoin}))[0]||{}},targetChainExtraGasTokenUsd:function(){var t=this.targetChainExtraGasToken.mockPrice,e=this.targetChainExtraGas*t;return this.cutNumber(e,2)},targetChainExtraGasBig:function(){return this.$DI.get("Utils").toBigNumber(this.targetChainExtraGas,this.targetChainExtraGasToken.decimals)},displayAddedGas:function(){if(!this.calGas)return"--";var t=this.sendTargetChainExtraGas?this.calGasExtra:this.calGas,e=this.$DI.get("Network").getNetworkCurrency();return this.cutNumber(this.toSmallNumber(t,e.decimals),e.fix)+" "+e.symbol},targetChainInfo:function(){return this.$DI.get("Network").getNetworkConfigByName(this.userSelectCrossToNetwork)},displayExtraGas:function(){if(!this.calGas)return 0;var t=this.$DI.get("Network").getNetworkCurrency(),e=this.$DI.get("Utils").toSmallNumber(this.calGasExtra,t.decimals)-this.$DI.get("Utils").toSmallNumber(this.calGas,t.decimals);return this.cutNumber(e,t.fix+2)+t.symbol},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},isPolygon:function(){return"polygon"===this.currentNetwork},isCrossMode:function(){return this.userSelectCrossToNetwork!==this.currentNetwork},swapBtnText:function(){return this.isSwapDisabled?"The current rate for your transfer is low":this.crossTargetAddress?"Confirm Swap to "+(this.crossTargetAddress.slice(0,6)+"..."+this.crossTargetAddress.slice(-4)):this.$t("swap.ConfirmSwap")},isSwapDisabled:function(){if(this.isFetchPriceContractError){if(this.dodoDexInfo.priceImpact>=this.dodoPriceImpactLimit)return!0;if(this.dodoDexInfo.resAmount<this.notDodoMiniGetAmount)return!0}return!1},displayPriceImpact:function(){return this.dodoDexInfo.priceImpact<1e-4?"<0.01%":this.cutNumber(100*this.dodoDexInfo.priceImpact,2)+"%"},isDoDoLoading:function(){return this.isFetchPriceContractError&&!this.dodoDexInfo},notDodoMiniGetAmount:function(){return this.getAmount*(100-this.slippageTolerance)/100},displayMiniGetAmount:function(){return this.isFetchPriceContractError?this.cutNumber(this.dodoDexInfo.resAmount*(100-this.slippageTolerance)/100,this.getCoin.fix):this.cutNumber(this.notDodoMiniGetAmount,this.getCoin.fix)},displayGetAmount:function(){return this.isFetchPriceContractError?this.cutNumber(this.dodoDexInfo.resAmount,this.getCoin.fix):this.cutNumber(this.getAmount,this.getCoin.fix)},activeDexObj:function(){return this.wooInfo.name?this.wooInfo:this.dodoInfo.name?this.dodoInfo:{}},displayExchangeRate:function(){if(this.isCrossMode){if(!this.exchangeRateMethod){var t=this.cutNumber(1/this.crossPriceInfo.price,this.getCoin.fix);return"1 ".concat(this.getCoin.displayName," = ").concat(t," ").concat(this.sellCoin.displayName)}var e=this.cutNumber(this.crossPriceInfo.price,this.getCoin.fix);return"1 ".concat(this.sellCoin.displayName," = ").concat(e," ").concat(this.getCoin.displayName)}if(this.exchangeRateMethod){var n=this.activeDexObj.displayPrice||"--";return this.isFetchPriceContractError&&(n=this.cutNumber(this.dodoDexInfo.resPricePerFromToken,this.sellCoin.fix)),"1 ".concat(this.sellCoin.displayName," = ").concat(n," ").concat(this.getCoin.displayName)}var r=this.activeDexObj.displayPrice?this.cutNumber(1/this.activeDexObj.displayPrice,this.sellCoin.fix):"--";return this.isFetchPriceContractError&&(r=this.cutNumber(this.dodoDexInfo.resPricePerToToken,this.getCoin.fix)),"1 ".concat(this.getCoin.displayName," = ").concat(r," ").concat(this.sellCoin.displayName)},tradingFeeWoofi:function(){return this.crossPriceInfo.woofi_fee?this.toSmallNumber(this.crossPriceInfo.woofi_fee,18):0},tradingFeeStargate:function(){return this.crossPriceInfo.stargate_fee?this.toSmallNumber(this.crossPriceInfo.stargate_fee,18):0},displayTotalTradingFee:function(){var t=+this.tradingFeeWoofi+ +this.tradingFeeStargate;return this.cutNumber(t,4)}},watch:{refId:{immediate:!0,handler:function(t){t&&this.fetchCalGas()}}},methods:{toSmallNumber:function(t,e){return this.$DI.get("Utils").toSmallNumber(t,e)},onClickExtraGas:function(){this.sendTargetChainExtraGas=!this.sendTargetChainExtraGas},onClickSwapExchangeRate:function(){this.exchangeRateMethod=!this.exchangeRateMethod},getRoute:function(){return this.isCrossMode?this.crossPriceInfo.route_symbols.src.concat(this.crossPriceInfo.route_symbols.dst).join(">"):this.activeDexObj.route?this.activeDexObj.route.join(" > "):"".concat(this.sellCoin.displayName," > ").concat(this.getCoin.displayName)},getDexName:function(){return this.isCrossMode?"WOOFi":this.isFetchPriceContractError?this.sourceName||"-":this.activeDexObj.name||"-"},getSwapFee:function(){var t=this.activeDexObj.displayTradingFee;return t>=0?t:"--"},cutNumber:function(t,e){return this.$DI.get("Utils").cutNumber(t,e)},openDialog:function(){this.swapConfirmVisible=!0,this.exchangeRateMethod=!0,this.sendTargetChainExtraGas=!1},closeDialog:function(){this.swapConfirmVisible=!1},onSwapAction:function(){this.swapConfirmVisible=!1,this.$emit("confirm",this.sendTargetChainExtraGas?this.targetChainExtraGasBig:"0")},fetchCalGas:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,l,c,h,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.calGasExtra="",t.calGas="",n=t.$DI.get("Utils").toBigNumber(t.getAmountMin,t.getCoin.decimals),o=t.crossPriceInfo.route_amounts.src.slice(-1),l=Object(r.a)(o,1),c=l[0],h=d.a.BigNumber.from(c).mul(100-t.slippageTolerance).div(100),e.next=7,t.$DI.get("Web3").crossChainMethods.getCrossChainSwapFee(t.userSelectCrossToNetwork,t.sellCoin,t.getCoin,t.sellAmountBig,n,h,t.refId,t.crossTargetAddress,t.targetChainExtraGasBig,t.crossPriceInfo);case 7:return f=e.sent,e.next=10,t.$DI.get("Web3").crossChainMethods.getCrossChainSwapFee(t.userSelectCrossToNetwork,t.sellCoin,t.getCoin,t.sellAmountBig,n,h,t.refId,t.crossTargetAddress,"0",t.crossPriceInfo);case 10:m=e.sent,t.calGasExtra=String(f),t.calGas=String(m);case 13:case"end":return e.stop()}}),e)})))()}}},I=(n(1427),Object(C.a)(S,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"confirm"},[r("el-dialog",{attrs:{title:t.isCrossMode?"Confirm Cross-Chain Swap":"Confirm Swap",visible:t.swapConfirmVisible,width:t.$isFromMobile?"90%":"540px","custom-class":"normal-dialog"},on:{"update:visible":function(e){t.swapConfirmVisible=e}}},[t.isDoDoLoading?r("div",{staticClass:"confirm-loading"},[r("img",{attrs:{src:n(710)}})]):t.swapConfirmVisible?r("div",{staticClass:"confirm-dialog"},[r("div",{staticClass:"tokens bold"},[r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left flex-align"},[t.isCrossMode?r("CrossCoinLogo",{attrs:{width:"35",coin:t.sellCoin,chain:t.currentNetwork}}):r("img",{staticClass:"logo",attrs:{src:t.sellCoin.logo}}),r("div",{staticClass:"amount"},[t._v(t._s(t.cutNumber(t.sellAmount,t.sellCoin.fix)))])],1),r("div",{staticClass:"name"},[t._v(t._s(t.sellCoin.displayName))])]),r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"to"},[r("img",{attrs:{src:n(465)}})])]),r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left flex-align"},[t.isCrossMode?r("CrossCoinLogo",{attrs:{width:"35",coin:t.getCoin,chain:t.userSelectCrossToNetwork}}):r("img",{staticClass:"logo",attrs:{src:t.getCoin.logo}}),r("div",{staticClass:"amount"},[t._v(t._s(t.displayGetAmount))])],1),r("div",{staticClass:"name"},[t._v(t._s(t.getCoin.displayName))])])]),t.isCrossMode?r("div",{staticClass:"tip"},[t.isHighGas?[r("p",{staticClass:"high-gas-tip"},[t._v("Attention: "),r("span",[t._v(t._s(t.displayAddedGas))]),t._v(" will be charged to cover the swap gas on the destination chain. The gas fee is too high than usual and we suggest you swap later.")]),r("p",[t._v("If the swap fails, you will receive an equivalent value of "+t._s(t.crossPriceInfo.route_symbols.dst[0])+".")])]:t.crossPriceInfo.route_symbols.dst[1]?[r("p",[t._v("Output is estimated. You will receive at least "+t._s(t.displayMiniGetAmount)+" "+t._s(t.getCoin.displayName)+".")]),r("p",[t._v("An additional"),r("span",{staticStyle:{color:"#73BEF4",padding:"0 4px"}},[t._v(t._s(t.displayAddedGas))]),t._v("will be charged to cover the swap gas on the destination chain. If the swap fails, you will receive an equivalent value of "+t._s(t.crossPriceInfo.route_symbols.dst[0])+".")])]:[r("p",[t._v("Output is estimated. Your will receive at least "+t._s(t.displayMiniGetAmount)+" "+t._s(t.getCoin.displayName)+" or the transaction will revert.")]),r("p",[t._v("An additional"),r("span",{staticStyle:{color:"#73BEF4",padding:"0 4px"}},[t._v(t._s(t.displayAddedGas))]),t._v("will be charged to cover the gas cost on the destination chain.")])],t.isPolygon?[r("p",[t._v("Cross chain swap initiated from Polygon may take"),r("span",{staticStyle:{color:"#73BEF4",padding:"0 4px"}},[t._v("20 mins")]),t._v("to complete due to the settings of Layerzero.")])]:t._e()],2):r("div",{staticClass:"tip"},[t._v("Output is estimated. You will receive at least"),r("span",{staticClass:"bold"},[t._v(" "+t._s(t.displayMiniGetAmount)+" "+t._s(t.getCoin.displayName))]),t._v(" or the transaction will revert.")]),r("div",{staticClass:"info"},[r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left"},[t._v("Rate")]),r("div",{staticClass:"right flex-align-just-center"},[r("span",[t._v(t._s(t.displayExchangeRate))]),r("img",{staticClass:"swap touch",attrs:{src:n(1483)},on:{click:t.onClickSwapExchangeRate}})])]),r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v("Route ("+t._s(t.getDexName())+")")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("Routing through these tokens resulted in the best price for your trade.")]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"right"},[t._v(t._s(t.getRoute()))])]),r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v(t._s(t.$t("swap.Minimumreceived")))]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v(t._s(t.$t("swap.MinimumReceivedtip")))]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"right"},[t._v(t._s(t.displayMiniGetAmount)+" "+t._s(t.getCoin.displayName))])]),t.isFetchPriceContractError&&t.dodoDexInfo.priceImpact?r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v("Price impact")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("The difference between the market price and estimated price due to trade size.")]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"right",class:{highImpace:this.dodoDexInfo.priceImpact>=t.dodoPriceImpactLimit}},[t._v(t._s(t.displayPriceImpact))])]):t._e(),r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v("Trading fee")])]),t.isCrossMode?r("div",{staticClass:"right"},[t._v("$"+t._s(t.displayTotalTradingFee))]):r("div",{staticClass:"right"},[t._v(t._s(t.getSwapFee())+" "+t._s(t.sellCoin.displayName))])]),r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v("Slippage tolerance")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[r("span",[t._v("Your transaction will revert if the price changes unfavorably by more than this percentage.")]),t.isCrossMode?r("span",[t._v("The lowest slippage tolerance is 1% for cross chain swaps.")]):t._e(),t.isFetchPriceContractError?r("span",[t._v("The minimum slippage is 1% when the trade is routed to a 3rd party aggregator.")]):t._e()]),r("img",{attrs:{src:n(82)}})])],1),r("div",{staticClass:"right"},[t._v(t._s(t.slippageTolerance)+"%")])])]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isCrossMode,expression:"isCrossMode"}],staticClass:"info extra-gas"},[r("div",{staticClass:"each flex-all"},[r("div",{staticClass:"left flex-align"},[r("div",{staticClass:"note"},[t._v("Get "),r("span",[t._v(t._s(t.targetChainExtraGas)+" "+t._s(t.targetChainExtraGasToken.displayName))]),t._v(" on "+t._s(t.targetChainInfo.chainInfo.chainName))]),r("div",{staticClass:"tip flex-align"},[r("span",[t._v("($"+t._s(t.targetChainExtraGasTokenUsd)+")")]),r("el-tooltip",{attrs:{placement:"top"}},[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("Almost equivalent value of "+t._s(t.displayExtraGas)+" will be charged to get the gas token on the destination chain.")]),r("img",{attrs:{src:n(82)}})])],1)]),r("div",{staticClass:"right touch",on:{click:t.onClickExtraGas}},[t.sendTargetChainExtraGas?r("img",{staticClass:"check",attrs:{src:n(1485)}}):r("img",{staticClass:"check",attrs:{src:n(1484)}})])])]),r("div",{staticClass:"operation"},[r("el-button",{attrs:{type:"primary",disabled:t.isSwapDisabled},on:{click:t.onSwapAction}},[t._v(t._s(t.swapBtnText))])],1)]):t._e()])],1)}),[],!1,null,"498cbffc",null).exports),N={props:{sellCoin:{type:Object,default:function(){return{}}},getCoin:{type:Object,default:function(){return{}}},getAmount:{type:[Number,String],default:0},sellAmount:{type:[Number,String],default:0},isCrossMode:{type:Boolean,default:!1}},data:function(){return{swapConfirmVisible:!1}},computed:{isDark:function(){return this.$store.state.setting.isDark}},methods:{cutNumber:function(t,e){return this.$DI.get("Utils").cutNumber(t,e)},openDialog:function(){this.swapConfirmVisible=!0},closeDialog:function(){this.swapConfirmVisible=!1}}},A=(n(1428),Object(C.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"confirm"},[r("el-dialog",{attrs:{title:"Confirm Swap",visible:t.swapConfirmVisible,width:t.$isFromMobile?"90%":"460px"},on:{"update:visible":function(e){t.swapConfirmVisible=e}}},[t.swapConfirmVisible?r("div",{staticClass:"confirm-dialog"},[r("div",{staticClass:"l1"},[t.isDark?r("img",{attrs:{src:n(1486)}}):r("img",{attrs:{src:n(710)}})]),r("div",{staticClass:"t1 bold"},[t._v("Waiting For Confirmation")]),t.isCrossMode?t._e():r("div",{staticClass:"t2 bold"},[t._v("Swapping "+t._s(t.cutNumber(t.sellAmount,t.sellCoin.fix))+" "+t._s(t.sellCoin.displayName)+" for "+t._s(t.cutNumber(t.getAmount,t.getCoin.fix))+" "+t._s(t.getCoin.displayName))]),r("div",{staticClass:"t3 bold"},[t._v("Confirm this transaction in your wallet")])]):t._e()])],1)}),[],!1,null,"2c0e7190",null).exports),E={props:{getCoin:{type:Object,default:function(){return{}}},tx:{type:String,default:""}},data:function(){return{swapConfirmVisible:!1}},computed:{blockExplorerName:function(){return this.$DI.get("Network").getBlockExplorerName()}},methods:{isMetamask:function(){return this.$DI.get("Web3").isMetamask()},onAddCoin:function(){var t=this.getCoin,address=t.contract,e=t.logo,n={address:address,symbol:t.displayName,decimals:t.decimals,image:window.location.origin+e};this.$DI.get("Wallet").registerToken(n)},goToBscScan:function(){window.open("".concat(this.$DI.get("Network").getBlockExplorerUrl(),"/tx/").concat(this.tx),"_blank")},openDialog:function(){this.swapConfirmVisible=!0},closeDialog:function(){this.swapConfirmVisible=!1}}},T=(n(1429),Object(C.a)(E,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"confirm"},[r("el-dialog",{attrs:{title:"Confirm Swap",visible:t.swapConfirmVisible,width:t.$isFromMobile?"90%":"460px"},on:{"update:visible":function(e){t.swapConfirmVisible=e}}},[t.swapConfirmVisible?r("div",{staticClass:"confirm-dialog"},[r("div",{staticClass:"l1"},[r("img",{attrs:{src:n(1487)}})]),r("div",{staticClass:"t1 bold"},[t._v("Transaction Submitted")]),r("div",{staticClass:"view touch bold",on:{click:t.goToBscScan}},[t._v("View on "+t._s(t.blockExplorerName))]),t.isMetamask()?r("div",{staticClass:"add flex-all touch bold",on:{click:t.onAddCoin}},[r("div",{staticClass:"text"},[t._v("Add "+t._s(t.getCoin.displayName)+" to MetaMask")]),r("img",{attrs:{src:n(231)}})]):t._e(),r("div",{staticClass:"operation"},[r("el-button",{on:{click:function(e){t.swapConfirmVisible=!1}}},[t._v("Close")])],1)]):t._e()])],1)}),[],!1,null,"ea9b18f2",null).exports);n(1488),n(59),n(74),n(1489);function O(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function $(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?O(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):O(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var P={props:{sellAmountBig:{type:[Object,String],default:function(){return{}}},sellAmount:{type:[Number,String],default:0},sellCoin:{type:Object,default:function(){return{}}},getCoin:{type:Object,default:function(){return{}}},searchKey:{type:String,default:""},countDownPercent:{type:Number,default:0},fetchPriceContractError:{type:Boolean,default:!1}},data:function(){return{init:!1,dexListResult:{},subItemLoading:{0:!0,1:!0,2:!0,3:!0}}},computed:{currentNetworkName:function(){return this.$DI.get("Network").getNetworkChainInfo().chainName},fakeWooFallBack:function(){var t={bsc:"dodo",avax:"trader_joe",fantom:"spooky_swap",polygon:"uni_swap",optimism:"uni_swap",arbitrum:"sushi_swap",zksync:"velocore"}[this.$DI.get("CURRENT_NETWORK")];return t||console.error("no fake woo fallback"),t},isChainBaseGoerli:function(){return"base_goerli"===this.$DI.get("CURRENT_NETWORK")||"zksync_goerli"===this.$DI.get("CURRENT_NETWORK")},dexList:function(){var t={bsc:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"pancake_swap",name:"PancakeSwap",logo:n(1490)},{key:"bi_swap",name:"Biswap",logo:n(1491)},{key:"mdex",name:"Mdex",logo:n(1492)},{key:"dodo",name:"DODO"}],avax:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"trader_joe",name:"Trader Joe",logo:n(1493)},{key:"pangolin",name:"Pangolin",logo:n(1494)},{key:"sushi_swap",name:"SushiSwap",logo:n(466)}],fantom:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"spirit_swap",name:"Spirit Swap",logo:n(1495)},{key:"spooky_swap",name:"Spooky Swap",logo:n(1496)},{key:"solidly",name:"Solidly",logo:n(1497)}],polygon:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"quick_swap",name:"QuickSwap",logo:n(1498)},{key:"sushi_swap",name:"SushiSwap",logo:n(466)},{key:"uni_swap",name:"UniSwap",logo:n(467)}],arbitrum:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"sushi_swap",name:"SushiSwap",logo:n(466)},{key:"uni_swap",name:"UniSwap",logo:n(467)},{key:"curve",name:"Curve",logo:n(713)}],optimism:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"uni_swap",name:"UniSwap",logo:n(467)},{key:"curve",name:"Curve",logo:n(713)},{key:"velodrome",name:"Velodrome",logo:n(1499)},{key:"kyber_swap",name:"KyberSwap",logo:n(1500)}],base_goerli:[{key:"woo",name:"WOOFi",logo:n(94)}],zksync_goerli:[{key:"woo",name:"WOOFi",logo:n(94)}],zksync:[{key:"woo",name:"WOOFi",logo:n(94)},{key:"mute",name:"Mute.io",logo:n(1501)},{key:"velocore",name:"Velocore",logo:n(1502)}]}[this.$DI.get("CURRENT_NETWORK")];return t||console.error("no dex compare list for this network"),t},isDark:function(){return this.$store.state.setting.isDark},dexListSearching:function(){return!this.displayDexListResult.some((function(t){return"-"!==t.displayToAmount}))},displayDexListResult:function(){var t=this,e=Object.keys(this.dexListResult).map((function(e){return t.dexListResult[e]}));if(this.fetchPriceContractError){var n=this.dexListResult[this.fakeWooFallBack];n||(n=Object.values(this.dexListResult).sort((function(a,b){return b.toAmount-a.toAmount}))[0]);var r=this.dexList.filter((function(t){return"woo"===t.key}))[0];if(n){var o=JSON.parse(JSON.stringify(n));o=$($($({},o),r),{},{single_fee_percentage:.3,isActualDodo:!0}),e.unshift(o)}e=e.filter((function(t){return!("woo"===t.key&&!t.isActualDodo)}))}return e.filter((function(t){return t.to_amount})).filter((function(t){return"dodo"!==t.key})).sort((function(a,b){if(b.price===a.price){if("woo"===a.key)return-1;if("woo"===b.key)return 1}return b.price-a.price}))},displayDexListResultWoo:function(){var t=this.displayDexListResult.filter((function(t){return"woo"===t.key}));return t.length?t[0]:{}},displayDexListResultOthers:function(){return this.displayDexListResult.filter((function(t){return"woo"!==t.key}))},displayDexListResultOther:function(){var t=this.displayDexListResultOthers.filter((function(t,e){return 0===e}));return t.length?t[0]:{}},isWooBestPrice:function(){var t,e=this.displayDexListResultWoo.displayToAmount&&this.displayDexListResultOther.displayToAmount,n=this.displayDexListResultWoo.displayToAmount>=this.displayDexListResultOther.displayToAmount;return e&&"woo"===(null===(t=this.displayDexListResult[0])||void 0===t?void 0:t.key)&&n},feePercentageStyle:function(){return.025===this.displayDexListResultWoo.single_fee_percentage},displayMobileDexListResult:function(){var t=Array.from(this.displayDexListResult),e=t[0],n=null,r=t.findIndex((function(t){return"woo"===t.key}));if(-1!==r){var o=t[r];t.splice(r,1),t.unshift(o),n=o.key}return{resultArr:t,best:e.key,isWoo:n}},coinChange:function(){return{sellCoin:this.sellCoin,getCoin:this.getCoin}}},watch:{displayDexListResult:function(t){var e=this;t&&t.length>0&&this.$emit("currentBestInfo",t[0]),this.$isFromMobile&&t.forEach((function(t,n){setTimeout((function(){e.subItemLoading[n]=!1}),1e3)}))},displayDexListResultOthers:function(t){var e=this;("bsc"!==window.localStorage.getItem("CURRENT_NETWORK")||Object.keys(this.displayDexListResultWoo).length)&&t.forEach((function(t,n){setTimeout((function(){e.subItemLoading[n]=!1}),1e3)}))},coinChange:function(){this.dexListResult={}}},methods:{getDisplayExchangeRate:function(t){if(this.$DI.get("Coin").currentCoinConfig().stableCoinList.includes(this.sellCoin.name)){var e=Number(1/t.displayPrice).toFixed(this.sellCoin.fix);return"1 ".concat(this.getCoin.displayName," = ").concat(e," ").concat(this.sellCoin.displayName)}return"1 ".concat(this.sellCoin.displayName," = ").concat(t.displayPrice," ").concat(this.getCoin.displayName)},onClickRefresh:function(){this.$emit("refresh")},calcPercent:function(t){var base=this.displayDexListResultWoo.toAmount;return(t-base)/base*100},getPriceCompare:function(t){return this.displayDexListResultWoo.toAmount?this.calcPercent(t.toAmount).toFixed(2)+"%":"--"},getRiseFallStyle:function(t){return this.displayDexListResultWoo.toAmount?this.calcPercent(t.toAmount)>0?"rise":"fall":""},formatMoney:function(a,b){return this.$DI.get("Utils").formatMoney(a,b)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},toSmallNumber:function(t,e){return d.a.utils.formatUnits(String(t),e)},updateDexListResult:function(t,e,n){this.searchKey===e&&this.$set(this.dexListResult,t.key,n)},dexQueryCompare:function(t){var e=this;this.init||(this.init=!0),this.dexListResult={},this.subItemLoading={0:!0,1:!0,2:!0,3:!0},this.sellAmount?this.dexList.forEach(function(){var n=Object(l.a)(regeneratorRuntime.mark((function n(r){var o,l,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"woo"!==r.key){n.next=14;break}return n.prev=2,n.next=5,e.$DI.get("DexHttp").wooSwap({fromToken:e.sellCoin.contract,toToken:e.getCoin.contract,amount:e.sellAmountBig});case 5:o=n.sent,n.next=12;break;case 8:n.prev=8,n.t0=n.catch(2),o={to_amount:0,trading_fee:0},console.log("wooSwap error",n.t0);case 12:n.next=17;break;case 14:return n.next=16,e.$DI.get("DexHttp").swap({fromToken:e.sellCoin.contract,toToken:e.getCoin.contract,amount:e.sellAmountBig,dex:r.key});case 16:o=n.sent;case 17:l=e.toSmallNumber(o.to_amount,e.getCoin.decimals),c=e.toSmallNumber(o.trading_fee,e.sellCoin.decimals),d=$($($({},o),r),{},{toAmount:l,displayTradingFee:e.cutNumber(c,e.sellCoin.fix-1),displayPrice:e.cutNumber(o.price,e.getCoin.fix),displayToAmount:e.formatMoney(l,e.getCoin.fix-2)}),e.updateDexListResult(r,t,d),e.searchKey===t&&("woo"===r.key&&e.$emit("wooInfo",d),r.key===e.fakeWooFallBack&&e.$emit("dodoInfo",d)),e.$refs.CompareList&&(e.$refs.CompareList.scrollTop=0),n.next=28;break;case 25:n.prev=25,n.t1=n.catch(0),console.log("e: ",n.t1);case 28:case"end":return n.stop()}}),n,null,[[0,25],[2,8]])})));return function(t){return n.apply(this,arguments)}}()):this.init=!1},setMobileExchangeBest:function(t){return"woo"===t.key&&this.isWooBestPrice?"Best":"woo"!==t.key?this.getPriceCompare(t):void 0}}},R=(n(1430),n(1431),Object(C.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"exchange"},[t.$isFromMobile?[r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"title bold"},[t._v("Exchanges")]),t.$isFromMobile?t._e():r("div",{staticClass:"right"},[r("el-tooltip",{attrs:{placement:"left","popper-class":"auto-refresh-tip"}},[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("Price quote auto refreshes, Click here to refresh manually")]),r("div",{staticClass:"item touch",on:{click:t.onClickRefresh}},[r("el-progress",{attrs:{width:24,color:"#39B9ED","stroke-width":3,type:"circle",percentage:t.countDownPercent,"show-text":!1}})],1)])],1)]),r("div",{staticClass:"mid"},[t.init?t.dexListSearching?r("div",{staticClass:"searching flex-all"},[t._m(0)]):r("div",{ref:"CompareList",staticClass:"compare-list"},t._l(t.displayMobileDexListResult.resultArr,(function(e,n){return r("div",{key:e.key,staticClass:"item",class:{best:t.displayMobileDexListResult.best===e.key,woo:t.displayMobileDexListResult.isWoo===e.key,"css-loading":t.subItemLoading[n],no:!t.displayDexListResultWoo.toAmount}},[t.subItemLoading[n]?t._e():[r("div",{staticClass:"line name flex-all"},[r("div",{staticClass:"line-l flex-align"},[r("span",{staticClass:"coin"},[t._v(t._s(e.name))]),r("span",{staticClass:"label"},[t._v(t._s(t.setMobileExchangeBest(e)))])]),r("div",{staticClass:"line-r"},[t._v(t._s(e.displayToAmount)+" "+t._s(t.getCoin.displayName))])]),r("div",{staticClass:"line flex-all",class:{advantage:t.feePercentageStyle&&"woo"===e.key}},[r("div",{staticClass:"line-l"},[t._v("Trading fee ("+t._s(e.single_fee_percentage)+"%)")]),r("div",{staticClass:"line-r"},[t._v(t._s(e.displayTradingFee)+" "+t._s(t.sellCoin.displayName))])]),r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"line-l"},[t._v("Exchange rate")]),r("div",{staticClass:"line-r"},[t._v(t._s(t.getDisplayExchangeRate(e)))])])]],2)})),0):r("div",{staticClass:"no-data"},[t.isDark?r("img",{attrs:{src:n(711)}}):r("img",{attrs:{src:n(712)}}),r("div",{staticClass:"note"},[t._v("Enter amounts to get quotes and compare prices.")])])])]:r("div",{staticClass:"compare"},[t.init?t.isChainBaseGoerli&&t.fetchPriceContractError?r("div",{staticClass:"no-search"},[r("img",{attrs:{src:n(183)}}),r("span",[t._v("Please try again by changing the swap or token amount")])]):r("div",{staticClass:"result"},[r("div",{staticClass:"woo"},[r("div",{class:{"css-loading":!t.displayDexListResultWoo.key}}),t.displayDexListResultWoo.key?r("div",{staticClass:"item flex-all"},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:t.displayDexListResultWoo.logo}})]),r("div",{staticClass:"info"},[r("div",{staticClass:"line first title"},[r("div",{staticClass:"left"},[t._v("You Receive")]),r("div",{staticClass:"right"},[r("span",[t._v(t._s(t.displayDexListResultWoo.displayToAmount)+" "+t._s(t.getCoin.displayName))]),t.isWooBestPrice?r("span",{staticClass:"best"},[t._v("BEST")]):t._e()])]),r("div",{staticClass:"line subtitle"},[r("div",{staticClass:"left"},[t._v("Trading Fee")]),r("div",{staticClass:"right",class:{advantage:t.feePercentageStyle}},[t._v(t._s(t.displayDexListResultWoo.displayTradingFee)+" "+t._s(t.sellCoin.displayName)+" ("+t._s(t.displayDexListResultWoo.single_fee_percentage)+"%)")])]),r("div",{staticClass:"line subtitle"},[r("div",{staticClass:"left"},[t._v("Exchange Rate")]),r("div",{staticClass:"right"},[t._v(t._s(t.getDisplayExchangeRate(t.displayDexListResultWoo)))])])])]):t._e()]),r("div",{staticClass:"break-line"}),t.isChainBaseGoerli?r("div",{staticClass:"other no-dex"},[r("img",{attrs:{src:n(183)}}),r("span",[t._v("Only testnet tokens are supported on "+t._s(t.currentNetworkName)+".")])]):r("div",{staticClass:"other flex-align"},t._l(t.displayDexListResultOthers,(function(e,n){return r("div",{key:e.key,staticClass:"item flex-align"},[r("div",{class:{"css-loading":t.subItemLoading[n]}}),t.subItemLoading[n]?t._e():[r("div",{staticClass:"logo"},[r("img",{attrs:{src:e.logo}})]),r("div",{staticClass:"info"},[r("div",{staticClass:"line first title"},[r("span",[t._v(t._s(e.displayToAmount)+" "+t._s(t.getCoin.displayName))]),r("span",{staticClass:"tag",class:t.getRiseFallStyle(e)},[t._v(t._s(t.getPriceCompare(e)))])]),r("div",{staticClass:"line subtitle"},[r("span",[t._v(t._s(e.displayTradingFee)+" "+t._s(t.sellCoin.displayName)+" ("+t._s(e.single_fee_percentage)+"%)")])]),r("div",{staticClass:"line flex-all subtitle"},[r("span",[t._v(t._s(t.getDisplayExchangeRate(e)))])])])]],2)})),0)]):r("div",{staticClass:"no-search"},[r("img",{attrs:{src:n(183)}}),r("span",[t._v("Enter amounts to get quotes and compare prices.")])])])],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("div",{staticClass:"note"},[this._v("Searching for the best quote...")])])}],!1,null,"a2f036e0",null).exports),B={data:function(){return{alphaAlertVisible:!1}},methods:{showAlert:function(){localStorage.getItem("USER_IS_FIRST_CROSS_USER")||(this.alphaAlertVisible=!0)},onContinueClick:function(){this.alphaAlertVisible=!1,localStorage.setItem("USER_IS_FIRST_CROSS_USER","confirm")}}},W=(n(1432),Object(C.a)(B,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tous"},[n("el-dialog",{attrs:{title:"Cross Chain Swap",visible:t.alphaAlertVisible,width:t.$isFromMobile?"90%":"670px"},on:{"update:visible":function(e){t.alphaAlertVisible=e}}},[n("div",{staticClass:"confirm-dialog",attrs:{id:"tou-content"}},[n("p",[t._v("You are about to perform a cross chain swap by switching the destination chain. Cross chain swaps would typically take a few minutes before the asset arrives in your wallet on the destination chain. Please note this feature is currently in beta testing, there is a limit of $5,000 for each swap.")])]),n("div",{staticClass:"operation"},[n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary"},on:{click:t.onContinueClick}},[t._v("Continue")])],1)])])],1)}),[],!1,null,"6161ec0e",null).exports),L=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"loading"},[e("div",{staticClass:"note"},[this._v("Searching for the best quote...")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line flex-all"},[e("div",{staticClass:"line-l"},[this._v("Exchange rate")]),e("div",{staticClass:"line-r"},[this._v("-")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(94)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress stage"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:n(714)}})]),e("div",{staticClass:"text"},[this._v("Swap")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress stage"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:n(1503)}})]),e("div",{staticClass:"text"},[this._v("Bridge")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"progress stage"},[e("div",{staticClass:"pic"},[e("img",{attrs:{src:n(714)}})]),e("div",{staticClass:"text"},[this._v("Swap")])])}];function M(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function F(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?M(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):M(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var V={components:{CrossCoinLogo:x},props:{userSelectCrossToNetwork:{type:String,default:""},sellAmount:{type:[Number,String],default:0},getAmount:{type:[Number,String],default:0},sellCoin:{type:Object,default:function(){return{}}},getCoin:{type:Object,default:function(){return{}}},dexPriceQuerying:{type:Boolean,default:!1},countDownPercent:{type:Number,default:0},isFetchPriceContractError:{type:Boolean,default:!1},isCrossPriceDstInsufficient:{type:Boolean,default:!1},crossPriceInfo:{type:Object,default:function(){return{}}}},data:function(){return{init:!0,dexListResult:{},subItemLoading:{0:!0,1:!0,2:!0,3:!0}}},computed:{currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},isApiReturn:function(){return!!this.crossPriceInfo.dst_amount},isDark:function(){return this.$store.state.setting.isDark},tradingFeeWoofi:function(){return this.crossPriceInfo.woofi_fee?this.toSmallNumber(this.crossPriceInfo.woofi_fee,18):0},displayTradingFeeWoofi:function(){return this.cutNumber(this.tradingFeeWoofi,4)},displayTradingFeeStargate:function(){return this.cutNumber(this.tradingFeeStargate,4)},displaySaveFee:function(){return this.cutNumber(11*this.tradingFeeWoofi,2)},tradingFeeStargate:function(){return this.crossPriceInfo.stargate_fee?this.toSmallNumber(this.crossPriceInfo.stargate_fee,18):0},displayTotalTradingFee:function(){if(!this.isApiReturn)return"-";var t=+this.tradingFeeWoofi+ +this.tradingFeeStargate;return this.cutNumber(t,4)},coinChange:function(){return{sellCoin:this.sellCoin,getCoin:this.getCoin}},displayExchangeRate:function(){var t=this.cutNumber(this.crossPriceInfo.price,this.getCoin.fix);return"1 ".concat(this.sellCoin.displayName," = ").concat(t," ").concat(this.getCoin.displayName)}},watch:{},methods:{onClickRefresh:function(){this.$emit("refresh")},formatMoney:function(a,b){return this.$DI.get("Utils").formatMoney(a,b)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},toSmallNumber:function(t,e){return d.a.utils.formatUnits(String(t),e)},updateDexListResult:function(t,e,n){this.searchKey===e&&this.$set(this.dexListResult,t.key,n)},dexQueryCompare:function(t){var e=this;this.init||(this.init=!0),this.dexListResult={},this.subItemLoading={0:!0,1:!0,2:!0,3:!0},this.sellAmount?this.dexList.forEach(function(){var n=Object(l.a)(regeneratorRuntime.mark((function n(r){var o,l,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"woo"!==r.key){n.next=7;break}return n.next=4,e.$DI.get("DexHttp").wooSwap({fromToken:e.sellCoin.contract,toToken:e.getCoin.contract,amount:e.sellAmountBig});case 4:o=n.sent,n.next=10;break;case 7:return n.next=9,e.$DI.get("DexHttp").swap({fromToken:e.sellCoin.contract,toToken:e.getCoin.contract,amount:e.sellAmountBig,dex:r.key});case 9:o=n.sent;case 10:l=e.toSmallNumber(o.to_amount,e.getCoin.decimals),c=e.toSmallNumber(o.trading_fee,e.sellCoin.decimals),d=F(F(F({},o),r),{},{toAmount:l,displayTradingFee:e.cutNumber(c,e.sellCoin.fix-1),displayPrice:e.cutNumber(o.price,e.getCoin.fix),displayToAmount:e.formatMoney(l,e.getCoin.fix)}),e.updateDexListResult(r,t,d),e.searchKey===t&&("woo"===r.key&&e.$emit("wooInfo",d),r.key===e.fakeWooFallBack&&e.$emit("dodoInfo",d)),e.$refs.CompareList&&(e.$refs.CompareList.scrollTop=0),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(0),console.log("e: ",n.t0);case 21:case"end":return n.stop()}}),n,null,[[0,18]])})));return function(t){return n.apply(this,arguments)}}()):this.init=!1},getProgressCoinAmount:function(t,e,n,r){if(3===r&&this.crossPriceInfo.dst_base_insufficient)return"-";var o=this.getCoinByContract(t,e)||{},l=this.toSmallNumber(n,o.decimals);return this.cutNumber(l,o.fix)},getCoinByContract:function(t,e){var n=this.$DI.get("Coin").getCoinListByNetworkName(e).filter((function(e){return String(e.contract).toLowerCase()===String(t).toLowerCase()}))[0];return n||console.log("DexCompareCross getCoinByContract error: ",t,e),n},setMobileExchangeBest:function(t){return"woo"===t.key&&this.isWooBestPrice?"Best":"woo"!==t.key?this.getPriceCompare(t):void 0}}},U=(n(1433),n(1434),Object(C.a)(V,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"exchange"},[t.$isFromMobile?[r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"title bold"},[t._v("Exchanges")]),t.$isFromMobile?t._e():r("div",{staticClass:"right"},[r("el-tooltip",{attrs:{placement:"left","popper-class":"auto-refresh-tip"}},[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("Price quote auto refreshes, Click here to refresh manually")]),r("div",{staticClass:"item touch",on:{click:t.onClickRefresh}},[r("el-progress",{attrs:{width:24,color:"#39B9ED","stroke-width":3,type:"circle",percentage:t.countDownPercent,"show-text":!1}})],1)])],1)]),r("div",{staticClass:"mid"},[t.init?t.dexListSearching?r("div",{staticClass:"searching flex-all"},[t._m(0)]):r("div",{ref:"CompareList",staticClass:"compare-list"},t._l(t.displayMobileDexListResult.resultArr,(function(e,n){return r("div",{key:e.key,staticClass:"item",class:{best:t.displayMobileDexListResult.best===e.key,woo:t.displayMobileDexListResult.isWoo===e.key,"css-loading":t.subItemLoading[n],no:!t.displayDexListResultWoo.toAmount}},[t.subItemLoading[n]?t._e():[r("div",{staticClass:"line name flex-all"},[r("div",{staticClass:"line-l flex-align"},[r("span",{staticClass:"coin"},[t._v(t._s(e.name))]),r("span",{staticClass:"label"},[t._v(t._s(t.setMobileExchangeBest(e)))])]),r("div",{staticClass:"line-r"},[t._v(t._s(e.displayToAmount)+" "+t._s(t.getCoin.displayName))])]),r("div",{staticClass:"line flex-all",class:{advantage:t.feePercentageStyle&&"woo"===e.key}},[r("div",{staticClass:"line-l"},[t._v("Trading fee ("+t._s(e.single_fee_percentage)+"%)")]),r("div",{staticClass:"line-r"},[t._v(t._s(e.displayTradingFee)+" "+t._s(t.sellCoin.displayName))])]),t._m(1,!0)]],2)})),0):r("div",{staticClass:"no-data"},[t.isDark?r("img",{attrs:{src:n(711)}}):r("img",{attrs:{src:n(712)}}),r("div",{staticClass:"note"},[t._v("Enter amounts to get quotes and compare prices.")])])])]:r("div",{staticClass:"compare"},[t.isFetchPriceContractError?r("div",{staticClass:"no-search"},[r("img",{attrs:{src:n(183)}}),r("span",[t._v("Please try again by changing the swap route or token amount.")])]):t.isCrossPriceDstInsufficient?r("div",{staticClass:"no-search"},[r("img",{attrs:{src:n(183)}}),r("span",[t._v("Please try again by changing the swap or token amount.")])]):t.isApiReturn||t.dexPriceQuerying?r("div",{staticClass:"result"},[r("div",{staticClass:"woo"},[r("div",{class:{"css-loading":t.dexPriceQuerying}}),r("div",{staticClass:"item flex-all"},[t._m(2),r("div",{staticClass:"info"},[r("div",{staticClass:"line first title flex-all"},[r("div",{staticClass:"left"},[t._v("You Receive")]),t.crossPriceInfo.route_tokens?r("div",{staticClass:"right"},[r("span",[t._v(t._s(t.getAmount)+" "+t._s(t.getCoin.displayName))])]):t._e()]),r("div",{staticClass:"line subtitle flex-all"},[r("div",{staticClass:"left"},[t._v("Trading Fee")]),r("div",{staticClass:"right"},[r("span",[t._v("$"+t._s(t.displayTotalTradingFee))]),r("el-tooltip",{attrs:{placement:"right"}},[r("div",{staticClass:"fee-tip",attrs:{slot:"content"},slot:"content"},[r("div",{staticClass:"paragraph"},[r("div",{staticClass:"title"},[t._v("Swap fee: $"+t._s(t.displayTradingFeeWoofi))]),r("div",{staticClass:"description"},[t._v("charged by WOOFi to swap tokens on the source chain and / or the destination chain (0.025% for each swap)")])]),r("div",{staticClass:"paragraph"},[r("div",{staticClass:"title"},[t._v("Bridge fee: $"+t._s(t.displayTradingFeeStargate))]),r("div",{staticClass:"description"},[t._v("charged by Stargate to bridge the assets from the source chain to the destination chain")])])]),r("img",{staticClass:"faq",attrs:{src:n(461)}})])],1)]),r("div",{staticClass:"line subtitle flex-all"},[r("div",{staticClass:"left"},[t._v("Exchange Rate")]),r("div",{staticClass:"right"},[t._v(t._s(t.displayExchangeRate))])])])])]),r("div",{staticClass:"break-line"}),r("div",{staticClass:"other flex-align"},[t.dexPriceQuerying?r("div",{staticClass:"css-loading"}):[t.crossPriceInfo.route_symbols.src[0]?r("div",{staticClass:"progress"},[r("div",{staticClass:"pic"},[r("CrossCoinLogo",{attrs:{width:"40",coin:t.getCoinByContract(t.crossPriceInfo.route_tokens.src[0],t.currentNetwork),chain:t.currentNetwork}})],1),r("div",{staticClass:"text"},[t._v(t._s(t.getProgressCoinAmount(t.crossPriceInfo.route_tokens.src[0],t.currentNetwork,t.crossPriceInfo.route_amounts.src[0])))])]):t._e(),t.crossPriceInfo.route_symbols.src[1]?[t._m(3),r("div",{staticClass:"progress"},[r("div",{staticClass:"pic"},[r("CrossCoinLogo",{attrs:{width:"40",chain:t.currentNetwork,coin:t.getCoinByContract(t.crossPriceInfo.route_tokens.src[1],t.currentNetwork)}})],1),r("div",{staticClass:"text"},[t._v(t._s(t.getProgressCoinAmount(t.crossPriceInfo.route_tokens.src[1],t.currentNetwork,t.crossPriceInfo.route_amounts.src[1])))])])]:t._e(),t._m(4),t.crossPriceInfo.route_symbols.dst[0]?r("div",{staticClass:"progress"},[r("div",{staticClass:"pic"},[r("CrossCoinLogo",{attrs:{width:"40",chain:t.userSelectCrossToNetwork,coin:t.getCoinByContract(t.crossPriceInfo.route_tokens.dst[0],t.userSelectCrossToNetwork)}})],1),r("div",{staticClass:"text"},[t._v(t._s(t.getProgressCoinAmount(t.crossPriceInfo.route_tokens.dst[0],t.userSelectCrossToNetwork,t.crossPriceInfo.route_amounts.dst[0])))])]):t._e(),t.crossPriceInfo.route_symbols.dst[1]?[t._m(5),r("div",{staticClass:"progress"},[r("div",{staticClass:"pic"},[r("CrossCoinLogo",{attrs:{width:"40",chain:t.userSelectCrossToNetwork,coin:t.getCoinByContract(t.crossPriceInfo.route_tokens.dst[1],t.userSelectCrossToNetwork)}})],1),r("div",{staticClass:"text"},[t._v(t._s(t.getProgressCoinAmount(t.crossPriceInfo.route_tokens.dst[1],t.userSelectCrossToNetwork,t.crossPriceInfo.route_amounts.dst[1],3)))])])]:t._e()]],2)]):r("div",{staticClass:"no-search"},[r("img",{attrs:{src:n(183)}}),r("span",[t._v("Enter amounts to get quotes and routes.")])])])],2)}),L,!1,null,"6c7c3c80",null).exports),j=(n(80),n(81),{}),H=(n(1435),Object(C.a)(j,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"spinner"},[e("div",{staticClass:"rect1"}),this._v(" "),e("div",{staticClass:"rect2"}),this._v(" "),e("div",{staticClass:"rect3"}),this._v(" "),e("div",{staticClass:"rect4"}),this._v(" "),e("div",{staticClass:"rect5"})])}],!1,null,"3bc12c69",null).exports),Y={components:{CrossCoinLogo:x},props:{list:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},isMine:{type:Boolean,default:!1}},computed:{currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")}},methods:{loadAll:function(){this.$emit("loadAll")},queryGetCoinChain:function(t){return t.dstNetwork||this.currentNetwork},querySellCoinChain:function(t){return t.srcNetwork||this.currentNetwork},getPrice:function(t){if(!t.getCoin||!t.sellCoin)return"-";if(this.$DI.get("Coin").currentCoinConfig().stableCoinList.includes(t.getCoin.name)){var e=t.getAmount/t.sellAmount,n=this.$DI.get("Utils").cutNumber(e,t.getCoin.fix);return"1 ".concat(t.sellCoin.displayName," = ").concat(n," ").concat(t.getCoin.displayName)}var r=t.sellAmount/t.getAmount,o=this.$DI.get("Utils").cutNumber(r,t.sellCoin.fix);return"1 ".concat(t.getCoin.displayName," = ").concat(o," ").concat(t.sellCoin.displayName)},displayHash:function(t){return t?"".concat(t.slice(0,6),"...").concat(t.substr(-4)):""},getTx:function(t){return t.dstHash||t.hash},getFrom:function(t){return"".concat(t.from.slice(0,6),"...").concat(t.from.substr(-4))},getTime:function(time){return f.a.unix(time).fromNow(!0)},onClickTx:function(t){t.layerzeroScanUrl?window.open(t.layerzeroScanUrl,"_blank"):window.open("".concat(this.$DI.get("Network").getBlockExplorerUrl(),"tx/").concat(this.getTx(t)),"_blank")}}},G=(n(1436),Object(C.a)(Y,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"compare-list-area"},[t.$isFromMobile?t._e():r("div",{staticClass:"table-head flex-all"},[t._m(0),r("div",{staticClass:"col-2"},[t._v("Paid")]),r("div",{staticClass:"col-3"},[t._v("Price")]),r("div",{staticClass:"col-4"},[t._v(t._s(t.isMine?"Txid":"From"))]),r("div",{staticClass:"col-5"},[t._v("Time")])]),r("div",{directives:[{name:"infinite-scroll",rawName:"v-infinite-scroll",value:t.loadAll,expression:"loadAll"}],staticClass:"compare-list"},[t.$isFromMobile?t._l(t.list,(function(e){return r("div",{key:e.hash||e.tx,staticClass:"item"},[r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"l flex-align"},[r("img",{staticClass:"correct",attrs:{src:n(1504)}}),r("span",[t._v(t._s(e.sell))]),r("img",{staticClass:"right",attrs:{src:n(1505)}}),r("span",[t._v(t._s(e.get))])])]),r("div",{staticClass:"line next flex-all"},[r("div",{staticClass:"l"},[r("span",{staticClass:"a"},[t.isMine?[t._v("Txid")]:[t._v("From")]],2),r("span",{staticClass:"b touch",on:{click:function(n){return t.onClickTx(e.hash)}}},[t.isMine?[t._v(t._s(t.getTx(e.hash)))]:[t._v(t._s(t.getFrom(e)))]],2)]),r("div",{staticClass:"r"},[t._v(t._s(t.getTime(e.timestamp)))])])])})):r("div",{staticClass:"table-content"},t._l(t.list,(function(e){return r("div",{key:e.hash||e.tx,staticClass:"table-item flex-all"},[r("div",{staticClass:"col-1 coin-item"},[r("CrossCoinLogo",{attrs:{width:"20",chain:t.queryGetCoinChain(e),coin:e.getCoin}}),r("span",[t._v(t._s(e.get))])],1),r("div",{staticClass:"col-2 coin-item"},[r("CrossCoinLogo",{attrs:{width:"20",chain:t.querySellCoinChain(e),coin:e.sellCoin}}),r("span",[t._v(t._s(e.sell))])],1),r("div",{staticClass:"col-3"},[t._v(t._s(t.getPrice(e)))]),r("div",{staticClass:"col-4 touch",on:{click:function(n){return t.onClickTx(e)}}},[t.isMine?[t._v(t._s(t.displayHash(t.getTx(e))))]:[t._v(t._s(t.getFrom(e)))]],2),r("div",{staticClass:"col-5"},[t._v(t._s(t.getTime(e.timestamp)))])])})),0),t.loading?r("div",{staticClass:"loading flex-all"},[r("div",{staticClass:"el-icon-loading"})]):t._e()],2)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"col-1"},[e("span",{staticClass:"title-coin"},[this._v("Received")])])}],!1,null,"92156398",null).exports);function K(t){if("undefined"==typeof Symbol||null==t[Symbol.iterator]){if(Array.isArray(t)||(t=function(t,e){if(!t)return;if("string"==typeof t)return Q(t,e);var n=Object.prototype.toString.call(t).slice(8,-1);"Object"===n&&t.constructor&&(n=t.constructor.name);if("Map"===n||"Set"===n)return Array.from(t);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Q(t,e)}(t))){var i=0,e=function(){};return{s:e,n:function(){return i>=t.length?{done:!0}:{done:!1,value:t[i++]}},e:function(t){throw t},f:e}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var n,r,o=!0,l=!1;return{s:function(){n=t[Symbol.iterator]()},n:function(){var t=n.next();return o=t.done,t},e:function(t){l=!0,r=t},f:function(){try{o||null==n.return||n.return()}finally{if(l)throw r}}}}function Q(t,e){(null==e||e>t.length)&&(e=t.length);for(var i=0,n=new Array(e);i<e;i++)n[i]=t[i];return n}var X={components:{DexLoading:H,MobileItem:G},props:{userHistoryList:{type:Array,default:function(){return[]}},isEmmbed:{type:Boolean,default:!1}},data:function(){return{active:"my",allHistoryList:[],apiMyHistoryList:[],myHistoryApiEnd:!1,allHistoryLoading:!1,myHistoryLoading:!1,coinList:this.$DI.get("Coin").allCoinList(),myNextLocalChainLt:"",myNextCrossChainLt:""}},computed:{isDark:function(){return this.$store.state.setting.isDark},userAddress:function(){return this.$store.state.auth.address},displayUserHistoryList:function(){return this.userHistoryList.slice().reverse().concat(this.apiMyHistoryList).filter(Boolean)}},watch:{userAddress:{immediate:!0,handler:function(t){t&&this.loadMyHistory()}}},mounted:function(){},beforeRouteLeave:function(a,b,t){clearInterval(this.intervalId),t()},methods:{queryHistoryInterval:function(){var t=this;this.intervalId=setInterval((function(){"all"===t.active&&t.fetchNewHistory()}),3e4)},loadAllHistory:function(){var t=Number(this.allHistoryList.slice(-1)[0].txCount);1!==t&&(this.allHistoryLoading||this.fetchAllHistory({lt:t}))},loadMyHistory:function(){if(!this.myHistoryLoading&&!this.myHistoryApiEnd){var t={userAddr:this.userAddress,localChainLt:this.myNextLocalChainLt,crossChainLt:this.myNextCrossChainLt};this.fetchMyHistory(t)}},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},toSmallNumber:function(a,b){return this.$DI.get("Utils").toSmallNumber(a,b)},fetch:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,o,l,c,s,g;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r={},n.prev=1,n.next=4,e.$DI.get("DexHttp").getHistory(t);case 4:r=n.sent,o=K(r.order_histories),n.prev=6,o.s();case 8:if((l=o.n()).done){n.next=24;break}return c=l.value,n.next=12,e.getCoinInfoAmount(c);case 12:return s=n.sent,c.sell=s.display,c.sellCoin=s.coin,c.sellAmount=s.amount,n.next=18,e.getCoinInfoAmount(c,!0);case 18:g=n.sent,c.get=g.display,c.getCoin=g.coin,c.getAmount=g.amount;case 22:n.next=8;break;case 24:n.next=29;break;case 26:n.prev=26,n.t0=n.catch(6),o.e(n.t0);case 29:return n.prev=29,o.f(),n.finish(29);case 32:n.next=37;break;case 34:n.prev=34,n.t1=n.catch(1),console.log(n.t1);case 37:return n.abrupt("return",r);case 38:case"end":return n.stop()}}),n,null,[[1,34],[6,26,29,32]])})))()},fetchNewHistory:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetch({gt:t.allHistoryList[0].txCount});case 2:(n=e.sent).length&&(t.allHistoryList=n.concat(t.allHistoryList));case 4:case"end":return e.stop()}}),e)})))()},fetchMyHistory:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r,o,l,c,d;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.myHistoryLoading=!0,n.next=3,e.fetch(t);case 3:r=n.sent,e.myHistoryLoading=!1,o=String(r.next_local_chain_lt).split(","),l=String(r.next_cross_chain_lt).split(","),c=l.every((function(t,e){return"1"===t||"0"===t})),d=o.every((function(t,e){return"1"===t||"0"===t})),(!r.next_local_chain_lt||d||c)&&(e.myHistoryApiEnd=!0),e.myNextLocalChainLt=r.next_local_chain_lt,e.myNextCrossChainLt=r.next_cross_chain_lt,e.apiMyHistoryList=e.apiMyHistoryList.concat(r.order_histories);case 13:case"end":return n.stop()}}),n)})))()},fetchAllHistory:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return e.allHistoryLoading=!0,n.next=3,e.fetch(t);case 3:r=n.sent,e.allHistoryLoading=!1,e.allHistoryList=e.allHistoryList.concat(r);case 6:case"end":return n.stop()}}),n)})))()},getCoinInfoAmount:function(t,e){var n=this;return Object(l.a)(regeneratorRuntime.mark((function r(){var o,l,c,d,h,f,m;return regeneratorRuntime.wrap((function(r){for(;;)switch(r.prev=r.next){case 0:if(o=e?t.toToken:t.fromToken,l=e?t.toAmount:t.fromAmount,t.isCrossChain?(d=e?t.dstNetwork:t.srcNetwork,c=n.$DI.get("Coin").getCoinByContractAndNetwork(o,d)):c=(c=n.$DI.get("Coin").getCoinByContract(o))&&c[0],h={},!c){r.next=8;break}h=c,r.next=18;break;case 8:return r.prev=8,r.next=11,n.$DI.get("Web3").getErc20CoinInfoByContract(o);case 11:f=r.sent,h={res:f,displayName:f.symbol},r.next=18;break;case 15:r.prev=15,r.t0=r.catch(8),console.log("getErc20CoinInfoByContract error",r.t0);case 18:return m=n.toSmallNumber(l,h.decimals),r.abrupt("return",{display:"".concat(n.cutNumber(m,h.fix-1||4)," ").concat(h.displayName),coin:h,amount:m});case 20:case"end":return r.stop()}}),r,null,[[8,15]])})))()},onClickTab:function(t){this.active=t,localStorage.setItem("HISTORY_ACTIVE_TAB",t)}}},z=(n(1437),Object(C.a)(X,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"exchange"},[t.isEmmbed?t._e():r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"title bold"},[t._v("My History")]),r("div",{staticClass:"tab flex-align hide"},[r("div",{staticClass:"item touch",class:{active:"all"===t.active},on:{click:function(e){return t.onClickTab("all")}}},[t._v("All")]),r("div",{staticClass:"item touch",class:{active:"my"===t.active},on:{click:function(e){return t.onClickTab("my")}}},[t._v("Mine")])])]),r("div",{staticClass:"mid"},[t.isEmmbed||"all"!==t.active?[t.displayUserHistoryList.length?r("MobileItem",{attrs:{isMine:"",list:t.displayUserHistoryList,loading:t.myHistoryLoading},on:{loadAll:t.loadMyHistory}}):[t.myHistoryLoading?r("div",{staticClass:"searching flex-align-just-center"},[r("div",{staticClass:"init-loading"},[r("div",{staticClass:"note"},[t._v("Loading history ...")]),r("DexLoading")],1)]):r("div",{staticClass:"no-data"},[t.isDark?r("img",{attrs:{src:n(715)}}):r("img",{attrs:{src:n(716)}}),r("div",{staticClass:"note"},[t._v("No History")])])]]:[t.allHistoryList.length?r("MobileItem",{attrs:{list:t.allHistoryList,loading:t.allHistoryLoading},on:{loadAll:t.loadAllHistory}}):[t.allHistoryLoading?r("div",{staticClass:"searching flex-align-just-center"},[r("div",{staticClass:"init-loading"},[r("div",{staticClass:"note"},[t._v("Loading history ...")]),r("DexLoading")],1)]):r("div",{staticClass:"no-data"},[t.isDark?r("img",{attrs:{src:n(715)}}):r("img",{attrs:{src:n(716)}}),r("div",{staticClass:"note"},[t._v("No History")])])]]],2)])}),[],!1,null,"7ae9e9d5",null).exports),Z=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"tip flex-align-just-center"},[e("img",{staticClass:"icon",attrs:{src:n(1507)}}),e("span",[this._v("We're still collecting data for this market ...")])])}],J=n(347),tt=function(t){switch(t){case"FUSDT":return"USDT";case"WBTC":return"BTC";case"UNISWAP":return"UNI";case"FILECOIN":return"FIL";case"LITECOIN":return"LTC";default:return t}},et={components:{MiniLineChart:J.a},props:{sellCoin:{type:Object,default:function(){return{}}},getCoin:{type:Object,default:function(){return{}}}},data:function(){return{currentPeriod:"1d",periodArr:["1d","1w","1m"],currentLimit:96,periodData:{"1d":{limit:96,type:"15m",text:"Past 24 Hours"},"1w":{limit:168,type:"1h",text:"Past Week"},"1m":{limit:30,type:"1d",text:"Past Month"},"1y":{limit:365,type:"1y",text:"Past Year"}},width:0,height:0,dataSet:[],currentPrice:0,token:null,dailyPriceChange:0,dataLabel:[],lineHoverData:null,isLoading:!1,usdtCoin:"USDT",periodOpts:!1,dataCache:{},isCache:!1}},computed:{isNoDataSet:function(){var t=this;return this.sellCoin.name===this.getCoin.name||[["usdt","fusdt"],["fusdt","usdt"],["usdt","usdt.e"],["usdc","usdc.e"]].some((function(e){return["".concat(e[0],"_").concat(e[1]),"".concat(e[1],"_").concat(e[0])].includes("".concat(t.sellCoin.name,"_").concat(t.getCoin.name))}))},isResize:function(){return this.$store.state.isResize},isDark:function(){return this.$store.state.setting.isDark},klineStyle:function(){return{width:"".concat(this.width,"px"),height:"".concat(this.height,"px")}},getCurrentPeriod:function(){return this.periodData[this.currentPeriod]},displayData:function(){if(!this.dataLabel.length)return[];if(!this.lineHoverData&&this.dataLabel.length){var t=this.dataLabel.length-1,e=this.dataLabel[0].value>0?(this.dataLabel[t].value-this.dataLabel[0].value)/this.dataLabel[0].value:0;return{delta:e,displayDelta:Number(100*e).toFixed(1)+"%",time:""}}var n=this.lineHoverData,r=n.index,o=n.delta,time=this.lineHoverData.time||this.dataLabel[r].time||"",l=this.dataLabel.length-1,c=this.$dayjs(l===r?void 0:time),d=c.utcOffset()/60,h=d>0?"+"+d:d;return{delta:o,displayDelta:Number(100*o).toFixed(1)+"%",time:c.format("HH:mm MMM DD").toUpperCase()+" UTC"+h}},coin:function(){var t=this,e=this.$DI.get("Coin").currentCoinConfig().stableCoinList.includes(this.sellCoin.name),n=this.$DI.get("Coin").currentCoinConfig().stableCoinList.includes(this.getCoin.name),r=[this.sellCoin.name.toUpperCase(),this.getCoin.name.toUpperCase()].some((function(e){return e.includes(t.usdtCoin)}));if(e&&!n){var o=[this.getCoin,this.sellCoin];return{sellCoin:o[0],getCoin:o[1],isUSDT:r}}return{sellCoin:this.sellCoin,getCoin:this.getCoin,isUSDT:r}},getRiseFallStyle:function(){return this.displayData.delta>0?"rise":"fall"}},watch:{isResize:function(t){if(t){var e=this.$refs.board.clientWidth-60;this.width=e}},currentPeriod:{handler:function(t){}},sellCoin:{immediate:!0,handler:function(t,e){e&&t.name===e.name||(this.initDataCache(),this.getFetchData())}},getCoin:function(t,e){t.name!==e.name&&(this.initDataCache(),this.getFetchData())}},created:function(){this.initDataCache(),this.queryDataInterval()},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs.board.clientWidth-60;t.width=e,t.height=t.$refs.board.clientHeight-180}))},beforeRouteLeave:function(a,b,t){clearInterval(this.intervalId),t()},methods:{setDisplayPrice:function(t){return{dailyPriceChange:t[t.length-1]-t[0],currentPrice:this.displayCoin(t[t.length-1])}},setDataSet:function(data){return data.map((function(t){return t.close}))},setDataLabel:function(data){return data.map((function(t){return{value:t.close,time:t.start_timestamp}}))},setDataCache:function(){var t=this.dataCache[this.currentPeriod];if(t.length){this.dataSet=this.setDataSet(t),this.dataLabel=this.setDataLabel(t);var e=this.setDisplayPrice(this.dataSet),n=e.dailyPriceChange,r=e.currentPrice;this.dailyPriceChange=n,this.currentPrice=r}},mergeData:function(t,e){for(var n=[],r=t.length-1,o=e.length-1;r>=0&&o>=0;)t[r].start_timestamp!==e[o].start_timestamp?t[r].start_timestamp<e[o].start_timestamp?r--:o--:(n.push({close:t[r].close/e[o].close,start_timestamp:t[r].start_timestamp}),r--,o--);return n},fetchData:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,o,l,c,d,h,f,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(t.periodOpts&&t.setDataCache(),n=t.coin.sellCoin.name.replace(".e","").toUpperCase(),r=t.coin.getCoin.name.replace(".e","").toUpperCase(),t.token=r,o=t.currentPeriod,l=t.getCurrentPeriod.type,c=t.getCurrentPeriod.limit,!t.coin.isUSDT){e.next=15;break}return n!==t.usdtCoin&&"USDC"!==r||(r=(d=[n,r])[0],n=d[1]),e.next=11,t.getKline(n,r,l,c);case 11:h=e.sent,t.dataCache[o]=h.rows.reverse(),e.next=22;break;case 15:return e.next=17,t.getKline(n,t.usdtCoin,l,c);case 17:return f=e.sent,e.next=20,t.getKline(r,t.usdtCoin,l,c);case 20:m=e.sent,t.dataCache[o]=t.mergeData(f.rows,m.rows);case 22:t.setDataCache(),t.dataCache[t.currentPeriod].length&&t.dataSet.length&&(t.isCache=!1,t.dailyPriceChange=t.dataSet[t.dataSet.length-1]-t.dataSet[0],t.currentPrice=t.displayCoin(t.dataSet[t.dataSet.length-1]));case 24:case"end":return e.stop()}}),e)})))()},getKline:function(t,e,n,r){var o=this;return Object(l.a)(regeneratorRuntime.mark((function l(){var c;return regeneratorRuntime.wrap((function(l){for(;;)switch(l.prev=l.next){case 0:return l.next=2,o.$DI.get("DexHttp").getKline("".concat(tt(t),"_").concat(tt(e)),n,r);case 2:return c=l.sent,l.abrupt("return",c);case 4:case"end":return l.stop()}}),l)})))()},queryDataInterval:function(){var t=this;this.intervalId=setInterval((function(){t.periodOpts=!1,t.getFetchData(!1)}),2e4)},onSwitchPeriod:function(t){this.currentPeriod=t,this.periodOpts=!0,this.isCache=!0;var e=!1;this.dataCache[t].length||(e=!0),this.getFetchData(e)},onLineHover:function(data){this.lineHoverData=data,this.currentPrice=data?this.displayCoin(data.value):this.displayCoin(this.dataSet[this.dataSet.length-1])},displayCoin:function(t){return this.coin.isUSDT?t:this.cutNumber(t,this.coin.getCoin.fix)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},initDataCache:function(){this.dataCache={"1d":[],"1w":[],"1m":[],"1y":[]}},getFetchData:function(){var t=arguments,e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return(!(t.length>0&&void 0!==t[0])||t[0])&&(e.isLoading=!0),n.next=4,e.fetchData();case 4:setTimeout((function(){e.isLoading=!1}),1e3);case 5:case"end":return n.stop()}}),n)})))()}}},it=(n(1438),Object(C.a)(et,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"board",staticClass:"chart"},[r("div",{staticClass:"title flex-all"},[r("div",{staticClass:"token"},[t._v(t._s(t.coin.sellCoin.displayName)+" / "+t._s(t.coin.getCoin.displayName))]),r("div",{staticClass:"switch flex-align"},t._l(t.periodArr,(function(e){return r("div",{key:e,staticClass:"item touch",class:{active:t.currentPeriod===e},on:{click:function(n){return t.onSwitchPeriod(e)}}},[t._v(t._s(String(e).toUpperCase()))])})),0)]),r("div",{staticClass:"data-board"},[t.isLoading&&!t.isNoDataSet?r("div",{staticClass:"css-loading"}):t._e(),[r("div",{staticClass:"num"},[t._v(t._s(t.currentPrice)+" "+t._s(t.coin.getCoin.displayName))]),r("span",{staticClass:"tag",class:t.getRiseFallStyle},[t._v(t._s(t.displayData.displayDelta))]),r("span",{directives:[{name:"show",rawName:"v-show",value:t.displayData.time,expression:"displayData.time"}],staticClass:"text"},[t._v(t._s(t.displayData.time))]),r("span",{staticClass:"text"},[t._v(t._s(t.lineHoverData?"":t.periodData[t.currentPeriod].text))])]],2),r("div",{staticClass:"line"},[t.isLoading?r("div",{staticClass:"css-loading",style:t.klineStyle}):[t.dataSet.length&&t.height?r("MiniLineChart",{attrs:{chartData:t.dataSet,height:t.height,width:t.width,dailyPriceChange:t.dailyPriceChange,gradientColorSet:["E95D5D","36D58F","FFFFFF"],lineColor:["E95D5D","36D58F"],isCache:t.isCache},on:{hover:t.onLineHover}}):t._e()]],2),t.isNoDataSet?r("div",{staticClass:"no-data"},[t._m(0),r("img",{staticClass:"wave",attrs:{src:n(1506)}})]):t._e()])}),Z,!1,null,"1bf21d32",null).exports),at=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"status disappear"},[e("img",{attrs:{src:n(83)}})])}],st=n(1439),nt=Object(st.a)("mainnet"),ot={components:{CrossCoinLogo:x},props:{nothing:{type:String,default:""}},data:function(){return{clearAllNotificationVisible:!1,statusDialogVisible:!1,queueListVisible:!1,currentDayjs:f()(),detailItemId:"",queueListData:[],queueStatusObj:{}}},computed:{localStorageKey:function(){return"USER_CROSS_QUEUE_LIST_KEY_"+this.currentNetwork+this.userAddress.slice(0,6)},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},queueBoxVisible:function(){return this.displayQueueListData.length>0},userAddress:function(){return this.$store.state.auth.address},displayQueueListData:function(){var t=this;return this.queueListData.map((function(e){var n=t.queueStatusObj[e.refId];if(!n)return e;var r=e;return r.tx_hash=n.tx_hash,r.src.pending=!1,r.dst.pending=!1,r.block_signed_at=n.block_signed_at,r.dst_base_insufficient=n.dst_base_insufficient,r})).filter((function(e){return f()(e.time).isAfter(t.currentDayjs.subtract(1,"day"))}))},crossCoinType:function(){return this.detailItem.src.isBase&&this.detailItem.dst.isBase?"b2b":this.detailItem.src.isBase&&!this.detailItem.dst.isBase?"b2q":!this.detailItem.src.isBase&&this.detailItem.dst.isBase?"q2b":this.detailItem.src.isBase||this.detailItem.dst.isBase?"":"q2q"},targetStatus:function(){return"b2b"===this.crossCoinType&&"done"===this.stargateStatus?"done":"q2b"===this.crossCoinType&&"done"===this.stargateStatus?this.detailItem.dst.pending?"loading":"done":""},stargateStatus:function(){return"b2b"===this.crossCoinType||"b2q"===this.crossCoinType?this.detailItem.src.pending?"":this.detailItem.dst.pending?"loading":"done":"q2b"===this.crossCoinType?this.detailItem.src.pending?"loading":"done":"q2q"===this.crossCoinType?this.detailItem.src.pending||this.detailItem.dst.pending?"loading":"done":""},detailItem:function(){var t=this;if(!this.detailItemId)return{};var e=this.displayQueueListData.find((function(e){return e.refId===t.detailItemId}));return e.src.coin=this.getCoinByContract(e.src.contract,e.src.chain),e.dst.coin=this.getCoinByContract(e.dst.contract,e.dst.chain),e.src.displayAmount=this.cutNumber(e.src.amount,e.src.coin.fix),e.dst.displayAmount=this.cutNumber(e.dst.amount,e.dst.coin.fix),e}},watch:{userAddress:{handler:function(t){t&&this.init()}},queueListData:{handler:function(t){localStorage.setItem(this.localStorageKey,JSON.stringify(t))}},displayQueueListData:{handler:function(t){var e=this;t.forEach((function(t){if(!t.src.error&&!t.dst_base_insufficient&&t.tx_hash){if(t.finished)return;var n=e.displayQueueListData.find((function(e){return e.tx_hash===t.tx_hash})),r=e.getCoinByContract(n.src.contract,n.src.chain),o=e.getCoinByContract(n.dst.contract,n.dst.chain),l=n.src.amount,c=n.dst.amount,d="".concat(e.cutNumber(l,r.fix-1)," ").concat(r.displayName),h="".concat(e.cutNumber(c,o.fix-1)," ").concat(o.displayName);e.$emit("history",{sell:d,get:h,sellAmount:l,getAmount:c,sellCoin:r,getCoin:o,timestamp:f()(n.time).unix(),hash:n.tx,dstNetwork:n.dst.chain,srcNetwork:n.src.chain});var m=e.queueListData.find((function(t){return t.refId===n.refId}));m.dst_base_insufficient=t.dst_base_insufficient,m.block_signed_at=t.block_signed_at,m.tx_hash=t.tx_hash,m.src.pending=!1,m.dst.pending=!1,e.$set(m,"finished",!0)}}))}}},beforeDestroy:function(){this.fetchId&&clearInterval(this.fetchId),this.timeId&&clearInterval(this.timeId)},mounted:function(){this.init()},methods:{init:function(){var t=this;if(this.userAddress){try{var e=localStorage.getItem(this.localStorageKey);e&&(this.queueListData=JSON.parse(e))}catch(t){}this.fetchQueueStatus(),this.fetchId=setInterval((function(){t.fetchQueueStatus()}),1e4),this.timeId=setInterval((function(){t.currentDayjs=f()()}),1e3)}},onClear:function(){this.clearAllNotificationVisible=!0},doClear:function(){this.queueListData=[],this.clearAllNotificationVisible=!1},fetchQueueStatus:function(){var t=this;this.userAddress&&this.displayQueueListData.forEach((function(e){e.src.error||e.tx_hash||t.fetchEachQueueStatus(e)}))},fetchEachQueueStatus:function(t){var e=this;return Object(l.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$DI.get("DexHttp").getUserCrossStatus(t.dst.chain,t.refId,e.userAddress);case 2:(r=n.sent)&&r.length>0&&e.$set(e.queueStatusObj,t.refId,r[0]);case 4:case"end":return n.stop()}}),n)})))()},markQueueSrcStatusSuccess:function(t){var e=this.queueListData.filter((function(e){return e.tx===t}))[0];e&&(e.src.pending=!1)},markQueueSrcStatusError:function(t){var e=this.queueListData.filter((function(e){return e.tx===t}))[0];e&&(e.src.error=!0)},appendQueue:function(t,e){this.queueListData.push(t),e&&(this.queueListVisible=!0)},getCoinByContract:function(t,e){return this.$DI.get("Coin").getCrossCoinListByNetworkName(e).filter((function(e){return e.contract===t}))[0]||{}},getNetworkByName:function(t){return this.$DI.get("Network").getNetworkConfigObj()[t]||{chainInfo:{}}},showQueueDetail:function(t){this.onGoToDetail(t)},onGoToDetail:function(t){var e=this;nt.getMessagesBySrcTxHash(t.tx).then((function(n){var r=n.messages&&n.messages[0];if(!r){var o;if(t.src.error)o="".concat(e.$DI.get("Network").getBlockExplorerUrl(),"tx/").concat(t.tx);else{var l=e.getNetworkByName(t.dst.chain).chainInfo.blockExplorerUrls[0],c=e.getCoinByContract(t.dst.contract,t.dst.chain).isCrossSwapSpecialGasCoin?"#internaltx":"#tokentxns";o="".concat(l,"address/").concat(e.userAddress).concat(c)}window.open(o,"_blank")}var link="https://layerzeroscan.com/".concat(r.srcChainId,"/address/").concat(r.srcUaAddress,"/message/").concat(r.dstChainId,"/address/").concat(r.dstUaAddress,"/nonce/").concat(r.srcUaNonce);window.open(link,"_blank")}))},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},getMiniListAmount:function(t){var e=this.getCoinByContract(t.contract,t.chain);return"".concat(this.cutNumber(t.amount,e.fix)," ").concat(e.displayName)},onToggleVisible:function(){this.queueListVisible?this.queueListVisible=!1:this.displayQueueListData.length>0&&(this.queueListVisible=!0)},triggerDialog:function(){this.statusDialogVisible=!this.statusDialogVisible},onExploreTx:function(t,e){var n=e?t.src.chain:t.dst.chain,r=this.getNetworkByName(n).chainInfo.blockExplorerUrls[0],o=e?t.tx:t.tx_hash;window.open("".concat(r,"tx/").concat(o),"_blank")},removeQueueItem:function(t){this.queueListData=this.queueListData.filter((function(e){return e.refId!==t.refId}))},getRelativeTime:function(t){var time=t.time;if(t.src.error||t.dst_base_insufficient||!t.dst.pending)return f()(time).fromNow(!0);var e=this.currentDayjs.diff(time,"second");if(e<60)return"".concat(e," s");var n=this.currentDayjs.diff(time,"minute");if(n<60)return"".concat(n," m");var r=this.currentDayjs.diff(time,"hour");if(r<24)return"".concat(r," h");var o=this.currentDayjs.diff(time,"day");return"".concat(o," d")}}},lt=(n(1440),n(1441),Object(C.a)(ot,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"queue"},[t.queueBoxVisible?r("div",{staticClass:"out-box"},[t.queueListVisible?r("div",{staticClass:"queue-li"},t._l(t.displayQueueListData,(function(e){return r("div",{key:e.tx,staticClass:"item touch",on:{click:function(n){return t.showQueueDetail(e)}}},[r("div",{staticClass:"lineA flex-all"},[r("div",{staticClass:"left flex-align"},[r("div",{staticClass:"status"},[e.src.error?r("img",{attrs:{src:n(151)}}):e.dst_base_insufficient?r("img",{attrs:{src:n(1508)}}):e.dst.pending?r("img",{staticClass:"loading",attrs:{src:n(108)}}):r("img",{attrs:{src:n(83)}})]),r("div",{staticClass:"info bold"},[r("div",{staticClass:"amount"},[t._v(t._s(t.getMiniListAmount(e.src))+" to "+t._s(t.getMiniListAmount(e.dst)))]),r("div",{staticClass:"chain"},[t._v(t._s(t.getNetworkByName(e.src.chain).chainInfo.chainName)+" -> "+t._s(t.getNetworkByName(e.dst.chain).chainInfo.chainName))])])]),r("div",{staticClass:"right bold"},[t._v(t._s(t.getRelativeTime(e)))])]),e.dst_base_insufficient?r("div",{staticClass:"lineB"},[r("div",{staticClass:"left flex-align"},[t._m(0,!0),r("div",{staticClass:"tip"},[t._v("The transaction failed on the destination chain, you should have received an equivalent value of "+t._s(e.dst.route[0])+".")])])]):t._e()])})),0):t._e(),r("div",{staticClass:"operation-title bold flex-all",style:{"margin-top":t.queueListVisible?"20px":"0"}},[r("div",{staticClass:"title"},[(t.queueListVisible,r("span",[t._v("Cross-swap Transactions")]))]),r("div",{staticClass:"operation"},[t.queueListVisible?r("span",{staticClass:"clearBtn touch",on:{click:t.onClear}},[t._v("Clear")]):t._e(),r("span",{staticClass:"touch",on:{click:t.onToggleVisible}},[t._v(t._s(t.queueListVisible?"Hide":"Show"))])])])]):t._e(),r("el-dialog",{attrs:{title:"Clear All Notifications",visible:t.clearAllNotificationVisible,width:t.$isFromMobile?"90%":"510px","custom-class":"confirm-dialog","append-to-body":!0},on:{"update:visible":function(e){t.clearAllNotificationVisible=e}}},[r("div",{staticClass:"confirm-text"},[r("p",[t._v('All cross-chain swap transaction notifications will be cleared. This will not affect any cross-chain swap in progress, and you can always find the successful transactions in "My History".')])]),r("div",{staticClass:"confirm-operation flex-all"},[r("el-button",{on:{click:function(){return t.clearAllNotificationVisible=!1}}},[t._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:t.doClear}},[t._v("Confirm")])],1)]),r("el-dialog",{staticClass:"cross-status-dialog",attrs:{title:"Waiting For Completion",visible:t.statusDialogVisible,width:t.$isFromMobile?"90%":"600px","append-to-body":!0},on:{"update:visible":function(e){t.statusDialogVisible=e}}},[t.statusDialogVisible?r("div",{staticClass:"confirm-dialog"},[r("div",{staticClass:"tokens bold"},[r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left flex-align"},[r("CrossCoinLogo",{attrs:{width:"35",coin:t.detailItem.src.coin,chain:t.detailItem.src.chain}}),r("div",{staticClass:"amount"},[t._v(t._s(t.detailItem.src.displayAmount))])],1),r("div",{staticClass:"name"},[t._v(t._s(t.detailItem.src.coin.displayName))])]),r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"to"},[r("img",{attrs:{src:n(465)}})])]),r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left flex-align"},[r("CrossCoinLogo",{attrs:{width:"35",coin:t.detailItem.dst.coin,chain:t.detailItem.dst.chain}}),r("div",{staticClass:"amount"},[t._v(t._s(t.detailItem.dst.displayAmount))])],1),r("div",{staticClass:"name"},[t._v(t._s(t.detailItem.dst.coin.displayName))])])]),r("div",{staticClass:"progress"},[r("div",{staticClass:"list"},[t.detailItem.src.isBase?[r("div",{staticClass:"item flex-align"},[[t.detailItem.src.error?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(151)}})]):t.detailItem.src.pending?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})])],r("div",{staticClass:"text"},[t._v("Swapping on "+t._s(t.getNetworkByName(t.detailItem.src.chain).chainInfo.chainName))])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(122)}})]),r("div",{staticClass:"text flex-align touch",on:{click:function(e){return t.onExploreTx(t.detailItem,!0)}}},[r("span",[t._v("View the sent transaction")]),r("img",{attrs:{src:n(129)}})])])]:t._e(),[r("div",{staticClass:"item flex-align"},[["loading"===t.stargateStatus?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"done"===t.stargateStatus?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),t.stargateStatus?t._e():r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})])],r("div",{staticClass:"text"},[t._v("Bridging via Stargate")])],2),r("div",{staticClass:"item flex-align pad",class:{large:"q2q"===t.crossCoinType&&"done"===t.stargateStatus}},[r("div",{staticClass:"pic",class:{disappear:!t.detailItem.dst.isBase}},[r("img",{attrs:{src:n(122)}})]),"q2b"===t.crossCoinType?[r("div",{staticClass:"text flex-align touch",on:{click:function(e){return t.onExploreTx(t.detailItem,!0)}}},[r("span",[t._v("View the sent transaction")]),r("img",{attrs:{src:n(129)}})])]:t._e(),"b2q"===t.crossCoinType?["done"===t.stargateStatus?r("div",{staticClass:"text flex-align touch",on:{click:function(e){return t.onExploreTx(t.detailItem,!1)}}},[r("span",[t._v("View the received transaction")]),r("img",{attrs:{src:n(129)}})]):t._e()]:t._e(),"q2q"===t.crossCoinType?r("div",{staticClass:"twoInOne"},[r("div",{staticClass:"text flex-align touch",on:{click:function(e){return t.onExploreTx(t.detailItem,!0)}}},[r("span",[t._v("View the sent transaction")]),r("img",{attrs:{src:n(129)}})]),"done"===t.stargateStatus?r("div",{staticClass:"text flex-align touch",on:{click:function(e){return t.onExploreTx(t.detailItem,!1)}}},[r("span",[t._v("View the received transaction")]),r("img",{attrs:{src:n(129)}})]):t._e()]):t._e()],2)],t.detailItem.dst.isBase?[r("div",{staticClass:"item flex-align"},[["loading"===t.targetStatus?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"done"===t.targetStatus?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),t.targetStatus?t._e():r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})])],r("div",{staticClass:"text"},[t._v("Swapping on "+t._s(t.getNetworkByName(t.detailItem.dst.chain).chainInfo.chainName))])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic disappear"},[r("img",{attrs:{src:n(122)}})]),"done"===t.targetStatus?r("div",{staticClass:"text flex-align touch",on:{click:function(e){return t.onExploreTx(t.detailItem,!1)}}},[r("span",[t._v("View the received transaction")]),r("img",{attrs:{src:n(129)}})]):t._e()])]:t._e()],2)])]):t._e()])],1)}),at,!1,null,"750f7134",null).exports),ct={components:{DexHistory:z},props:{userHistoryList:{type:Array,default:function(){return[]}}},data:function(){return{visible:!1}},methods:{triggerDialog:function(){this.visible=!this.visible}}},ut=(n(1442),Object(C.a)(ct,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("el-dialog",{attrs:{visible:t.visible,width:t.$isFromMobile?"90%":"500px",title:"Order History","append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[n("div",{staticClass:"history"},[n("DexHistory",{attrs:{isEmmbed:!0,userHistoryList:t.userHistoryList}})],1)])}),[],!1,null,"08e2caf8",null).exports),ht=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:n(1510)}})])}],ft=n(150),pt=n.n(ft),mt={props:{address:{type:String,default:""}},data:function(){return{visible:!1,inputAddress:"",manualClose:!1}},computed:{isValidAddress:function(){return pt.a.utils.isAddress(this.inputAddress)},displayAddress:function(){return this.$isFromMobile?this.address?"".concat(this.address.slice(0,6),"...").concat(this.address.slice(-4)):"":this.address||""}},watch:{visible:function(t){if(t)return this.manualClose=!1,void(this.address?this.inputAddress=this.address:this.inputAddress="");this.isValidAddress||(this.inputAddress=""),this.manualClose||this.$emit("updateAddress",this.inputAddress)}},methods:{onRemove:function(){this.inputAddress=""},onConfirmAddress:function(){this.triggerDialog()},triggerDialog:function(){this.visible=!this.visible},onClose:function(){this.manualClose=!0}}},vt=(n(1443),Object(C.a)(mt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"cross-address"},[t.address?r("div",{staticClass:"list update flex-all"},[r("div",{staticClass:"text"},[t._v("Send to")]),r("div",{staticClass:"addr"},[t._v(t._s(t.displayAddress))]),r("div",{staticClass:"icon touch",on:{click:t.triggerDialog}},[r("img",{attrs:{src:n(1509)}})])]):r("div",{staticClass:"list add flex-align"},[r("div",{staticClass:"touch flex-align",on:{click:t.triggerDialog}},[r("div",{staticClass:"text"},[t._v("Send to")]),t._m(0)])]),r("el-dialog",{attrs:{title:"Add Destination Address",visible:t.visible,width:t.$isFromMobile?"90%":"660px","custom-class":"normal-dialog","append-to-body":!0},on:{"update:visible":function(e){t.visible=e},close:t.onClose}},[r("div",{staticClass:"address-dialog cross-address"},[r("div",{staticClass:"notice"},[t._v("Fill in and confirm the address to receive the funds on the destination chain.")]),r("div",{staticClass:"tip"},[t._v("Please do NOT send funds to an exchange wallet or custodial wallet.")]),r("div",{staticClass:"input-block"},[r("el-input",{attrs:{placeholder:"0x"},model:{value:t.inputAddress,callback:function(e){t.inputAddress=e},expression:"inputAddress"}}),r("div",{staticClass:"input-btn touch",on:{click:t.onRemove}},[t._v("Remove")]),t.inputAddress&&!t.isValidAddress?r("div",{staticClass:"alert"},[t._v("Incorrect address format")]):t._e()],1),r("div",{staticClass:"action"},[r("el-button",{attrs:{type:"primary"},on:{click:t.onConfirmAddress}},[t._v("Confirm")])],1)])])],1)}),ht,!1,null,"36dc40f6",null).exports);function gt(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function Ct(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?gt(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):gt(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var bt=function(t){return JSON.parse(JSON.stringify(t))},yt={components:{DexCrossQueue:lt,CrossChainAlert:W,DexCoinCrossInput:y,SwapSetting:w,DexConfirm:I,DexDialogConfirm:A,DexDialogSuccess:T,DexCompare:R,DexHistory:z,DexLineChart:it,DexHistoryDialog:ut,DexCompareCross:U,CrossAddress:vt},data:function(){return{userSelectCrossToNetwork:this.currentNetwork,slippageTolerance:localStorage.getItem("SWAP_SETTING_TOLERANCE")||1,coinList:this.$DI.get("Coin").dexCoinList(),coinBalance:{},sellMax:!1,sellCoin:{},getCoin:{},sellAmount:null,getAmount:null,searchKey:"",tx:"",countDownSeconds:20,wooInfo:{},dodoInfo:{},currentBestInfo:null,userHistoryList:[],fetchPriceContractError:!1,dodoDexInfo:null,pendingReward:"",dexPriceQuerying:!1,sendTargetChainExtraGas:!1,sourceName:"",dexAllowance:0,refId:"",crossPriceInfo:{},crossTargetAddress:"",errorNotifyObj:{type:"timeoutRejected",timeoutRejected:{lineA:"Timeout",lineB:"Please try again"},transactionRejected:{lineA:"Transaction Cancelled",lineB:"The estimated price is too high"}},fallBackInfo:{"1inch":{method:this.get1inchRoute,displayName:"1inch"},dodo:{method:this.getDodoRoute,displayName:"DODO"}}}},computed:{currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},isCrossMode:function(){return this.userSelectCrossToNetwork!==this.currentNetwork},gasCoin:function(){return this.$DI.get("Network").getNetworkCurrency().name},localStorageKeySellCoin:function(){return"USER_DEX_SELECT_SELL_COIN_"+this.currentNetwork},localStorageKeyGetCoin:function(){return"USER_DEX_SELECT_GET_COIN_"+this.currentNetwork},localStorageCrossTargetChain:function(){return"USER_DEX_SELECT_CROSS_TARGET_CHAIN_"+this.currentNetwork},dexFallbackSwapChoice:function(){var t={bsc:["1inch"],avax:["1inch"],ethereum:["1inch"],fantom:["1inch"],polygon:["1inch"],arbitrum:["1inch"],optimism:["1inch"],zksync:["1inch"]}[this.currentNetwork];return t||console.error("no default dex fallback swap choice"),t},defaultDexInputCoin:function(){var t={bsc:["bnb","usdt"],avax:["avax","usdc"],ethereum:["eth","usdt"],fantom:["ftm","usdc"],polygon:["matic","usdc"],arbitrum:["eth","usdc"],optimism:["eth","usdc"],base_goerli:["eth","usdc"],zksync_goerli:["eth","usdc"],zksync:["eth","usdc"]}[this.currentNetwork];return t||console.error("no default dex input coin"),t},isChainGoerli:function(){return"base_goerli"===this.$DI.get("CURRENT_NETWORK")||"zksync_goerli"===this.$DI.get("CURRENT_NETWORK")},isCrossPriceDstInsufficient:function(){return this.crossPriceInfo.dst_base_insufficient},userAddress:function(){return this.$store.state.auth.address},displayPendingReward:function(){return this.cutNumber(this.pendingReward,this.wooCoinObj.fix)},mockSellPriceUsd:function(){return(this.sellCoin.mockPrice||1)*this.sellAmount},isGuest:function(){return this.$store.state.auth.guest},swapButtonDisabled:function(){if(this.isDexPriceSearching||!this.coinBalance[this.sellCoin.name])return!0;if(!this.sellAmount)return!0;if(this.isCrossPriceDstInsufficient)return!0;if(this.sellAmount>this.coinBalance[this.sellCoin.name].balance)return!0;if(this.isCrossMode){if(this.fetchPriceContractError)return!0;if(this.mockSellPriceUsd>1e10)return!0}else if(this.isChainGoerli&&this.fetchPriceContractError)return!0;return!(!this.fetchPriceContractError||this.dexFallbackSwapChoice)},swapButtonText:function(){if(this.isCrossMode){if(this.fetchPriceContractError)return"INSUFFICIENT LIQUIDITY";if(this.mockSellPriceUsd>1e10)return"EXCEEDS SWAP LIMIT"}else if(this.isChainGoerli&&this.fetchPriceContractError)return"INSUFFICIENT LIQUIDITY";return this.fetchPriceContractError&&!this.dexFallbackSwapChoice||this.isCrossPriceDstInsufficient?"INSUFFICIENT LIQUIDITY":this.isDexPriceSearching||!this.coinBalance[this.sellCoin.name]?"LOADING...":this.sellAmount?this.sellAmount>this.coinBalance[this.sellCoin.name].balance?"INSUFFICIENT BALANCE":this.needsDexApproval?this.swapApproveButtonText:"SWAP":"ENTER AN AMOUNT"},swapApproveButtonText:function(){return"APPROVE "+this.sellCoin.displayName},countDownPercent:function(){return 100*(20-this.countDownSeconds)/20},sellPrice:function(){return this.cutNumber(this.sellAmount/this.calGetAmount,(this.getCoin&&this.getCoin.fix||0)+2)},sellAmountBig:function(){if(this.sellAmount&&!Number.isNaN(this.sellAmount))return this.sellMax&&this.sellCoin.name!==this.gasCoin?this.coinBalance[this.sellCoin.name].rawBalance:this.toBigNumber(this.sellAmount,this.sellCoin.decimals)},getAmountMin:function(){return this.calGetAmount*(100-this.realSlippageTolerance)/100},getAmountMinFallbackBig:function(){var t=this.dodoDexInfo.resAmount*(100-this.realSlippageTolerance)/100;return this.toBigNumber(t,this.getCoin.decimals)},calGetAmount:function(){if(!this.isCrossPriceDstInsufficient){if(this.fetchPriceContractError){if(this.dodoInfo.toAmount)return this.cutNumber(this.dodoInfo.toAmount,this.getCoin.fix);if(this.currentBestInfo)return this.cutNumber(this.currentBestInfo.toAmount,this.getCoin.fix)}return this.getAmount}},wooCoinObj:function(){return this.coinList.filter((function(t){return"woo"===t.name}))[0]||{}},hasPendingReward:function(){return!!Number(this.pendingReward)},isDexPriceSearching:function(){return!!this.dexPriceQuerying||!!this.fetchPriceContractError&&!this.dodoInfo.price},realSlippageTolerance:function(){return this.fetchPriceContractError?Math.ceil(this.slippageTolerance):this.isCrossMode&&this.slippageTolerance<1?1:this.slippageTolerance},needsDexApproval:function(){return this.dexAllowance<=0||this.sellAmount>this.dexAllowance},isZkSync:function(){return"zksync"===this.currentNetwork}},watch:{currentNetwork:{immediate:!0,handler:function(t){t&&!this.userSelectCrossToNetwork&&(this.userSelectCrossToNetwork=localStorage.getItem(this.localStorageCrossTargetChain)||t)}},isCrossMode:function(){this.fetchApproval()},sellCoin:function(t){t&&t.name&&localStorage.setItem(this.localStorageKeySellCoin,t.name)},getCoin:function(t){t&&t.name&&localStorage.setItem(this.localStorageKeyGetCoin,t.name)},isGuest:{immediate:!0,handler:function(t){var e=this;t||this.userAddress&&(this.fetchCoinBalance(),this.fetchPendingReward());var n=localStorage.getItem(this.localStorageKeySellCoin)||this.defaultDexInputCoin[0],r=localStorage.getItem(this.localStorageKeyGetCoin)||this.defaultDexInputCoin[1];if(this.sellCoin=this.coinList.filter((function(t){return t.name===n}))[0],this.sellCoin||(this.sellCoin=this.coinList.filter((function(t){return t.name===e.defaultDexInputCoin[0]}))[0]),this.isCrossMode){var o=this.$DI.get("Coin").getCrossCoinListByNetworkName(this.userSelectCrossToNetwork);this.getCoin=o.filter((function(t){return t.name===r}))[0],this.getCoin||(this.getCoin=o[0])}else this.getCoin=this.coinList.filter((function(t){return t.name===r}))[0],this.getCoin||(this.getCoin=this.coinList.filter((function(t){return t.name===e.defaultDexInputCoin[1]}))[0]);this.fetchApproval()}}},created:function(){this.debounceDexQuerySellBase=Object(c.a)(this.allDexQuerySellBase,350)},beforeRouteLeave:function(a,b,t){this.countDownReset(),t()},mounted:function(){var t=this;"ethereum"===this.currentNetwork&&this.onChainSelect({key:"arbitrum"}),setInterval((function(){t.isGuest||t.getUserBalance()}),15e3)},methods:{allDexQuerySellBase:function(){var t=this;if(this.fetchPriceContractError=!1,this.wooInfo={},this.dodoInfo={},this.currentBestInfo=null,this.dodoDexInfo=null,this.countDownReset(),this.getAmount=null,this.isCrossMode)return Number(this.sellAmount)?(this.crossPriceInfo={},this.queryCrossChainPrice(),void this.countDownStart()):void(this.crossPriceInfo={});Number(this.sellAmount)?(this.searchKey="".concat(this.sellCoin.name,"-").concat(this.getCoin.name,"-").concat(this.sellAmount),this.$refs.DexCompare&&setTimeout((function(){return t.$refs.DexCompare.dexQueryCompare(t.searchKey)})),this.dexQuerySellBase()):this.$refs.DexCompare&&this.$refs.DexCompare.dexQueryCompare()},queryCrossChainPrice:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dexPriceQuerying=!0,e.prev=1,e.next=4,t.$DI.get("DexHttp").queryCrossChainPrice(t.currentNetwork,t.userSelectCrossToNetwork,t.sellCoin.contract,t.getCoin.contract,t.sellAmountBig);case 4:t.crossPriceInfo=e.sent,n=(n=t.$DI.get("Utils").toSmallNumber(t.crossPriceInfo.dst_amount,t.getCoin.decimals))<0?0:n,t.getAmount=t.cutNumber(n,t.getCoin.fix),console.log("this.crossPriceInfo: ",t.crossPriceInfo),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(1),t.fetchPriceContractError=!0;case 14:t.dexPriceQuerying=!1;case 15:case"end":return e.stop()}}),e,null,[[1,11]])})))()},getDodoRoute:function(){return this.$DI.get("DexHttp").getDodoRoute(this.sellCoin,this.getCoin,this.sellAmountBig,this.$DI.get("Contract").dexContract(),this.realSlippageTolerance,"dodo")},get1inchRoute:function(){var t=this;return new Promise((function(e,n){t.$DI.get("DexHttp").get1inchRoute(t.sellCoin,t.getCoin,t.sellAmountBig,t.$DI.get("Contract").dexContract(),t.realSlippageTolerance).then((function(n){var r=t.$DI.get("Utils").toSmallNumber(n.toTokenAmount,n.toToken.decimals),o=t.$DI.get("Utils").toSmallNumber(n.fromTokenAmount,n.fromToken.decimals);e({targetApproveAddr:n.tx.to,to:n.tx.to,data:n.tx.data,resAmount:r,resPricePerFromToken:o/r,resPricePerToToken:r/o})})).catch(n)}))},fetchDodoDexInfo:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,o;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,t.dodoDexInfo=null,console.log("fallback route"),n=[],t.dexFallbackSwapChoice.forEach((function(e){n.push(t.fallBackInfo[e].method())})),e.next=7,Promise.allSettled(n).then((function(e){return e.map((function(data,e){return Ct(Ct({},data),{},{source:t.dexFallbackSwapChoice[e]})})).filter((function(data){return"fulfilled"===data.status})).map((function(data){return{value:data.value,source:data.source}}))})).catch(console.log);case 7:return r=e.sent,e.next=10,t.getBestDodoInfo(r);case 10:t.dodoDexInfo=e.sent,e.next=19;break;case 13:e.prev=13,e.t0=e.catch(0),t.$refs.DexDialogConfirm.closeDialog(),t.$refs.DexConfirm.closeDialog(),o=t.errorNotifyObj.type,t.$DI.get("Notification").errorWithInfo(t.errorNotifyObj[o]);case 19:case"end":return e.stop()}}),e,null,[[0,13]])})))()},getBestDodoInfo:function(t){if(!t.length)throw this.errorNotifyObj.type="timeoutRejected",new Error("Timeout rejected.");for(var e=null,i=0;i<t.length;i++){var n=t[i].value,r=t[i].source;(!e||e.resAmount<n.resAmount)&&(e=n,this.sourceName=this.fallBackInfo[r].displayName)}if(!e)throw this.errorNotifyObj.type="transactionRejected",new Error("Transaction rejected.");return console.log("use ".concat(this.sourceName," route")),e},onClaimReward:function(){var t=this;if(this.hasPendingReward)try{this.$DI.get("Web3").claimRewardPromise().on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","DEX_REWARD")})).on("receipt",function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$DI.get("Notification").succeedWithInfo({lineA:"Claim Reward Success.",tx:t.tx}),t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","DEX_REWARD"),e.next=4,t.getUserBalance();case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())}catch(t){console.log(t)}},fetchPendingReward:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!Math.random){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$DI.get("Web3").getPendingReward(t.wooCoinObj);case 4:t.pendingReward=e.sent;case 5:case"end":return e.stop()}}),e)})))()},onClickHistoryDialogOpen:function(){this.$refs.DexHistoryDialog.triggerDialog()},onUpdateDodoInfo:function(t){this.dodoInfo=t},onUpdateWooInfo:function(t){this.wooInfo=t},onUpdateCurrentBestInfo:function(t){this.currentBestInfo=t},onClickConnectWallet:function(){this.$DI.get("Vue").$emit("UI_CONNECT_WALLET")},countDownStart:function(){var t=this;this.intervalId=setInterval((function(){var e,n;t.countDownSeconds?t.countDownSeconds-=1:(null===(e=t.$refs.DexConfirm)||void 0===e?void 0:e.swapConfirmVisible)||(null===(n=t.$refs.DexDialogConfirm)||void 0===n?void 0:n.swapConfirmVisible)?(t.countDownReset(),t.countDownStart()):t.debounceDexQuerySellBase()}),1e3)},countDownReset:function(){this.countDownSeconds=20,this.intervalId&&clearInterval(this.intervalId)},onClickRefresh:function(){this.debounceDexQuerySellBase()},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},onSellCoinMax:function(){if(this.sellAmount=this.coinBalance[this.sellCoin.name].balance,this.sellCoin.name===this.gasCoin){var t=this.isCrossMode?this.$DI.get("Network").getNetworkConfig().minCrossGasBalance:this.$DI.get("Network").getNetworkConfig().minGasBalance;this.sellAmount-=t,this.sellAmount<0&&(this.sellAmount=0)}this.sellMax=!0,this.debounceDexQuerySellBase()},onClickChangeOrder:function(){if(!this.isCrossMode){this.sellMax=!1;var t=[this.getCoin,this.sellCoin];this.sellCoin=t[0],this.getCoin=t[1],this.sellAmount=this.calGetAmount,this.getAmount="",this.fetchPriceContractError=!1,this.allDexQuerySellBase(),this.fetchApproval()}},onSellAmountInput:function(t){this.sellAmount=t,this.sellMax=!1,this.debounceDexQuerySellBase()},toBigNumber:function(a,b){return this.$DI.get("Utils").toBigNumber(a,b)},toSmallNumber:function(a,b){return this.$DI.get("Utils").toSmallNumber(a,b)},getUserBalance:function(){this.$store.dispatch("auth/SYNC_AUTH"),this.fetchCoinBalance(),this.isCrossMode&&this.$refs.DexCoinCrossInputGet&&this.$refs.DexCoinCrossInputGet.getUserBalanceByChain()},dexQuerySellBase:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.dexPriceQuerying=!0,e.prev=1,t.fetchPriceContractError=!1,e.next=5,t.$DI.get("Web3").dexQuerySwap(t.sellCoin,t.getCoin,t.sellAmountBig);case 5:n=e.sent,t.getAmount=t.cutNumber(n,t.getCoin.fix),e.next=15;break;case 9:if(e.prev=9,e.t0=e.catch(1),!t.isGuest){e.next=13;break}return e.abrupt("return");case 13:t.fetchPriceContractError||(console.log("Woo in Maintenance"),t.fetchPriceContractError=!0),console.log(e.t0);case 15:t.dexPriceQuerying=!1;case 16:case"end":return e.stop()}}),e,null,[[1,9]])})))()},onClickApproval:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isGuest){e.next=2;break}return e.abrupt("return");case 2:if(e.prev=2,!t.isCrossMode){e.next=9;break}return e.next=6,t.$DI.get("Web3").crossChainMethods.crossApprovePromise(t.sellCoin);case 6:n=e.sent,e.next=12;break;case 9:return e.next=11,t.$DI.get("Web3").dexApprovePromise(t.sellCoin);case 11:n=e.sent;case 12:n.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","DEX_APPROVAL")})).on("receipt",function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$DI.get("Notification").succeedWithInfo({lineA:"Approved ".concat(t.sellCoin.displayName),tx:t.tx}),t.fetchApproval(),t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","DEX_APPROVAL"),e.next=5,t.getUserBalance();case 5:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()),e.next=18;break;case 15:e.prev=15,e.t0=e.catch(2),console.log(e.t0);case 18:case"end":return e.stop()}}),e,null,[[2,15]])})))()},fetchApproval:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isGuest){e.next=2;break}return e.abrupt("return");case 2:if(!t.isCrossMode){e.next=8;break}return e.next=5,t.$DI.get("Web3").crossChainMethods.getCrossErc20Allowance(t.sellCoin);case 5:return(n=e.sent).coinObj.contract===t.sellCoin.contract&&(t.dexAllowance=n.allowance),e.abrupt("return");case 8:return e.next=10,t.$DI.get("Web3").getDexApprovalAllowance(t.sellCoin);case 10:t.dexAllowance=e.sent;case 11:case"end":return e.stop()}}),e)})))()},onSellCoinSelect:function(t){this.isCrossMode||t.name!==this.getCoin.name?(this.sellCoin=t,this.sellMax=!1,this.fetchApproval(),this.debounceDexQuerySellBase()):this.onClickChangeOrder()},onGetCoinSelect:function(t){this.isCrossMode||t.name!==this.sellCoin.name?(this.getCoin=t,this.debounceDexQuerySellBase()):this.onClickChangeOrder()},fetchCoinBalance:function(){var t=this;this.coinList.forEach(function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getCoinBalance(n);case 2:r=e.sent,t.$set(t.coinBalance,n.name,r);case 4:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},onClickSetting:function(){this.$refs.SwapSetting.triggerDialog()},onClickSwapProxy:function(){this.needsDexApproval?this.onClickApproval():this.onClickSwap()},onClickSwap:function(){this.isCrossMode&&(this.refId=Math.floor(1e4+9e4*Math.random())+String(Date.now())),this.$refs.DexConfirm.openDialog(),this.fetchPriceContractError&&this.fetchDodoDexInfo()},onSwapConfirmProxy:function(t){this.sendTargetChainExtraGas=t,this.$refs.DexDialogConfirm.openDialog(),this.isCrossMode?this.onSwapCrossConfirm():this.onSwapConfirm()},onSwapCrossConfirm:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,o,c,h,f,m,v,C;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.toBigNumber(t.getAmountMin,t.getCoin.decimals),o=t.crossPriceInfo.route_amounts.src.slice(-1),c=Object(r.a)(o,1),h=c[0],f=d.a.BigNumber.from(h).mul(100-t.realSlippageTolerance).div(100),console.log("srcMinQuoteAmountWithSlippage",f.toString()),e.next=7,t.$DI.get("Web3").crossChainMethods.crossSwapAndBridgePromise(t.refId,t.sellCoin,t.getCoin,t.sellAmountBig,f,n,t.currentNetwork,t.userSelectCrossToNetwork,t.crossTargetAddress,t.sendTargetChainExtraGas,t.crossPriceInfo);case 7:m=e.sent,C=t.refId,t.crossTargetAddress="",m.transaction.on("transactionHash",(function(e){t.$refs.DexDialogConfirm.closeDialog(),v=e,t.$refs.DexCrossQueue.appendQueue({tx:v,refId:C,time:Date.now(),src:{chain:t.currentNetwork,contract:t.sellCoin.contract,amount:t.sellAmount,pending:!0,isBase:!!t.crossPriceInfo.route_symbols.src[1]},dst:{chain:t.userSelectCrossToNetwork,contract:t.getCoin.contract,amount:t.calGetAmount,pending:!0,isBase:!!t.crossPriceInfo.route_symbols.dst[1],route:t.crossPriceInfo.route_symbols.dst}},!0)})).on("receipt",function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$refs.DexCrossQueue.markQueueSrcStatusSuccess(v),e.next=3,t.getUserBalance();case 3:t.debounceDexQuerySellBase(),t.fetchPendingReward(),t.onSellAmountInput(0),t.fetchApproval(),console.log("transaction success"),console.log("receipt: ",n);case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e,n){t.$refs.DexDialogConfirm.closeDialog(),console.log("error: ",e,n),e&&e.code&&4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Swap Cancelled",lineB:"User denied transaction signature"}):t.$refs.DexCrossQueue.markQueueSrcStatusError(v)})),e.next=16;break;case 13:e.prev=13,e.t0=e.catch(0),console.log(e.t0);case 16:case"end":return e.stop()}}),e,null,[[0,13]])})))()},onSwapConfirm:function(){var t=this;return Object(l.a)(regeneratorRuntime.mark((function e(){var n,r,o,c,d,h,m;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,r=t.toBigNumber(t.getAmountMin,t.getCoin.decimals),!t.fetchPriceContractError){e.next=8;break}return e.next=5,t.$DI.get("Web3").dexFallbackSwapPromise(t.sellCoin,t.getCoin,t.sellAmountBig,t.getAmountMinFallbackBig,t.dodoDexInfo);case 5:n=e.sent,e.next=12;break;case 8:return console.log("WooPP route"),e.next=11,t.$DI.get("Web3").dexSwapPromise(t.sellCoin,t.getCoin,t.sellAmountBig,r);case 11:n=e.sent;case 12:o=n.transaction,c=t.calGetAmount,d=t.sellAmount,h=bt(t.sellCoin),m=bt(t.getCoin),o.on("transactionHash",(function(e){t.$refs.DexDialogConfirm.closeDialog(),t.$refs.DexDialogSuccess.openDialog(),t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","DEX_SWAP"),console.log("click confirm"),console.log("transactionHash",e)})).on("receipt",function(){var e=Object(l.a)(regeneratorRuntime.mark((function e(n){var r,o,l,v;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$refs.DexDialogSuccess.closeDialog(),r="".concat(t.cutNumber(d,h.fix-2)," ").concat(h.displayName),o="".concat(t.cutNumber(c,m.fix-2)," ").concat(m.displayName),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",lineB:"Swap ".concat(r," for ").concat(o),tx:t.tx}),l="".concat(t.cutNumber(d,h.fix-1)," ").concat(h.displayName),v="".concat(t.cutNumber(c,m.fix-1)," ").concat(m.displayName),t.addToUserHistoryList({sell:l,get:v,sellAmount:d,getAmount:c,sellCoin:h,getCoin:m,timestamp:f()().unix(),hash:t.tx}),e.next=9,t.getUserBalance();case 9:t.fetchApproval(),t.debounceDexQuerySellBase(),t.fetchPendingReward(),t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","DEX_SWAP"),t.onSellAmountInput(0),console.log("transaction success"),console.log("receipt: ",n);case 16:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).on("error",(function(e,n){t.$refs.DexDialogConfirm.closeDialog(),t.$refs.DexDialogSuccess.closeDialog(),e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Swap Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx})),console.log("user reject or lack gas"),console.log("error: ",e,n)})),e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),console.log("error",e.t0);case 23:case"end":return e.stop()}}),e,null,[[0,20]])})))()},onSettingChange:function(){this.slippageTolerance=localStorage.getItem("SWAP_SETTING_TOLERANCE")},onClickTopAd:function(){window.open("https://pro.olympusdao.finance/#/partners/WOO%20DAO","_blank")},addToUserHistoryList:function(t){this.userHistoryList.push(t)},onCrossAddressEnter:function(address){this.crossTargetAddress=address},onChainSelect:function(t){this.userSelectCrossToNetwork=t.key,localStorage.setItem(this.localStorageCrossTargetChain,t.key),this.allDexQuerySellBase(),this.$refs.CrossChainAlert}}},_t=(n(1444),{name:"Index",components:{Dex:Object(C.a)(yt,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"dex"},[t._e(),r("div",{staticClass:"top"},[r("div",{staticClass:"line-a bold"},[t._v("Smart liquidity, max efficiency.")]),r("div",{staticClass:"line-b hide"},[t.$isFromMobile?[t._v("Powered by WOO Network")]:[t._v("Powered by WOO Network's competitive price quoting and liquidity to offer better pricing at lower fees.")]],2)]),r("div",{staticClass:"main",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"mid"},[r("div",{staticClass:"block"},[r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"top-left"},[r("div",{staticClass:"title bold"},[r("span",[t._v("Swap")]),t.isZkSync?r("span",{staticClass:"beta touch"},[t._v("Beta")]):t._e()])]),r("div",{staticClass:"top-right flex-align"},[r("div",{staticClass:"item touch",on:{click:t.onClickRefresh}},[r("el-progress",{attrs:{width:24,color:"#39B9ED","stroke-width":3,type:"circle",percentage:t.countDownPercent,"show-text":!1}})],1),r("div",{staticClass:"item touch",on:{click:t.onClickSetting}},[r("img",{attrs:{src:n(1480)}})]),t.$isFromMobile?r("div",{staticClass:"item touch",on:{click:t.onClickHistoryDialogOpen}},[r("img",{attrs:{src:n(1481)}})]):t._e()])]),r("div",{staticClass:"coin-select"},[r("DexCoinCrossInput",{attrs:{role:"sell",currentNetwork:t.currentNetwork,selectedItem:t.sellCoin,amount:t.sellAmount,coinBalance:t.coinBalance,getCoin:t.getCoin,userSelectCrossToNetwork:t.userSelectCrossToNetwork,needsDexApproval:t.needsDexApproval,isCrossMode:t.isCrossMode},on:{input:t.onSellAmountInput,select:t.onSellCoinSelect,max:t.onSellCoinMax}}),r("img",{staticClass:"to",class:{touch:!t.isCrossMode},attrs:{src:n(465)},on:{click:t.onClickChangeOrder}}),r("DexCoinCrossInput",{ref:"DexCoinCrossInputGet",attrs:{role:"get",currentNetwork:t.currentNetwork,userSelectCrossToNetwork:t.userSelectCrossToNetwork,selectedItem:t.getCoin,sellCoin:t.sellCoin,amount:t.calGetAmount,coinBalance:t.coinBalance,isCrossMode:t.isCrossMode},on:{select:t.onGetCoinSelect,chain:t.onChainSelect}})],1),r("div",{staticClass:"action"},[r("div",{directives:[{name:"show",rawName:"v-show",value:!t.isCrossMode,expression:"!isCrossMode"}],staticClass:"list flex-all"},[r("div",{staticClass:"list-left"},[t._v("Slippage tolerance")]),r("div",{staticClass:"list-right"},[t._v(t._s(t.realSlippageTolerance)+"%")])]),r("CrossAddress",{directives:[{name:"show",rawName:"v-show",value:t.isCrossMode,expression:"isCrossMode"}],attrs:{address:t.crossTargetAddress},on:{updateAddress:t.onCrossAddressEnter}}),r("div",{staticClass:"submit"},[t.isGuest?r("el-button",{attrs:{type:"primary"},on:{click:t.onClickConnectWallet}},[t._v("Connect Wallet")]):r("el-button",{attrs:{type:"primary",disabled:t.swapButtonDisabled},on:{click:t.onClickSwapProxy}},[t._v(t._s(t.swapButtonText))])],1)],1)])]),r("div",{staticClass:"right"},[t.sellCoin&&t.getCoin?r("DexLineChart",{attrs:{sellCoin:t.sellCoin,getCoin:t.getCoin}}):t._e()],1)]),r("div",{staticClass:"compare"},[t.isCrossMode?t.$isFromMobile?t._e():r("DexCompareCross",{ref:"DexCompareCross",attrs:{sellCoin:t.sellCoin,getCoin:t.getCoin,sellAmount:t.sellAmount,getAmount:t.getAmount,crossPriceInfo:t.crossPriceInfo,dexPriceQuerying:t.dexPriceQuerying,isFetchPriceContractError:t.fetchPriceContractError,isCrossPriceDstInsufficient:t.isCrossPriceDstInsufficient,userSelectCrossToNetwork:t.userSelectCrossToNetwork}}):r("DexCompare",{ref:"DexCompare",attrs:{sellCoin:t.sellCoin,getCoin:t.getCoin,searchKey:t.searchKey,countDownPercent:t.countDownPercent,fetchPriceContractError:t.fetchPriceContractError,sellAmountBig:t.sellAmountBig,sellAmount:t.sellAmount},on:{wooInfo:t.onUpdateWooInfo,dodoInfo:t.onUpdateDodoInfo,currentBestInfo:t.onUpdateCurrentBestInfo,refresh:t.onClickRefresh}})],1),t.$isFromMobile?t._e():r("div",{staticClass:"history"},[r("DexHistory",{attrs:{userHistoryList:t.userHistoryList}})],1),r("SwapSetting",{ref:"SwapSetting",on:{settingChange:t.onSettingChange}}),r("DexConfirm",{ref:"DexConfirm",attrs:{getAmountMin:t.getAmountMin,refId:t.refId,sellCoin:t.sellCoin,getCoin:t.getCoin,sellPrice:t.sellPrice,getAmount:t.calGetAmount,sellAmount:t.sellAmount,wooInfo:t.wooInfo,dodoInfo:t.dodoInfo,isFetchPriceContractError:t.fetchPriceContractError,slippageTolerance:t.realSlippageTolerance,dodoDexInfo:t.dodoDexInfo,sourceName:t.sourceName,crossPriceInfo:t.crossPriceInfo,userSelectCrossToNetwork:t.userSelectCrossToNetwork,crossTargetAddress:t.crossTargetAddress,sellAmountBig:t.sellAmountBig},on:{confirm:t.onSwapConfirmProxy}}),r("DexDialogConfirm",{ref:"DexDialogConfirm",attrs:{sellCoin:t.sellCoin,getCoin:t.getCoin,getAmount:t.calGetAmount,sellAmount:t.sellAmount,isCrossMode:t.isCrossMode}}),r("DexDialogSuccess",{ref:"DexDialogSuccess",attrs:{tx:t.tx,getCoin:t.getCoin}}),t.$isFromMobile?r("DexHistoryDialog",{ref:"DexHistoryDialog",attrs:{userHistoryList:t.userHistoryList}}):t._e(),r("CrossChainAlert",{ref:"CrossChainAlert"}),r("DexCrossQueue",{ref:"DexCrossQueue",on:{history:t.addToUserHistoryList}})],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",[this._v("WOO DAO bond program is live on Avalanche, check out "),e("i",[this._v("Olympus Pro")]),this._v(" to get discounted WOO!")])}],!1,null,"610702e6",null).exports},head:{title:"WOOFi | Cross Chain Tokens Swap | Enjoy Lowest DeFi Swap Fees",meta:[{hid:"description",name:"description",content:"WOOFi is a decentralized exchange using a brand new on-chain market making algorithm called Synthetic Proactive Market Making (sPMM). Users can enjoy lowest cross chain token swap fees between BNB Chain, Avalanche, Polygon and Fantom with more support blockchains in coming."}]}}),wt=Object(C.a)(_t,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content container"},[e("Dex")],1)}),[],!1,null,"57d832c4",null);e.default=wt.exports},1515:function(t,e,n){"use strict";n.r(e);n(56),n(39),n(17);var r=n(2),o=(n(14),n(29),n(36),n(18)),l=(n(489),n(19),n(27),n(20),n(38),n(176)),c=n(91),d=n(5),h={props:{filterNetwork:{type:String,default:""}},data:function(){return{switchNetworkVisible:!1}},computed:{availableNetwork:function(){var t=d.a.get("Network").getNetworkListArray();return this.filterNetwork?[{key:"",chainNameShort:"All chains"}].concat(Object(c.a)(t)):t},currentChainId:function(){return this.$store.state.auth.currentChainId},displayNetwork:function(){var t=this;return this.filterNetwork?this.availableNetwork.filter((function(e){return e.key===t.filterNetwork}))[0]:{}}},mounted:function(){var t=this;this.$DI.get("Vue").$on("onBodyClick",(function(e){e("networkSelect")&&(t.switchNetworkVisible=!1)}))},methods:{onClickItem:function(t){t.disabled||(this.$emit("networkFilter",t.key),this.switchNetworkVisible=!1)},onClickSwitchNetwork:function(){this.switchNetworkVisible=!this.switchNetworkVisible}}},f=(n(1387),n(4)),m=Object(f.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"switch-network",attrs:{id:"networkSelect"}},[r("div",{staticClass:"selected flex-align touch",on:{click:t.onClickSwitchNetwork}},[t.filterNetwork?[r("img",{staticClass:"logo",attrs:{src:t.displayNetwork.logo}}),r("span",{staticClass:"bold"},[t._v(t._s(t.displayNetwork.name))])]:[r("div",{staticClass:"all"},[t._v("All chains")])],r("img",{staticClass:"down",class:{up:t.switchNetworkVisible},attrs:{src:n(192)}})],2),t.switchNetworkVisible?r("div",{staticClass:"switch-list-wrapper"},[r("div",{staticClass:"switch-list"},t._l(t.availableNetwork,(function(e){return r("div",{key:e.key,staticClass:"item flex-align",class:[{disabled:e.disabled,touch:!e.disabled,active:e.key===t.filterNetwork}],on:{click:function(n){return t.onClickItem(e)}}},[r("div",{staticClass:"left flex-align",class:{isAll:!e.key}},[r("img",{attrs:{src:e.logo}}),r("div",{staticClass:"name bold"},[t._v(t._s(e.chainNameShort))])]),t.$isFromMobile&&e.key===t.filterNetwork?r("div",{staticClass:"right"},[r("img",{attrs:{src:n(232)}})]):t._e()])})),0)]):t._e(),t.$isFromMobile&&t.switchNetworkVisible?r("div",{staticClass:"mask",on:{click:function(e){t.switchNetworkVisible=!1}}}):t._e()])}),[],!1,null,"2a5a6ba4",null).exports,v=(n(616),n(59),n(1460),n(16)),C=n.n(v),y=n(119),_={props:{vaultCoin:{type:Object,default:function(){return{}}},yieldData:{type:Object,default:function(){return{}}},userDeposited:{type:[Number,String],default:0}},data:function(){return{dialogVisible:!1,calPeriods:[1,7,30,365]}},computed:{displayTitle:function(){return Number(this.userDeposited)>0?"My profit estimate":"Profit per $1000"},calAmount:function(){return+this.userDeposited||1e3}},methods:{calRoi:function(t){var base=1===t?1:0,e=1===t?0:1;return Math.pow(Math.pow(this.yieldData.apy/100+1,1/365)-base,t)-e},calDisplayRoi:function(t){return this.cutNumber(100*this.calRoi(t),2)},calProfit:function(t){return this.calAmount*this.calRoi(t)},calDisplayProfit:function(t){return this.cutNumber(this.calProfit(t)/this.yieldData.price,this.vaultCoin.fix-2)+" "+this.vaultCoin.displayName},calDisplayProfitUsd:function(t){return this.cutNumber(this.calProfit(t),this.vaultCoin.fix)},closeDialog:function(){this.dialogVisible=!1},openDialog:function(){this.dialogVisible=!0},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)}}},w=(n(1389),Object(f.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"calculator"},[n("el-dialog",{attrs:{title:"ROI",visible:t.dialogVisible,width:t.$isFromMobile?"90%":"560px"},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?n("div",{staticClass:"calculator-dialog"},[n("div",{staticClass:"top-info"},[t._v("Calculated based on current rates. Rates are estimates provided for your convenience only. and by no means represent guaranteed returns.")]),n("div",{staticClass:"table-main"},[n("div",{staticClass:"row head flex-all"},[n("div",{staticClass:"col"},[t._v("Timeframe")]),n("div",{staticClass:"col"},[t._v("ROI")]),n("div",{staticClass:"col"},[t._v(t._s(t.displayTitle))])]),t._l(t.calPeriods,(function(e){return n("div",{key:e,staticClass:"row item flex-all"},[n("div",{staticClass:"col"},[t._v(t._s(e)+"d")]),n("div",{staticClass:"col"},[t._v(t._s(t.calDisplayRoi(e))+"%")]),n("div",{staticClass:"col"},[n("div",{staticClass:"coin-num"},[t._v(t._s(t.calDisplayProfit(e)))]),n("div",{staticClass:"dollar-num"},[t._v("~$"+t._s(t.calDisplayProfitUsd(e)))])])])}))],2)]):t._e()])],1)}),[],!1,null,"fb10feb0",null).exports),k={props:{vaultCoin:{type:Object,default:function(){return{}}},coinYeildData:{type:Object,default:function(){return{}}}},computed:{isOptimism:function(){return"optimism"===this.vaultCoin.network},currentNetwork:function(){return this.vaultCoin.network},reserveSource:function(){return this.vaultCoin.reserveSource?this.vaultCoin.reserveSource:{avax:"AAVE",polygon:"AAVE",bsc:"Alpaca",arbitrum:"AAVE",optimism:"AAVE",fantom:"Geist"}[this.currentNetwork]}},methods:{cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)}}},x=(n(1390),{components:{Content:Object(f.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"line total flex-all bold"},[n("div",{staticClass:"left"},[t._v("Total APR")]),n("div",{staticClass:"right"},[t._v(t._s(t.cutNumber(t.coinYeildData.weighted_average_apr+t.coinYeildData.x_woo_rewards_apr,2))+"%")])]),n("div",{staticClass:"line title flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.vaultCoin.displayName)+" APR")]),n("div",{staticClass:"right"},[t._v(t._s(t.cutNumber(t.coinYeildData.weighted_average_apr,2))+"%")])]),n("div",{staticClass:"group"},[n("div",{staticClass:"line text flex-all"},[n("div",{staticClass:"left"},[t._v("WOOFi ("+t._s(t.cutNumber(t.coinYeildData.loan_assets_percentage,2))+"% of Vault TVL)")]),n("div",{staticClass:"right"},[t._v(t._s(t.cutNumber(t.coinYeildData.loan_interest_apr,2))+"%")])]),n("div",{staticClass:"line text flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.reserveSource)+" ("+t._s(t.cutNumber(t.coinYeildData.reserve_vault_assets_percentage,2))+"% of Vault TVL)")]),n("div",{staticClass:"right"},[t._v(t._s(t.cutNumber(t.coinYeildData.reserve_vault_apr,2))+"%")])])]),n("div",{staticClass:"line bottom flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.isOptimism?"WOO":"xWOO")+" Reward APR")]),n("div",{staticClass:"right"},[t._v(t._s(t.cutNumber(t.coinYeildData.x_woo_rewards_apr,2))+"%")])])])}),[],!1,null,"b2084bf0",null).exports},props:{vaultCoin:{type:Object,default:function(){return{}}},coinYeildData:{type:Object,default:function(){return{}}}},data:function(){return{dialogVisible:!1,id:"apr-breakdown"+this.vaultCoin.vaultContract}},mounted:function(){var t=this;this.$DI.get("Vue").$on("onBodyClick",(function(e){e(t.id)&&(t.dialogVisible=!1)})),this.$DI.get("Vue").$on("onAprBreakdownClick",(function(e){e!==t.id&&(t.dialogVisible=!1)}))},methods:{onMouseOver:function(){this.timeoutId&&clearTimeout(this.timeoutId),this.onClickApr()},onMouseLeave:function(){var t=this;this.timeoutId=setTimeout((function(){t.dialogVisible=!1}),200)},onClickApr:function(){this.dialogVisible=!0,this.$DI.get("Vue").$emit("onAprBreakdownClick",this.id)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)}}}),D=(n(1391),Object(f.a)(x,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$isFromMobile?n("div",{staticClass:"mobile-dialog"},[n("el-dialog",{attrs:{title:"APR",visible:t.dialogVisible,width:t.$isFromMobile?"90%":"560px","append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?n("div",{staticClass:"calculator-dialog"},[n("Content",{attrs:{vaultCoin:t.vaultCoin,coinYeildData:t.coinYeildData}})],1):t._e()]),n("div",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0}}},[t._t("default")],2)],1):n("div",[n("div",{staticClass:"breakdown",attrs:{id:t.id},on:{click:function(e){return e.stopPropagation(),t.onClickApr(e)},mouseover:t.onMouseOver,mouseleave:t.onMouseLeave}},[t._t("default"),t.dialogVisible?n("div",{staticClass:"popover",on:{mouseleave:t.onMouseLeave}},[n("Content",{attrs:{vaultCoin:t.vaultCoin,coinYeildData:t.coinYeildData}})],1):t._e()],2)])])}),[],!1,null,"803b142e",null).exports),S={props:{displayUserEarnedCoinUsd:{type:[String,Number],default:""},vaultCoin:{type:Object,default:function(){return{}}},lendingPoolData:{type:Object,default:function(){return{}}},userEarnedWooUsd:{type:Number,default:0},userEarnedWoo:{type:Number,default:0},displayUserEarned:{type:String,default:""},displayUserEarnedUsd:{type:String,default:""}},computed:{isOptimism:function(){return"optimism"===this.vaultCoin.network},displayXWooBalance:function(){return this.cutNumber(this.userEarnedWoo,this.vaultCoin.fix)},displayXWooUsd:function(){return this.cutNumber(this.userEarnedWooUsd,2)}},methods:{cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)}}},I=(n(1392),{components:{Content:Object(f.a)(S,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content"},[n("div",{staticClass:"line flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.vaultCoin.displayName)+" earned")]),n("div",{staticClass:"right"},[n("span",{staticClass:"token"},[t._v(t._s(t.displayUserEarned))]),n("span",{staticClass:"dollar"},[t._v("($"+t._s(t.displayUserEarnedCoinUsd)+")")])])]),n("div",{staticClass:"line flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.isOptimism?"WOO":"xWOO")+" earned")]),n("div",{staticClass:"right"},[n("span",{staticClass:"token"},[t._v(t._s(t.displayXWooBalance))]),n("span",{staticClass:"dollar"},[t._v("($"+t._s(t.displayXWooUsd)+")")])])])])}),[],!1,null,"71536a2a",null).exports},props:{vaultCoin:{type:Object,default:function(){return{}}},lendingPoolData:{type:Object,default:function(){return{}}},userEarnedWooUsd:{type:Number,default:0},userEarnedWoo:{type:Number,default:0},displayUserEarned:{type:String,default:""},displayUserEarnedCoinUsd:{type:[String,Number],default:""},displayUserEarnedUsd:{type:String,default:""}},data:function(){return{dialogVisible:!1,id:"apr-breakdown"+this.vaultCoin.vaultContract}},computed:{displayXWooBalance:function(){return this.cutNumber(this.userEarnedWoo,this.vaultCoin.fix)},displayXWooUsd:function(){return this.cutNumber(this.userEarnedWooUsd,2)}},mounted:function(){var t=this;this.$DI.get("Vue").$on("onBodyClick",(function(e){e(t.id)&&(t.dialogVisible=!1)})),this.$DI.get("Vue").$on("onAprBreakdownClick",(function(e){e!==t.id&&(t.dialogVisible=!1)}))},methods:{onMouseOver:function(){this.timeoutId&&clearTimeout(this.timeoutId),this.onClickApr()},onMouseLeave:function(){var t=this;this.timeoutId=setTimeout((function(){t.dialogVisible=!1}),200)},onClickApr:function(){this.dialogVisible=!0,this.$DI.get("Vue").$emit("onAprBreakdownClick",this.id)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)}}}),N=(n(1393),Object(f.a)(I,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.$isFromMobile?n("div",{staticClass:"mobile-dialog"},[n("el-dialog",{attrs:{title:"APR",visible:t.dialogVisible,width:t.$isFromMobile?"90%":"560px","append-to-body":!0},on:{"update:visible":function(e){t.dialogVisible=e}}},[t.dialogVisible?n("div",{staticClass:"calculator-dialog"},[n("Content",{attrs:{vaultCoin:t.vaultCoin,lendingPoolData:t.lendingPoolData,userEarnedWooUsd:t.userEarnedWooUsd,userEarnedWoo:t.userEarnedWoo,displayUserEarned:t.displayUserEarned,displayUserEarnedCoinUsd:t.displayUserEarnedCoinUsd,displayUserEarnedUsd:t.displayUserEarnedUsd}})],1):t._e()]),n("div",{on:{click:function(e){e.stopPropagation(),t.dialogVisible=!0}}},[t._t("default")],2)],1):n("div",[n("div",{staticClass:"breakdown",attrs:{id:t.id},on:{click:function(e){return e.stopPropagation(),t.onClickApr(e)},mouseover:t.onMouseOver,mouseleave:t.onMouseLeave}},[t._t("default"),t.dialogVisible?n("div",{staticClass:"popover",on:{mouseleave:t.onMouseLeave}},[n("Content",{attrs:{vaultCoin:t.vaultCoin,lendingPoolData:t.lendingPoolData,userEarnedWooUsd:t.userEarnedWooUsd,userEarnedWoo:t.userEarnedWoo,displayUserEarned:t.displayUserEarned,displayUserEarnedCoinUsd:t.displayUserEarnedCoinUsd,displayUserEarnedUsd:t.displayUserEarnedUsd}})],1):t._e()],2)])])}),[],!1,null,"3a6617bb",null).exports),A=n(1394),E=n.n(A);n(34),n(35),n(97);function T(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function O(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?T(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):T(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var $={props:{userWithdrawAmount:{type:[Number,String],default:0},vaultCoin:{type:Object,default:function(){return{}}}},data:function(){return{visible:!1,userWithdrawAmountBig:"0",statusA:"loading",statusB:"pending",statusC:"pending",statusD:"pending",statusE:"pending"}},computed:{xCoinName:function(){return"we"+this.vaultCoinV2.displayName},vaultCoinV2:function(){var t=this,e=this.$DI.get("Coin").currentCoinConfig(),n=e.vaultCoinList.find((function(e){return"v2"===e.version&&e.vaultCoin===t.vaultCoin.vaultCoin})),r=e.coins.filter((function(t){return t.name===n.vaultCoin}))[0];return O(O({},n),r)}},methods:{openDialog:function(){this.visible=!0,this.statusA="loading",this.userWithdrawAmountBig=this.$DI.get("Utils").toBigNumber(this.userWithdrawAmount,this.vaultCoinV2.decimals),console.log("this.userWithdrawAmountBig: ",this.userWithdrawAmountBig.toString()),this.withdrawV1()},closeDialog:function(){this.visible=!1},withdrawV1:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.availableWithdrawPromise(t.vaultCoin);case 2:e.sent.transaction.on("error",(function(){t.statusA="error"})).then((function(){t.statusA="success",t.statusB="loading",t.approveV2()}));case 4:case"end":return e.stop()}}),e)})))()},approveV2:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.vaultCoinV2.isCrossSwapSpecialGasCoin){e.next=3;break}return t.approveV2Success(),e.abrupt("return");case 3:return e.next=5,t.$DI.get("Web3").vaultApprovePromise(t.vaultCoinV2);case 5:e.sent.transaction.on("error",(function(){t.statusB="error"})).then((function(){t.approveV2Success()}));case 7:case"end":return e.stop()}}),e)})))()},approveV2Success:function(){this.statusB="success",this.statusC="loading",this.depositV2()},depositV2:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").vaultDepositPromise(t.vaultCoinV2,t.userWithdrawAmountBig);case 2:e.sent.transaction.on("error",(function(){t.statusC="error"})).then((function(){t.statusC="success",t.statusD="loading",t.approveXcoin()}));case 4:case"end":return e.stop()}}),e)})))()},approveXcoin:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.farmApprovePromise(t.vaultCoinV2);case 2:e.sent.transaction.on("error",(function(){t.statusD="error"})).then((function(){t.statusD="success",t.statusE="loading",t.depositXcoin()}));case 4:case"end":return e.stop()}}),e)})))()},depositXcoin:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getVaultXCoinBalance(t.vaultCoinV2);case 2:return n=e.sent,e.next=5,t.$DI.get("Web3").lendingPoolMethods.farmDepositPromise(t.vaultCoinV2,n.rawBalance);case 5:e.sent.transaction.on("error",(function(){t.statusE="error"})).then((function(){t.statusE="success"}));case 7:case"end":return e.stop()}}),e)})))()}}},P=(n(1395),Object(f.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"wadv2"},[r("el-dialog",{staticClass:"cross-status-dialog",attrs:{title:"Migrate to the new vault",visible:t.visible,width:t.$isFromMobile?"90%":"600px","append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[r("div",{staticClass:"confirm-dialog"},[r("div",{staticClass:"note"},[t._v("Confirm the transaction in your wallet to continue")]),r("div",{staticClass:"progress"},[r("div",{staticClass:"list"},[[r("div",{staticClass:"item flex-align"},[["pending"===t.statusA?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})]):t._e(),"loading"===t.statusA?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"success"===t.statusA?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),"error"===t.statusA?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(151)}})]):t._e()],r("div",{staticClass:"text"},[t._v("Withdraw "+t._s(t.vaultCoin.displayName))])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(122)}})]),"error"===t.statusA?r("div",{staticClass:"text flex-align touch"},[r("span",[t._v("The transaction didn’t go through, please try again.")])]):t._e()])],t.vaultCoinV2.isCrossSwapSpecialGasCoin?t._e():[r("div",{staticClass:"item flex-align"},[["pending"===t.statusB?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})]):t._e(),"loading"===t.statusB?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"success"===t.statusB?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),"error"===t.statusB?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(151)}})]):t._e()],r("div",{staticClass:"text"},[t._v("Approve Supercharger v2")])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(122)}})]),"error"===t.statusB?r("div",{staticClass:"text flex-align touch"},[r("span",[t._v("The transaction didn't go through, please resume the operation in the new Supercharger vault.")])]):t._e()])],[r("div",{staticClass:"item flex-align"},[["pending"===t.statusC?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})]):t._e(),"loading"===t.statusC?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"success"===t.statusC?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),"error"===t.statusC?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(151)}})]):t._e()],r("div",{staticClass:"text"},[t._v("Deposit "+t._s(t.vaultCoin.displayName)+" to Supercharger v2")])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(122)}})]),"error"===t.statusC?r("div",{staticClass:"text flex-align touch"},[r("span",[t._v("The transaction didn't go through, please resume the operation in the new Supercharger vault.")])]):t._e()])],[r("div",{staticClass:"item flex-align"},[["pending"===t.statusD?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})]):t._e(),"loading"===t.statusD?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"success"===t.statusD?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),"error"===t.statusD?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(151)}})]):t._e()],r("div",{staticClass:"text"},[t._v("Approve "+t._s(t.xCoinName))])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(122)}})]),"error"===t.statusD?r("div",{staticClass:"text flex-align touch"},[r("span",[t._v("The transaction didn't go through, please resume the operation in the new Supercharger vault.")])]):t._e()])],[r("div",{staticClass:"item flex-align"},[["pending"===t.statusE?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})]):t._e(),"loading"===t.statusE?r("div",{staticClass:"pic loading"},[r("img",{attrs:{src:n(108)}})]):t._e(),"success"===t.statusE?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):t._e(),"error"===t.statusE?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(151)}})]):t._e()],r("div",{staticClass:"text"},[t._v("Stake "+t._s(t.xCoinName))])],2),r("div",{staticClass:"item flex-align pad"},[r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(122)}})]),"error"===t.statusE?r("div",{staticClass:"text flex-align touch"},[r("span",[t._v("The transaction didn't go through, please resume the operation in the new Supercharger vault.")])]):t._e()])],[r("div",{staticClass:"item flex-align"},[["success"===t.statusE?r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(83)}})]):r("div",{staticClass:"pic"},[r("img",{attrs:{src:n(121)}})])],r("div",{staticClass:"text"},[t._v("Complete")])],2)]],2)]),r("el-button",{staticStyle:{width:"100%","margin-top":"30px"},attrs:{type:"primary",disabled:"success"!==t.statusE},on:{click:t.closeDialog}},[t._v("Got it")])],1)])],1)}),[],!1,null,"08536c60",null).exports);C.a.extend(E.a);var R={components:{StakingInput:y.a,WithdrawAndDepositV2:P},props:{userDeposited:{type:[Number,String],default:0},vaultCoin:{type:Object,default:function(){return{}}},lendingPoolData:{type:Object,default:function(){return{}}},isNeedsStakeApproval:{type:Boolean,default:!1},isSuperChargerV1:{type:Boolean,default:!1},isSpecialVaultBscBUSD:{type:Boolean,default:!1},pricePerFullShare:{type:[Number,String],default:0}},data:function(){return{withdrawMode:!1,vaultInputNum:"",instantWithdrawConfirmVisible:!1,withdrawConfirmVisible:!1,isValueInputMax:!1,currentUtcTime:C.a.utc()}},computed:{nextUtcMondayTime:function(){return C.a.utc().startOf("week").add(1,"week")},isMigrateVisible:function(){return("usdt"!==this.vaultCoin.name||"bsc"!==this.$DI.get("CURRENT_NETWORK"))&&this.isSuperChargerV1},isLastCycle:function(){return this.lendingPoolData.isSettling},isNeedsApproval:function(){if(this.withdrawMode)return this.isNeedsStakeApproval;if(this.lendingPoolData.withdrawApprovalAllowance<=0)return!0;var t=this.lendingPoolData.withdrawApprovalAllowance*this.pricePerFullShare;return 18===this.vaultCoin.decimals?this.vaultInputNum>t:this.$DI.get("Utils").toSmallNumber(this.$DI.get("Utils").toBigNumber(this.vaultInputNum).div(Math.pow(10,18-this.vaultCoin.decimals)))>t},displayCountDownNextDay:function(){var t=this.nextUtcMondayTime.add(1,"day").diff(this.currentUtcTime,"day"),e=this.currentUtcTime.endOf("day").diff(this.currentUtcTime,"hour"),n=this.currentUtcTime.endOf("hour").diff(this.currentUtcTime,"minute");return"".concat(t,"d ").concat(e,"h ").concat(n,"m")},displayCountDown:function(){var t=this.nextUtcMondayTime.diff(this.currentUtcTime,"day"),e=this.currentUtcTime.endOf("day").diff(this.currentUtcTime,"hour"),n=this.currentUtcTime.endOf("hour").diff(this.currentUtcTime,"minute");return"".concat(t,"d ").concat(e,"h ").concat(n,"m")},displayTotalInstantWithdrawCap:function(){return this.lendingPoolData.totalInstantWithdrawCap>=0?this.$DI.get("Utils").formatMoney(this.lendingPoolData.totalInstantWithdrawCap,this.vaultCoin.fix-2):"-"},displayTotalInstantWithdrawnAmount:function(){return this.lendingPoolData.totalInstantWithdrawnAmount>=0?this.cutNumber(this.lendingPoolData.totalInstantWithdrawnAmount,this.vaultCoin.fix-2):"-"},displayUserRequestedWithdrawAmount:function(){return this.lendingPoolData.userRequestedWithdrawAmount>=0?this.cutNumber(this.lendingPoolData.userRequestedWithdrawAmount,this.vaultCoin.fix-2):"-"},displayUserWithdrawAmount:function(){return this.lendingPoolData.userWithdrawAmount>=0?this.cutNumber(this.lendingPoolData.userWithdrawAmount,this.vaultCoin.fix-2):"-"},displayInstantFee:function(){var t=.003*this.vaultInputNum;return this.cutNumber(t,this.vaultCoin.fix)},isInputBtnDisabled:function(){return!this.vaultInputNum||this.isInsufficientBalance},disableBtnObj:function(){var text="INSUFFICIENT BALANCE",t=!1,e=Number(this.vaultInputNum);if(this.vaultInputNum||0===this.vaultInputNum)if(this.isLastCycle)text="INSUFFICIENT BALANCE",t=!0;else if(e<0)t=!0,text="INSUFFICIENT BALANCE";else if(this.withdrawMode){var n=this.lendingPoolData.totalInstantWithdrawCap-this.lendingPoolData.totalInstantWithdrawnAmount;e>n&&(text="EXCEEDS LIMIT"),t=e>this.userDeposited||e>n}else text="INSUFFICIENT BALANCE",t=e>this.userDeposited;else t=!1;return{disabled:t,text:text}},isGuest:function(){return this.$store.state.auth.guest},displayCoinBalance:function(){return this.userDeposited<0?"-":this.cutNumber(this.userDeposited,this.vaultCoin.fix)}},mounted:function(){var t=this;this.dayjsId=setInterval((function(){t.currentUtcTime=C()().utc()}),1e3)},beforeDestroy:function(){this.dayjsId&&clearInterval(this.dayjsId)},methods:{onSwitchWithdrawMode:function(){this.resetUIStatus()},resetUIStatus:function(){this.vaultInputNum="",this.isValueInputMax=!1},onClickConnectWallet:function(){this.$DI.get("Vue").$emit("UI_CONNECT_WALLET")},onClickApprove:function(){this.$emit("approve",this.withdrawMode?"instant":"request")},onClickWithdraw:function(){this.withdrawMode?this.instantWithdrawConfirmVisible=!0:this.withdrawConfirmVisible=!0},onRequestWithdraw:function(){this.$emit("withdraw","request",this.vaultInputNum,this.isValueInputMax),this.withdrawConfirmVisible=!1},onInstantWithdraw:function(){this.$emit("withdraw","instant",this.vaultInputNum,this.isValueInputMax),this.instantWithdrawConfirmVisible=!1},onClickAvailableWithdraw:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$DI.get("Web3").lendingPoolMethods.availableWithdrawPromise(t.vaultCoin);case 3:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","EARN_DEPOSIT")})).on("receipt",(function(e){t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","EARN_DEPOSIT"),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:t.tx}),t.resetUIStatus(),t.fetchData(),t.$DI.get("Vue").$emit("EARN_FETCH_ALL_CHAIN_VAULT_INFO")})).on("error",(function(e,n){e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onVauleInput:function(t,e){this.vaultInputNum=t,e||(this.isValueInputMax=!1)},onVauleInputMax:function(){this.vaultInputNum=this.userDeposited,this.vaultInputNum=this.$DI.get("Utils").numToNonExponential(this.vaultInputNum),this.isValueInputMax=!0},onInputAvailable:function(){this.withdrawMode&&(this.isValueInputMax=!1,this.vaultInputNum=this.cutNumber(this.lendingPoolData.totalInstantWithdrawCap-this.lendingPoolData.totalInstantWithdrawnAmount,this.vaultCoin.fix-2))},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},onClickWithdrawAndDeposit:function(){this.$refs.WithdrawAndDepositV2.openDialog()}}},B=(n(1396),Object(f.a)(R,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"withdraw"},[r("div",{staticClass:"info"},[t.isLastCycle?r("div",{staticClass:"note"},[t._v("The vault is currently under the"),r("span",{staticClass:"time"},[t._v("settlement")]),t._v(" for the last cycle, and withdrawals are temporarily suspended. The process will be completed by"),r("span",{staticClass:"time"},[t._v("0:00 UTC Tuesday")]),t._v(" when the requests from the last cycle will be available for withdrawal and instant withdrawal limit will be reset.")]):r("div",{staticClass:"note"},[t.isSuperChargerV1?[t._m(0)]:t.isSpecialVaultBscBUSD?[t._m(1)]:[t._m(2),r("p",[r("b",[t._v("Standard withdrawal")]),t._v(": requests submitted before"),r("span",{staticClass:"time"},[t._v("0:00 UTC next Monday")]),t._v(" (in"),r("span",{staticClass:"time"},[t._v(t._s(t.displayCountDown))]),t._v(") will be available for withdrawals no later than"),r("span",{staticClass:"time"},[t._v("0:00 UTC next Tuesday")]),t._v(".")]),t._m(3)]],2),t.isSuperChargerV1||t.isSpecialVaultBscBUSD?t._e():r("div",{staticClass:"note-sub",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"limit flex-align"},[r("img",{staticClass:"hide",attrs:{src:n(220)}}),r("div",[t._v("Instant Withdrawal Limit:"),r("span",{staticClass:"limit-num",class:{touch:t.withdrawMode},on:{click:t.onInputAvailable}},[t._v(t._s(t.displayTotalInstantWithdrawnAmount)+"/"+t._s(t.displayTotalInstantWithdrawCap))]),t._v(" "+t._s(t.vaultCoin.displayName))])]),r("div",{staticClass:"mode flex-align"},[r("img",{staticClass:"hide",attrs:{src:n(220)}}),r("span",[t._v("Instant Withdraw")]),r("el-switch",{staticClass:"el-switch-medium",attrs:{width:35},on:{change:t.onSwitchWithdrawMode},model:{value:t.withdrawMode,callback:function(e){t.withdrawMode=e},expression:"withdrawMode"}})],1)])]),r("div",{staticClass:"input-line",class:{"flex-all":!t.$isFromMobile}},[r("StakingInput",{staticClass:"input",attrs:{displayCoinBalance:t.displayCoinBalance,operationCoinName:t.vaultCoin.displayName,amount:t.vaultInputNum,isMax:t.isValueInputMax},on:{input:t.onVauleInput,max:t.onVauleInputMax}}),t.isGuest?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickConnectWallet}},[t._v("Connect Wallet")]):t.isLastCycle?r("el-tooltip",[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("Withdrawals are suspended during the settlement.")]),r("el-button",{staticClass:"is-disabled btn",attrs:{type:"primary"}},[t._v(t._s(t.withdrawMode?"INSTANT WITHDRAW":"REQUEST WITHDRAWAL"))])],1):t.isNeedsApproval?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickApprove}},[t._v("APPROVE")]):t.disableBtnObj.disabled?r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[t._v(t._s(t.disableBtnObj.text))]):r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:t.isInputBtnDisabled},on:{click:function(){return t.onClickWithdraw()}}},[t._v(t._s(t.withdrawMode?"INSTANT WITHDRAW":"REQUEST WITHDRAWAL"))])],1),r("div",{staticClass:"withdraw-info",class:{"flex-align":!t.$isFromMobile}},[r("div",{staticClass:"requested flex-align"},[r("el-tooltip",[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("Funds will be available for withdrawals after the settlement at the end of the cycle.")]),t.$isFromMobile?t._e():r("img",{attrs:{src:n(220)}})]),r("div",[r("span",[t._v("Requested Withdrawals:")]),r("span",[t._v(t._s(t.displayUserRequestedWithdrawAmount)+" "+t._s(t.vaultCoin.displayName))])]),r("el-button",{staticClass:"round-btn hide",attrs:{type:"primary"}},[t._v("CANCEL")])],1),r("div",{staticClass:"available flex-align"},[r("el-tooltip",{staticClass:"hide"},[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("Funds requested from previous cycles are available for withdrawal here.")]),t.$isFromMobile?t._e():r("img",{attrs:{src:n(220)}})]),r("div",[r("span",[t._v("Available for Withdrawals:")]),r("span",[t._v(t._s(t.displayUserWithdrawAmount)+" "+t._s(t.vaultCoin.displayName))])]),t.isMigrateVisible?r("el-button",{staticClass:"round-btn migrate-to-new",attrs:{type:"primary",disabled:t.lendingPoolData.userWithdrawAmount<=0},on:{click:t.onClickWithdrawAndDeposit}},[t._v("WITHDRAW AND MIGRATE TO NEW VAULT")]):t._e(),r("el-button",{staticClass:"round-btn",attrs:{type:"primary",disabled:t.lendingPoolData.userWithdrawAmount<=0},on:{click:t.onClickAvailableWithdraw}},[t._v(t._s(t.isMigrateVisible&&!t.$isFromMobile?"WITHDRAW ONLY":"WITHDRAW"))])],1)]),t.isMigrateVisible?r("WithdrawAndDepositV2",{ref:"WithdrawAndDepositV2",attrs:{userWithdrawAmount:t.lendingPoolData.userWithdrawAmount,vaultCoin:t.vaultCoin}}):t._e(),r("el-dialog",{attrs:{title:"Request Confirmation",visible:t.withdrawConfirmVisible,width:t.$isFromMobile?"90%":"510px","custom-class":"confirm-dialog"},on:{"update:visible":function(e){t.withdrawConfirmVisible=e}}},[r("div",{staticClass:"confirm-text"},[r("p",[t._v("You are requesting to withdraw "),r("span",[t._v(t._s(t.vaultInputNum))]),t._v(" "+t._s(t.vaultCoin.displayName)+",  "),t.isSuperChargerV1?[t._v("which are settled at least every 24 hours from 1PM UTC on January 11th. Once you have received your assets, please deposit them into a new Supercharger vault to continue earning yield.")]:[t._v("which will be available for withdrawal after the next settlement, no later than 0:00 UTC next Tuesday (in "),r("span",[t._v(t._s(t.displayCountDownNextDay))]),t._v("). Please note funds will "),r("b",[t._v("NOT")]),t._v(' be automatically sent to your wallet after the settlement, use the "WITHDRAW" button next to "Available for Withdrawal" to do so.')]],2)]),r("div",{staticClass:"confirm-operation"},[r("el-button",{attrs:{type:"primary"},on:{click:t.onRequestWithdraw}},[t._v("REQUEST WITHDRAW")]),r("el-button",{on:{click:function(e){t.withdrawConfirmVisible=!1}}},[t._v("CANCEL")])],1)]),r("el-dialog",{attrs:{title:"Instant Withdraw Confirmation",visible:t.instantWithdrawConfirmVisible,width:t.$isFromMobile?"90%":"510px","custom-class":"confirm-dialog"},on:{"update:visible":function(e){t.instantWithdrawConfirmVisible=e}}},[r("div",{staticClass:"confirm-text"},[r("p",[t._v("Your instant withdrawal will be charged with a 0.3% fee ("),r("span",[t._v(t._s(t.displayInstantFee))]),t._v(" "+t._s(t.vaultCoin.displayName)+"), the funds will be withdrawn to your wallet instantly. Are you sure you want to proceed?")])]),r("div",{staticClass:"instant-confirm-operation flex-all"},[r("el-button",{on:{click:function(e){t.withdrawConfirmVisible=!1}}},[t._v("CANCEL")]),r("el-button",{attrs:{type:"primary"},on:{click:t.onInstantWithdraw}},[t._v("CONFIRM")])],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("STEP 2:")]),this._v(" Withdraw your assets by first clicking the ‘request withdrawal’ button, and then the ‘withdraw’ button at the bottom once the settlement is done. Withdrawals will be settled from 1PM UTC on January 11th and at least every 24 hours thereafter. Once you have received your assets, please deposit them into a new Supercharger vault to continue earning yield.")])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("STEP 2:")]),this._v(' Withdraw your assets by first clicking the "request withdrawal" button, and then the "withdraw" button once the settlement is done. Withdrawals will be settled from 1PM UTC on April 12th and at least every 24 hours thereafter.')])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[e("b",[this._v("STEP 2:")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",{staticStyle:{"margin-top":"10px"}},[e("b",[this._v("Instant withdrawal")]),this._v(": 10% of the vault TVL is available for instant withdrawals with a 0.3% fee. The instant withdrawal limit resets after settlement every Monday.")])}],!1,null,"0690df30",null).exports),W={components:{StakingInput:y.a},props:{lendingPoolData:{type:Object,default:function(){return{}}},vaultCoin:{type:Object,default:function(){return{}}},xCoinBalance:{type:[Object,String],default:function(){return{}}},isDeposit:{type:Boolean,default:!1},vaultContractInited:{type:Boolean,default:!1},isSpecialVaultBscBUSD:{type:Boolean,default:!1},isSuperChargerV1:{type:Boolean,default:!1}},data:function(){return{isUnstake:!1,vaultInputNum:"",instantWithdrawConfirmVisible:!1,withdrawConfirmVisible:!1,isValueInputMax:!1,farmAllowance:0}},computed:{isOptimism:function(){return"optimism"===this.vaultCoin.network},isNeedsApproval:function(){return!this.isUnstake&&(this.farmAllowance<=0||(18===this.vaultCoin.decimals?this.vaultInputNum>this.farmAllowance:this.$DI.get("Utils").toSmallNumber(this.$DI.get("Utils").toBigNumber(this.vaultInputNum).div(Math.pow(10,18-this.vaultCoin.decimals)))>this.farmAllowance))},depositedXCoin:function(){return this.lendingPoolData.depositedXCoin},xWooBalance:function(){return this.lendingPoolData.xWooBalance?this.lendingPoolData.xWooBalance.balance:0},displayXWooBalance:function(){return 0===this.xWooBalance?"0.0":this.cutNumber(this.xWooBalance,4)},inputTotalBalance:function(){return this.isUnstake?this.depositedXCoin?this.depositedXCoin.balance:0:this.xCoinBalance?this.xCoinBalance.balance:0},displayInputTotalBalance:function(){return this.cutNumber(this.inputTotalBalance,this.vaultCoin.fix)},xCoinName:function(){return"we"+this.vaultCoin.displayName},disableBtnObj:function(){var text="INSUFFICIENT BALANCE",t=!1,e=Number(this.vaultInputNum);return this.vaultInputNum||0===this.vaultInputNum?e<0?(t=!0,text="INSUFFICIENT BALANCE"):(text="INSUFFICIENT BALANCE",t=e>this.inputTotalBalance):t=!1,{disabled:t,text:text}},isGuest:function(){return this.$store.state.auth.guest},displayXCoinDeposited:function(){return!this.depositedXCoin||this.depositedXCoin.balance<0?"-":this.cutNumber(this.depositedXCoin.balance,this.vaultCoin.fix)}},watch:{isDeposit:{immediate:!0,handler:function(t){this.resetUIStatus(),this.isUnstake=!t}},vaultContractInited:{immediate:!0,handler:function(t){t&&this.fetchData()}}},methods:{fetchData:function(){this.fetchIsNeedsApproval()},fetchIsNeedsApproval:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getFarmAllowance(t.vaultCoin);case 2:n=e.sent,t.farmAllowance=n.allowance;case 4:case"end":return e.stop()}}),e)})))()},resetUIStatus:function(){this.vaultInputNum="",this.isValueInputMax=!1},onClickConnectWallet:function(){this.$DI.get("Vue").$emit("UI_CONNECT_WALLET")},onClickApprove:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$DI.get("Web3").lendingPoolMethods.farmApprovePromise(t.vaultCoin);case 3:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","FARM_APPROVAL")})).on("receipt",(function(e){t.$DI.get("Notification").succeedWithInfo({lineA:"Approved ".concat(t.xCoinName),tx:t.tx}),t.fetchData(),t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","FARM_APPROVAL")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onClaimReward:function(){this.xWooBalance&&this.onClaimFarmRewards()},onClaimFarmRewards:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$DI.get("Web3").lendingPoolMethods.getFarmRewardsPromise(t.vaultCoin);case 3:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","FARM_REWARDS")})).once("receipt",(function(e){t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","FARM_REWARDS"),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:t.tx}),t.resetUIStatus(),t.fetchData(),t.emit("refreshData")})).on("error",(function(e,n){e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onClickStakeOrUnStake:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(r="FARM_DEPOSIT"+e.vaultCoin.name,t||e.vaultInputNum){n.next=3;break}return n.abrupt("return");case 3:if(n.prev=3,e.isUnstake){n.next=11;break}return o=e.isValueInputMax?e.xCoinBalance.rawBalance:e.toBigNumber(e.vaultInputNum,e.vaultCoin.decimals),n.next=8,e.$DI.get("Web3").lendingPoolMethods.farmDepositPromise(e.vaultCoin,o);case 8:l=n.sent,n.next=15;break;case 11:return o=e.isValueInputMax?e.depositedXCoin.rawBalance:e.toBigNumber(e.vaultInputNum,e.vaultCoin.decimals),n.next=14,e.$DI.get("Web3").lendingPoolMethods.farmWithdrawPromise(e.vaultCoin,o);case 14:l=n.sent;case 15:l.transaction.on("transactionHash",(function(t){e.tx=t,e.$DI.get("Vue").$emit("UI_ADD_PENDING",r)})).once("receipt",(function(t){e.$DI.get("Vue").$emit("UI_REMOVE_PENDING",r),e.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:e.tx}),e.resetUIStatus(),e.fetchData(),e.emit("refreshData")})).on("error",(function(t,n){t&&t.code&&(4001===t.code?e.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):e.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:e.tx}))})),n.next=21;break;case 18:n.prev=18,n.t0=n.catch(3),console.log(n.t0);case 21:case"end":return n.stop()}}),n,null,[[3,18]])})))()},onVauleInput:function(t,e){this.vaultInputNum=t,e||(this.isValueInputMax=!1)},onVauleInputMax:function(){this.vaultInputNum=this.inputTotalBalance,this.isValueInputMax=!0},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},toBigNumber:function(a,b){return this.$DI.get("Utils").toBigNumber(a,b)},onGoToStake:function(){this.$router.push(this.localeRoute({name:"stake"}))}}},L=(n(1397),Object(f.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"withdraw",class:{isDeposit:t.isDeposit,isWithdraw:!t.isDeposit}},[r("div",{staticClass:"info"},[r("div",{staticClass:"note"},[r("div",{staticClass:"left"},[t.isDeposit?[t.isSuperChargerV1?[t._v("All rewards earned before January 11th will be automatically claimed upon withdrawal.")]:t.isSpecialVaultBscBUSD?[r("b",[t._v("STEP 2: ")]),t._v(" All rewards earned before April 12 will be automatically claimed upon withdrawal.")]:t.isOptimism?[r("b",[t._v("STEP 2: ")]),t._v(" Stake "+t._s(t.xCoinName)+" to get WOO rewards.")]:[r("b",[t._v("STEP 2: ")]),t._v(" Stake "+t._s(t.xCoinName)+" to get xWOO rewards. xWOO is the interest bearing token of staked WOO, check"),r("span",{staticClass:"go-stake touch",on:{click:t.onGoToStake}},[t._v("Staking page")]),t._v("for details.")]]:[t.isSuperChargerV1||t.isSpecialVaultBscBUSD?[r("b",[t._v("STEP 1: ")]),t._v(" Unstake your "+t._s(t.xCoinName)+".")]:[r("b",[t._v("STEP 1: ")]),t._v("Unstake "+t._s(t.xCoinName)+" first before withdrawal. You will no longer earn xWOO rewards after unstaking.")]]],2)])]),r("div",{staticClass:"operation",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[r("div",{staticClass:"input-line",class:{"flex-all":!t.$isFromMobile}},[r("StakingInput",{staticClass:"input",attrs:{displayCoinBalance:t.displayInputTotalBalance,operationCoinName:t.xCoinName,amount:t.vaultInputNum,isMax:t.isValueInputMax},on:{input:t.onVauleInput,max:t.onVauleInputMax}}),t.isGuest?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickConnectWallet}},[t._v("Connect Wallet")]):!t.isUnstake&&t.isSuperChargerV1?r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[t._v("STAKE")]):t.isNeedsApproval?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickApprove}},[t._v("APPROVE "+t._s(t.xCoinName))]):t.disableBtnObj.disabled?r("el-button",{staticClass:"btn small",attrs:{type:"primary",disabled:""}},[t._v(t._s(t.disableBtnObj.text))]):r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:function(){return t.onClickStakeOrUnStake()}}},[t._v(t._s(t.isUnstake?"UNSTAKE":"STAKE"))])],1)]),t.isDeposit?r("div",{staticClass:"right"},[r("div",{staticClass:"wrapper flex-all"},[r("div",{staticClass:"l"},[r("div",{staticClass:"l-a"},[t._v(t._s(t.isOptimism?"WOO":"xWOO")+" Reward")]),r("div",{staticClass:"l-b"},[t._v(t._s(t.displayXWooBalance))])]),r("div",{staticClass:"r"},[r("div",{staticClass:"btn-o",class:{disabled:t.xWooBalance<=0},on:{click:t.onClaimReward}},[t._v("CLAIM")]),r("div",{staticClass:"note-sub flex-all"})])])]):t._e()]),r("div",{staticClass:"limit flex-align"},[r("img",{staticClass:"hide",attrs:{src:n(220)}}),r("div",[t._v("Staked: "+t._s(t.displayXCoinDeposited)+" "+t._s(t.xCoinName))])])])}),[],!1,null,"d4b099fe",null).exports),M={props:{title:{type:String,default:""},sort:{type:String,default:""},sortKey:{type:String,default:""}},data:function(){return{value:""}},computed:{isActive:function(){return this.sort.includes(this.sortKey)},isAscActive:function(){return this.isActive&&this.sort.includes("+")},isDescActive:function(){return this.isActive&&this.sort.includes("-")}},methods:{onSortClickProxy:function(){this.isActive?this.isAscActive?this.onSortClick("-"):this.onSortClick(""):this.onSortClick("+")},onSortClick:function(t){t?this.$emit("sort",t+this.sortKey):this.$emit("sort","")}}},F=(n(1398),Object(f.a)(M,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"sort touch",on:{click:this.onSortClickProxy}},[e("div",{staticClass:"title"},[this._v(this._s(this.title))]),e("span",{staticClass:"caret-wrapper"},[e("i",{staticClass:"sort-caret ascending",class:{active:this.isDescActive}}),e("i",{staticClass:"sort-caret descending",class:{active:this.isAscActive}})])])}),[],!1,null,"576479f3",null).exports),V=n(177),U={components:{StakingInput:y.a,ScrollNumber:V.a,Calculator:w,AprBreakdown:D,EarnBreakdown:N,Farm:L,LendingPoolWithdraw:B,Sort:F},props:{vaultCoin:{type:Object,default:function(){return{}}},type:{type:String,default:""},sort:{type:String,default:""}},data:function(){return{activeTab:"Deposit",operationExpanded:!1,vaultInputNum:"",isVauleInputMax:!1,coinBalance:{},tx:"",pricePerFullShare:"",costSharePrice:"",xCoinBalance:"",withdrawConfirmVisible:!1,feAddedUserEarn:0,stargateDeltaCredit:"",dataFetchProcess:new Set,lendingPoolData:{},operationHeight:0,tokenAllowance:0,vaultContractInited:!1}},computed:{isTitleType:function(){return"title"===this.type},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},displayEarnedTip:function(){return'The real time yields are estimated based on the <a class="link-underline link-text-white" target="_blank" href="https://learn.woo.org/woofi/earn#how-does-woofi-earn-optimize-apy">harvest frequency</a> of the vault.'},localStorageKeySellCoin:function(){return"USER_DEX_SELECT_SELL_COIN_"+this.$DI.get("CURRENT_NETWORK")},isSuperChargerV2:function(){return this.isLendingPool&&"v2"===this.vaultCoin.version},isSuperChargerV1:function(){return this.isLendingPool&&"v1"===this.vaultCoin.version},isSpecialVaultBscBUSD:function(){return"bsc"===this.currentNetwork&&"busd"===this.vaultCoin.name},isLendingPool:function(){return!!this.vaultCoin.vaultWithdrawContract},localStorageKeyGetCoin:function(){return"USER_DEX_SELECT_GET_COIN_"+this.$DI.get("CURRENT_NETWORK")},isWithdraw:function(){return"Withdraw"===this.activeTab},xCoinName:function(){return"we"+this.vaultCoin.displayName},displayXPriceLabel:function(){return this.$isFromMobile&&this.vaultCoin.isLp?"1 weLP = ".concat(this.displayPricePerFullShare," LP"):"1 ".concat(this.xCoinName," = ").concat(this.displayPricePerFullShare," ").concat(this.vaultCoin.displayName)},displayCoinBalance:function(){return this.isWithdraw?this.userDeposited<0?"-":this.cutNumber(this.userDeposited,this.vaultCoin.fix):this.cutNumber(this.coinBalance.balance,this.vaultCoin.fix)},isInputBtnDisabled:function(){return!this.vaultInputNum||this.isInsufficientBalance},isInsufficientBalance:function(){return this.isWithdraw?this.vaultInputNum>this.userDeposited:this.vaultInputNum>this.coinBalance.balance},getCoinText:function(){return this.vaultCoin.isLp&&this.isWithdraw?"Remove":"Get"},displayUserDeposited:function(){return this.userDeposited<0?"-":0===this.userDeposited?"0.0":this.cutNumber(this.userDeposited,this.vaultCoin.fix-2)},displayUserDepositedUsd:function(){return this.userDeposited<0?"-":this.formatMoney(this.userDepositedUsd,2)},userDepositedUsd:function(){return this.userDeposited<=0||!this.coinYeildData.price?0:this.userDeposited*this.coinYeildData.price},displayXCoinBalance:function(){return this.xCoinBalance.balance<=0?"0.0":this.cutNumber(this.xCoinBalance.balance,this.vaultCoin.fix)},userDepositedNormalTokenBalance:function(){return this.xCoinBalance?this.xCoinBalance.balance:0},userDepositedNormalToken:function(){return this.pricePerFullShare?this.userDepositedNormalTokenBalance*this.pricePerFullShare:-1},userDepositedWeTokenBalance:function(){return this.isLendingPool&&this.lendingPoolData.depositedXCoin?this.lendingPoolData.depositedXCoin.balance:0},userDepositedWeToken:function(){return this.userDepositedWeTokenBalance*this.pricePerFullShare},userDeposited:function(){if(this.isGuest)return-1;var t=0;if(this.vaultCoin.addTotal&&(t+=this.vaultCoin.addTotal.superChargerRequestedWithdrawAmounts?Number(this.vaultCoin.addTotal.superChargerRequestedWithdrawAmounts):0,t+=this.vaultCoin.addTotal.superChargerWithdrawAmounts?Number(this.vaultCoin.addTotal.superChargerWithdrawAmounts):0),!this.isCurrentNetworkCoin)return this.vaultCoin.addTotal?this.vaultCoin.addTotal.deposited+t:-1;if(!this.xCoinBalance||!this.pricePerFullShare)return-1;var e=this.userDepositedNormalToken+this.userDepositedWeToken+t;return this.cutNumber(e,this.vaultCoin.fix+6)},userEarned:function(){if(!this.isCurrentNetworkCoin)return this.vaultCoin.addTotal?this.vaultCoin.addTotal.earnedToken:0;var t=(this.userDepositedNormalTokenBalance+this.userDepositedWeTokenBalance)*(this.pricePerFullShare-this.costSharePrice)+this.feAddedUserEarn;return t<0?0:t},userEarnedWoo:function(){return this.isCurrentNetworkCoin?this.isLendingPool?this.lendingPoolData.xWooBalance?this.lendingPoolData.xWooBalance.balance:0:void 0:this.vaultCoin.addTotal?this.vaultCoin.addTotal.earnedWoo:0},userEarnedWooUsd:function(){return this.isCurrentNetworkCoin?this.userEarnedWoo*this.$store.state.auth.wooPrice:this.vaultCoin.addTotal?this.vaultCoin.addTotal.earnedWooUsd:0},displayUserEarnedCoinUsd:function(){if(!this.isCurrentNetworkCoin){var t=this.vaultCoin.addTotal?this.vaultCoin.addTotal.earnedTokenUsd:0;return this.formatMoney(t,2)}if(!(this.xCoinBalance&&this.pricePerFullShare&&this.costSharePrice&&this.coinYeildData.price))return 0;var e=this.userEarned*this.coinYeildData.price;return this.formatMoney(e,2)},userEarnedUsd:function(){if(!this.isCurrentNetworkCoin)return this.vaultCoin.addTotal?this.vaultCoin.addTotal.earnedUsd:0;if(!(this.xCoinBalance&&this.pricePerFullShare&&this.costSharePrice&&this.coinYeildData.price))return 0;var t=this.userEarned*this.coinYeildData.price;return this.isLendingPool&&(t+=this.userEarnedWooUsd),t},displayUserEarned:function(){return this.isCurrentNetworkCoin?this.xCoinBalance&&this.pricePerFullShare&&this.costSharePrice?this.cutNumber(this.userEarned,this.vaultCoin.fix):"0.0":this.userEarned<0?"0.0":this.cutNumber(this.userEarned,this.vaultCoin.fix)},displayUserEarnedUsd:function(){return this.formatMoney(this.userEarnedUsd,2)},displayPricePerFullShare:function(){return this.pricePerFullShare?this.cutNumber(this.pricePerFullShare,6):"-"},displayVaultContract:function(){return"".concat(this.vaultCoin.vaultContract.slice(0,6),"...").concat(this.vaultCoin.vaultContract.substr(-4))},displayUserBalance:function(){return this.userBalance<0?"-":0===this.userBalance?"0.0":this.cutNumber(this.userBalance,this.vaultCoin.fix-2)},displayUserBalanceUsd:function(){return this.userBalance<0?"-":this.coinYeildData.price?this.formatMoney(this.userBalance*this.coinYeildData.price,2):"-"},userBalance:function(){return this.isCurrentNetworkCoin?this.coinBalance.balance>=0?this.coinBalance.balance:-1:this.vaultCoin.addTotal&&this.vaultCoin.addTotal.userBalance>=0?this.vaultCoin.addTotal.userBalance:-1},isGuest:function(){return this.$store.state.auth.guest},isStargate:function(){return!!this.vaultCoin.stargateContract},isNeedsStakeApproval:function(){return this.tokenAllowance<=0||this.vaultInputNum>this.tokenAllowance},displayApr:function(){return this.coinYeildData.weighted_average_apr?this.cutNumber(this.coinYeildData.weighted_average_apr+this.coinYeildData.x_woo_rewards_apr,2):"-"},displayApy:function(){return this.vaultCoin.isInactive?"-":this.coinYeildData.apy||0===this.coinYeildData.apy?this.cutNumber(this.coinYeildData.apy,2):"-"},calcApy:function(){return this.isLendingPool?this.coinYeildData.weighted_average_apr+this.coinYeildData.x_woo_rewards_apr:this.coinYeildData.apy},displayTvl:function(){if(!this.coinYeildData.tvl)return"-";var small=this.$DI.get("Utils").toSmallNumber(this.coinYeildData.tvl,this.vaultCoin.decimals);return"$"+this.shorthandMoney(small,2)},coinYeildData:function(){return this.vaultCoin},gasCoin:function(){return this.$DI.get("Network").getNetworkCurrency().name},isGasCoin:function(){return this.vaultCoin.name===this.gasCoin},minGasBalance:function(){return this.$DI.get("Network").getNetworkConfig().minGasBalance},secApyProfit:function(){return this.coinYeildData.apy/100/365/24/60/60},displayStargateDeltaCredit:function(){return this.formatMoney(this.stargateDeltaCredit,2)},isCurrentNetworkCoin:function(){return this.currentNetwork===this.vaultCoin.network},currentNetworkName:function(){return this.$DI.get("Network").getNetworkConfigByName(this.currentNetwork).chainInfo.chainName},coinNetworkName:function(){var t=this.$DI.get("Network").getNetworkConfigByName(this.vaultCoin.network);if(t)return t.chainInfo.chainName},displaySuperChargerCountDown:function(){var t=C.a.utc().startOf("week").add(1,"week"),e=C.a.utc(),n=t.add(1,"day").diff(e,"day"),r=e.endOf("day").diff(e,"hour"),o=e.endOf("hour").diff(e,"minute");return"".concat(n,"d ").concat(r,"h ").concat(o,"m")}},watch:{operationExpanded:function(t){this.calOperationHeight()},dataFetchProcess:{handler:function(){this.emitBalance()}},isGuest:{immediate:!0,handler:function(t){t||this.initData()}}},methods:{initData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isTitleType){e.next=2;break}return e.abrupt("return");case 2:if(t.isCurrentNetworkCoin){e.next=4;break}return e.abrupt("return");case 4:return e.next=6,t.fetchValueCoinBalance();case 6:return e.next=8,t.makeVaultContract();case 8:t.fetchData(!0);case 9:case"end":return e.stop()}}),e)})))()},fetchData:function(t){this.isCurrentNetworkCoin&&(this.$store.dispatch("auth/SYNC_AUTH"),this.getPricePerFullShare(),this.fetchXCoinBalance(),this.getCostSharePrice(),this.fetchApproval(),this.isLendingPool&&this.fetchLendingPoolData(),t||(this.fetchValueCoinBalance(),this.$emit("update")),t&&(this.fetchDataInterval(),this.isStargate&&this.fetchStargateData()))},fetchApproval:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getErc20CoinAllowance(t.vaultCoin);case 2:t.tokenAllowance=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getCostSharePrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getVaultCostSharePrice(t.vaultCoin);case 2:t.costSharePrice=e.sent;case 3:case"end":return e.stop()}}),e)})))()},fetchValueCoinBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getCoinBalance(t.vaultCoin);case 2:t.coinBalance=e.sent,t.dataFetchProcess.add("getCoinBalance");case 4:case"end":return e.stop()}}),e)})))()},makeVaultContract:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isLendingPool){e.next=5;break}return e.next=3,t.$DI.get("Web3").lendingPoolMethods.makeVaultContractByCoinObj(t.vaultCoin);case 3:e.next=7;break;case 5:return e.next=7,t.$DI.get("Web3").makeVaultContractByCoinObj(t.vaultCoin);case 7:t.vaultContractInited=!0;case 8:case"end":return e.stop()}}),e)})))()},fetchLendingPoolData:function(){var t=this;Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getTotalInstantWithdrawCap(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"totalInstantWithdrawCap",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getTotalInstantWithdrawnAmount(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"totalInstantWithdrawnAmount",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getUserRequestedWithdrawAmount(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"userRequestedWithdrawAmount",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getUserWithdrawAmount(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"userWithdrawAmount",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getSuperChargerRequestWidthdrawAllowance(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"withdrawApprovalAllowance",n.allowance);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getIsSettling(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"isSettling",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getDebtInfo(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"debtInfo",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getVaultTotalBalance(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"vaultTotalBalance",n.balance);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getFarmUnClaimedReward(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"xWooBalance",n);case 4:case"end":return e.stop()}}),e)})))(),Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").lendingPoolMethods.getFarmUserDeposited(t.vaultCoin);case 2:n=e.sent,t.$set(t.lendingPoolData,"depositedXCoin",n);case 4:case"end":return e.stop()}}),e)})))()},getPricePerFullShare:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getVaultPricePerFullShare(t.vaultCoin);case 2:t.pricePerFullShare=e.sent,t.dataFetchProcess.add("getVaultPricePerFullShare");case 4:case"end":return e.stop()}}),e)})))()},fetchXCoinBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getVaultXCoinBalance(t.vaultCoin);case 2:if(t.xCoinBalance=e.sent,t.dataFetchProcess.add("getVaultXCoinBalance"),!t.userEarnFeIntervalId){e.next=6;break}return e.abrupt("return");case 6:t.userEarnFeInterval();case 7:case"end":return e.stop()}}),e)})))()},fetchStargateData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").stargateMethods.getDeltaCredit(t.vaultCoin.stargateContract);case 2:n=e.sent,t.stargateDeltaCredit=n,console.log("StargateDeltaCredit",t.vaultCoin.name,t.vaultCoin.stargateContract,n);case 5:case"end":return e.stop()}}),e)})))()},userEarnFe:function(){if(this.coinYeildData.apy){var t=C()().diff(C()().startOf("hour").subtract(3,"hour"),"second");this.feAddedUserEarn=this.xCoinBalance.balance*this.secApyProfit*t,this.vaultCoin.isLp&&(this.feAddedUserEarn/=3)}},userEarnFeInterval:function(){var t=this;this.userEarnFeIntervalId=setInterval((function(){t.userEarnFe(),t.emitBalance()}),1e3)},fetchDataInterval:function(){var t=this;setInterval((function(){t.fetchData()}),3e4)},calOperationHeight:function(){var t=this.$refs.operation.offsetHeight;this.operationHeight=t},emitBalance:function(){this.dataFetchProcess&&3===this.dataFetchProcess.size&&this.$emit("updateBalance",{coin:this.coinBalance.balance,depositedUsd:this.userDepositedUsd,userEarnedUsd:this.userEarnedUsd,costSharePrice:this.costSharePrice,pricePerFullShare:this.pricePerFullShare,weToken:this.xCoinBalance.balance,deposited:Number(this.userDeposited),dailyProfitsUsd:this.userDepositedUsd*this.calcApy/365/100,lendingPoolData:this.lendingPoolData})},onVauleInputMax:function(){if(this.isWithdraw)return this.vaultInputNum=this.userDeposited,this.vaultInputNum=this.$DI.get("Utils").numToNonExponential(this.vaultInputNum),void(this.isVauleInputMax=!0);this.vaultInputNum=this.coinBalance.balance,this.vaultInputNum=this.$DI.get("Utils").numToNonExponential(this.vaultInputNum),this.isGasCoin&&(this.vaultInputNum-=this.minGasBalance),this.isVauleInputMax=!0},onVauleInput:function(t,e){this.vaultInputNum=t,e||(this.isVauleInputMax=!1)},onClickApprove:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,"request"!==t){n.next=7;break}return n.next=4,e.$DI.get("Web3").lendingPoolMethods.superChargerRequestWidthdrawApprovePromise(e.vaultCoin);case 4:r=n.sent,n.next=10;break;case 7:return n.next=9,e.$DI.get("Web3").vaultApprovePromise(e.vaultCoin);case 9:r=n.sent;case 10:r.transaction.on("transactionHash",(function(t){e.tx=t,e.$DI.get("Vue").$emit("UI_ADD_PENDING","EARN_APPROVAL")})).on("receipt",(function(t){e.$DI.get("Notification").succeedWithInfo({lineA:"Approved ".concat(e.vaultCoin.displayName),tx:e.tx}),e.fetchData(),e.$DI.get("Vue").$emit("UI_REMOVE_PENDING","EARN_APPROVAL")})),n.next=16;break;case 13:n.prev=13,n.t0=n.catch(0),console.log(n.t0);case 16:case"end":return n.stop()}}),n,null,[[0,13]])})))()},onClickDeposit:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.isVauleInputMax&&!t.isGasCoin?t.coinBalance.rawBalance:t.toBigNumber(t.vaultInputNum,t.vaultCoin.decimals),e.next=4,t.$DI.get("Web3").vaultDepositPromise(t.vaultCoin,n);case 4:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","EARN_DEPOSIT")})).on("receipt",(function(e){t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","EARN_DEPOSIT"),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:t.tx}),t.resetUIStatus(),t.fetchData()})).on("error",(function(e,n){e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onLendingPoolWithdraw:function(t,e,n){this.isVauleInputMax=n,this.vaultInputNum=e,this.goWithdraw(t)},onClickWithdraw:function(t){this.withdrawConfirmVisible=!1,!t&&this.isStargate&&Number(this.vaultInputNum)>Number(this.stargateDeltaCredit)?this.withdrawConfirmVisible=!0:this.goWithdraw()},goWithdraw:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,c;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:if(n.prev=0,t){n.next=8;break}return o=e.isVauleInputMax?e.xCoinBalance.rawBalance:e.toBigNumber(e.vaultInputNum/e.pricePerFullShare,e.vaultCoin.decimals),n.next=5,e.$DI.get("Web3").vaultWithdrawPromise(e.vaultCoin,o);case 5:r=n.sent,n.next=14;break;case 8:return l={request:"requestWithdrawPromise",instant:"instantWithdrawPromise"}[t],c=e.toBigNumber(e.isVauleInputMax?e.userDeposited:e.vaultInputNum,e.vaultCoin.decimals),e.isVauleInputMax&&(c=c.sub(e.vaultCoin.decimals>=18?10:1)),n.next=13,e.$DI.get("Web3").lendingPoolMethods[l](e.vaultCoin,c,e.isVauleInputMax);case 13:r=n.sent;case 14:r.transaction.on("transactionHash",(function(t){e.tx=t,e.$DI.get("Vue").$emit("UI_ADD_PENDING","EARN_WITHDRAW")})).on("receipt",(function(t){e.$DI.get("Vue").$emit("UI_REMOVE_PENDING","EARN_WITHDRAW"),e.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:e.tx}),e.resetUIStatus(),e.fetchData(),e.$refs.lendingPoolWithdraw&&e.$refs.lendingPoolWithdraw.resetUIStatus(),e.$DI.get("Vue").$emit("EARN_FETCH_ALL_CHAIN_VAULT_INFO")})).on("error",(function(t,n){t&&t.code&&(4001===t.code?e.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):e.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:e.tx}))})),n.next=20;break;case 17:n.prev=17,n.t0=n.catch(0),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[0,17]])})))()},onClickConnectWallet:function(){this.$DI.get("Vue").$emit("UI_CONNECT_WALLET")},resetUIStatus:function(){this.vaultInputNum="",this.isVauleInputMax=!1},onGoToGetCoin:function(){if(this.vaultCoin.removeLink&&this.isWithdraw)window.open(this.vaultCoin.removeLink,"_blank");else if(!this.vaultCoin.buyLink||this.isWithdraw){var t={avax:"usdc",fantom:"usdc"}[this.currentNetwork]||"usdt",e=t,n=this.vaultCoin.name;n===t&&(e=this.gasCoin),localStorage.setItem(this.localStorageKeySellCoin,e),localStorage.setItem(this.localStorageKeyGetCoin,n),this.$router.push(this.localeRoute({name:"index"}))}else window.open(this.vaultCoin.buyLink,"_blank")},onTabClick:function(t){this.activeTab=t,this.resetUIStatus(),this.isGuest||this.fetchData()},onClickOperationExpand:function(){this.isTitleType||(this.operationExpanded=!this.operationExpanded,this.fetchData())},onOpenVaultContract:function(){window.open("".concat(this.$DI.get("Network").getBlockExplorerUrl(),"/address/").concat(this.vaultCoin.vaultContract),"_blank")},onSort:function(t){this.$emit("sort",t)},formatMoney:function(a,b){return this.$DI.get("Utils").formatMoney(a,b)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},toBigNumber:function(a,b){return this.$DI.get("Utils").toBigNumber(a,b)},shorthandMoney:function(a,b){return this.$DI.get("Utils").shorthandMoney(a,b)},onClickCalculator:function(){this.$refs.calculator.openDialog()},onSwitchNetwork:function(){return this.$DI.get("Vue").$emit("SWITCH_SUPPORTED_NETWORK",{key:this.vaultCoin.network})},onClickGoToFarm:function(){this.onTabClick("Farm")}}},j=(n(1400),Object(f.a)(U,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"card-item",class:{"card-expanded":t.operationExpanded,"is-title":t.isTitleType}},[r("div",{staticClass:"stat",on:{click:t.onClickOperationExpand}},[t.isTitleType?t._e():[t.vaultCoin.isNew?r("div",{staticClass:"stat-icon"},[r("img",{attrs:{src:n(1453)}})]):t._e()],t.vaultCoin.isInactive?r("el-tooltip",{staticClass:"tip",attrs:{placement:"right"}},[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("The pool is no longer distributing rewards. Please withdraw your tokens.")]),r("div",{staticClass:"stat-icon"},[r("img",{attrs:{src:n(1454)}}),r("span",{staticClass:"text inactive"},[t._v("Inactive")])])]):t._e(),t.$isFromMobile?r("div",{staticClass:"stat-wrapper"},[r("div",{staticClass:"coin-name flex-all"},[r("div",{staticClass:"left flex-align"},[r("div",{staticClass:"name"},[t._v(t._s(t.vaultCoin.poolName||t.vaultCoin.displayName))])]),r("div",{staticClass:"right"},[r("img",{attrs:{src:t.vaultCoin.logoVault}})])]),r("div",{staticClass:"line flex-all light"},[t._m(2),r("div",{staticClass:"right"},[r("span",[t._v(t._s(t.coinNetworkName))])])]),r("div",{staticClass:"line flex-all"},[t.isLendingPool?[t._m(3),r("div",{staticClass:"right"},[t.isSuperChargerV1?[t._v("-")]:[r("AprBreakdown",{attrs:{coinYeildData:t.coinYeildData,vaultCoin:t.vaultCoin}},[r("div",{staticClass:"special"},[t._v(t._s(t.displayApr)+"%")])])]],2)]:[r("div",{staticClass:"left flex-align-just-center"},[r("span",[t._v("APY")]),r("img",{staticClass:"touch",attrs:{src:n(709)},on:{click:function(e){return e.stopPropagation(),t.onClickCalculator(e)}}})]),r("div",{staticClass:"right"},[t._v(t._s(t.displayApy)+"%")])]],2),r("div",{staticClass:"line flex-all light"},[r("div",{staticClass:"left"},[t._v("TVL")]),r("div",{staticClass:"right"},[t._v(t._s(t.displayTvl))])]),r("div",{staticClass:"line flex-all small"},[r("div",{staticClass:"left flex-align-just-center"},[r("span",[t._v("Earned")]),r("el-tooltip",{staticClass:"tip hide"},[r("span",{attrs:{slot:"content"},domProps:{innerHTML:t._s(t.displayEarnedTip)},slot:"content"}),r("img",{attrs:{src:n(1458)}})])],1),r("div",{staticClass:"right"},[t.isLendingPool?[r("EarnBreakdown",{attrs:{displayUserEarned:t.displayUserEarned,displayUserEarnedUsd:t.displayUserEarnedUsd,lendingPoolData:t.lendingPoolData,userEarnedWooUsd:t.userEarnedWooUsd,userEarnedWoo:t.userEarnedWoo,vaultCoin:t.vaultCoin}},[r("div",{staticClass:"right-a special"},[t._v("$"+t._s(t.displayUserEarnedUsd))])])]:[r("div",{staticClass:"right-a"},[t._v(t._s(t.displayUserEarned))]),r("div",{staticClass:"right-b"},[t._v("$"+t._s(t.displayUserEarnedUsd))])]],2)]),r("div",{staticClass:"line flex-all small light"},[r("div",{staticClass:"left"},[t._v("My Deposits")]),r("div",{staticClass:"right"},[r("div",{staticClass:"right-a"},[t._v(t._s(t.displayUserDeposited))]),r("div",{staticClass:"right-b"},[t._v("$"+t._s(t.displayUserDepositedUsd))])])]),r("div",{staticClass:"line flex-all small"},[r("div",{staticClass:"left"},[t._v("Wallet Balance")]),r("div",{staticClass:"right"},[r("div",{staticClass:"right-a"},[t._v(t._s(t.displayUserBalance))]),r("div",{staticClass:"right-b"},[t._v("$"+t._s(t.displayUserBalanceUsd))])])])]):r("div",{staticClass:"stat-wrapper flex-all"},[r("div",{staticClass:"coin-name flex-align"},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:t.vaultCoin.logoVault}})]),r("div",{staticClass:"name-info flex-align"},[r("div",{staticClass:"name-wrapper"},[r("div",{staticClass:"name flex-align"},[r("div",{staticClass:"name-text"},[t._v(t._s(t.vaultCoin.poolName||t.vaultCoin.displayName))]),t.isLendingPool?r("div",{staticClass:"super-tip"},[t.vaultCoin.addTotal.superChargerWithdrawAmounts?r("el-tooltip",[r("div",{attrs:{slot:"content"},slot:"content"},[t._v('You have assets available for withdrawal. Please expand this vault and check the "Withdraw" tab.')]),r("img",{attrs:{src:n(1455)}})]):t.vaultCoin.addTotal.superChargerRequestedWithdrawAmounts?r("el-tooltip",[r("div",{attrs:{slot:"content"},slot:"content"},[t._v("Your withdrawal request will be settled and available for withdrawal in "),r("span",{staticStyle:{color:"#73BEF4"}},[t._v(t._s(t.displaySuperChargerCountDown)+".")])]),r("img",{attrs:{src:n(1456)}})]):t._e()],1):t._e()]),r("div",{staticClass:"tvl"},[t._v("TVL "+t._s(t.displayTvl))])])]),t._m(0)]),r("div",{staticClass:"info"},[r("div",{staticClass:"line-b"},[r("span",[t._v(t._s(t.coinNetworkName))])]),t._m(1)]),r("div",{staticClass:"info"},[t.isLendingPool?[r("EarnBreakdown",{attrs:{displayUserEarned:t.displayUserEarned,displayUserEarnedCoinUsd:t.displayUserEarnedCoinUsd,displayUserEarnedUsd:t.displayUserEarnedUsd,lendingPoolData:t.lendingPoolData,userEarnedWooUsd:t.userEarnedWooUsd,userEarnedWoo:t.userEarnedWoo,vaultCoin:t.vaultCoin}},[r("div",{staticClass:"line-b apr"},[t._v("$"+t._s(t.displayUserEarnedUsd))])])]:[r("div",{staticClass:"line-a flex-align-just-center"}),r("div",{staticClass:"line-b"},[t.xCoinBalance.balance?r("div",{staticClass:"scrollnum"},[r("ScrollNumber",{attrs:{number:t.displayUserEarned,height:16,width:10}})],1):r("span",[t._v(t._s(t.displayUserEarned))])]),r("div",{staticClass:"line-c"},[t._v("$"+t._s(t.displayUserEarnedUsd))])],r("div",{staticClass:"title hide"},[r("div",{staticClass:"text"},[r("Sort",{attrs:{title:"Earned",sort:t.sort,sortKey:"earned"},on:{sort:t.onSort}})],1)])],2),r("div",{staticClass:"info"},[t.isLendingPool?[t.isSuperChargerV1?[t._v("-")]:[r("AprBreakdown",{attrs:{coinYeildData:t.coinYeildData,vaultCoin:t.vaultCoin}},[r("div",{staticClass:"line-a flex-align-just-center hide"},[r("span",[t._v("APR")])]),r("div",{staticClass:"line-b apr"},[t._v(t._s(t.displayApr)+"%")])])]]:[r("div",{staticClass:"line-a flex-align-just-center hide"},[r("span",[t._v("APY")]),r("img",{staticClass:"touch",attrs:{src:n(709)},on:{click:function(e){return e.stopPropagation(),t.onClickCalculator(e)}}})]),r("div",{staticClass:"line-b"},[t._v(t._s(t.displayApy)+"%")])],r("div",{staticClass:"title hide"},[r("div",{staticClass:"text"},[r("Sort",{attrs:{title:"APR",sort:t.sort,sortKey:"apr"},on:{sort:t.onSort}})],1)])],2),r("div",{staticClass:"info"},[r("div",{staticClass:"line-a hide"},[t._v("My Deposits")]),r("div",{staticClass:"line-b"},[t._v(t._s(t.displayUserDeposited))]),r("div",{staticClass:"line-c"},[t._v("$"+t._s(t.displayUserDepositedUsd))]),r("div",{staticClass:"title hide"},[r("div",{staticClass:"text"},[r("Sort",{attrs:{title:"My Deposits",sort:t.sort,sortKey:"myDeposits"},on:{sort:t.onSort}})],1)])]),r("div",{staticClass:"info"},[r("div",{staticClass:"line-a hide"},[t._v("Wallet Balance")]),r("div",{staticClass:"line-b"},[t._v(t._s(t.displayUserBalance))]),r("div",{staticClass:"line-c"},[t._v("$"+t._s(t.displayUserBalanceUsd))]),r("div",{staticClass:"title hide"},[r("div",{staticClass:"text"},[r("Sort",{attrs:{title:"Wallet Balance",sort:t.sort,sortKey:"walletBalance"},on:{sort:t.onSort}})],1)])]),r("div",{staticClass:"expand",class:{expanded:t.operationExpanded,disappear:t.isTitleType}},[r("img",{staticClass:"touch",attrs:{src:n(1457)}})])])],2),r("div",{directives:[{name:"show",rawName:"v-show",value:t.operationExpanded,expression:"operationExpanded"}],ref:"operation",staticClass:"operation-wrapper",class:{expanded:t.operationExpanded}},[t.isCurrentNetworkCoin?r("div",{staticClass:"operation"},[r("div",{staticClass:"tab flex-align"},[r("div",{staticClass:"tab-item touch",on:{click:function(e){return t.onTabClick("Deposit")}}},[r("span",{class:{active:"Deposit"===t.activeTab}},[t._v("DEPOSIT")])]),r("div",{staticClass:"tab-item touch",on:{click:function(e){return t.onTabClick("Withdraw")}}},[r("span",{class:{active:"Withdraw"===t.activeTab}},[t._v("WITHDRAW")])]),r("div",{staticClass:"tab-item touch",on:{click:function(e){return t.onTabClick("Info")}}},[r("span",{class:{active:"Info"===t.activeTab}},[t._v("INFO")])])]),"Deposit"===t.activeTab||"Withdraw"===t.activeTab?r("div",{staticClass:"tab-content tab-a",class:{deposit:"Deposit"===t.activeTab,withdraw:"Withdraw"===t.activeTab,isLendingPool:t.isLendingPool}},[r("div",{staticClass:"tab-deposit-withdraw"},[t.isLendingPool&&"Withdraw"===t.activeTab?r("LendingPoolWithdraw",{ref:"lendingPoolWithdraw",attrs:{vaultCoin:t.vaultCoin,isNeedsStakeApproval:t.isNeedsStakeApproval,userDeposited:t.userDepositedNormalToken,lendingPoolData:t.lendingPoolData,isSuperChargerV1:t.isSuperChargerV1,isSpecialVaultBscBUSD:t.isSpecialVaultBscBUSD,pricePerFullShare:t.pricePerFullShare},on:{approve:t.onClickApprove,withdraw:t.onLendingPoolWithdraw}}):r("div",{staticClass:"normal"},[t.isLendingPool&&"Deposit"===t.activeTab?r("div",{staticClass:"input-top-tip"},[t.isSuperChargerV1?[r("p",[t._v("This vault will become inactive from 1PM UTC on January 11th. "),r("a",{attrs:{href:"https://medium.com/woonetwork/spmm-v2-the-next-chapter-for-woofi-9b92edf5bd20",target:"_blank"}},[t._v("Please read the announcement")]),t._v(" and follow the instruction to withdraw your funds, and deposit them into a new Supercharger vault to continue earning yield.")])]:t.isSpecialVaultBscBUSD?[r("p",[r("b",[t._v("STEP 1:")]),t._v(" This vault becomes inactive from 1PM UTC April 12th. Please withdraw your funds at your earliest convenience.")])]:[r("p",[r("b",[t._v("STEP 1:")]),t._v(" Deposit to earn yields in the same token from a combination of WOOFi sPMM LP and low risk auto-compounding yield farming. Please check the rules and details in the "),r("b",[t._v("“Withdraw”")]),t._v(" and "),r("b",[t._v("“Info”")]),t._v(" tabs before depositing. After depositing, you will receive "+t._s(t.xCoinName)+".")])]],2):t._e(),r("div",{staticClass:"input-line",class:{"flex-all":!t.$isFromMobile}},[r("StakingInput",{staticClass:"input",attrs:{displayCoinBalance:t.displayCoinBalance,operationCoinName:t.vaultCoin.displayName,amount:t.vaultInputNum,isMax:t.isVauleInputMax},on:{input:t.onVauleInput,max:t.onVauleInputMax}}),t.isGuest?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickConnectWallet}},[t._v("Connect Wallet")]):t.isSuperChargerV1?r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:""}},[t._v("DEPOSIT")]):t.isNeedsStakeApproval?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickApprove}},[t._v("APPROVE")]):t.isInsufficientBalance?r("el-button",{staticClass:"btn long",attrs:{type:"primary",disabled:""}},[t._v("INSUFFICIENT BALANCE")]):"Deposit"===t.activeTab?[t.vaultCoin.isDepositDisabled?r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[r("p",[t._v("Deposit temporarily unavailable")])]),r("div",{staticClass:"btn"},[r("el-button",{style:{width:"100%"},attrs:{type:"primary",disabled:""}},[t._v("DEPOSIT")])],1)]):r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:t.isInputBtnDisabled},on:{click:t.onClickDeposit}},[t._v("DEPOSIT")])]:r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:t.isInputBtnDisabled},on:{click:function(){return t.onClickWithdraw()}}},[t._v("WITHDRAW")])],2),r("div",{staticClass:"add flex-all"},[r("div",{staticClass:"item xprice",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left flex-align-just-center"},[r("span",[t._v(t._s(t.displayXPriceLabel))]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("You will receive "+t._s(t.xCoinName)+" token as a receipt for your deposited "+t._s(t.vaultCoin.displayName)+" assets. This token is needed to withdraw your "+t._s(t.vaultCoin.displayName)+", do not trade or transfer "+t._s(t.xCoinName)+" to strangers!")]),r("img",{attrs:{src:n(1459)}})])],1)]),r("div",{staticClass:"item touch get",class:{"flex-align-just-center":!t.$isFromMobile,"flex-align":t.$isFromMobile},on:{click:t.onGoToGetCoin}},[r("span",[t._v(t._s(t.getCoinText)+" "+t._s(t.vaultCoin.displayName))]),r("img",{attrs:{src:n(351)}})])])])],1),t.isLendingPool?r("Farm",{attrs:{vaultContractInited:t.vaultContractInited,vaultCoin:t.vaultCoin,xCoinBalance:t.xCoinBalance,lendingPoolData:t.lendingPoolData,isDeposit:"Deposit"===t.activeTab,isSuperChargerV1:t.isSuperChargerV1,isSpecialVaultBscBUSD:t.isSpecialVaultBscBUSD},on:{refreshData:t.fetchData}}):t._e()],1):t._e(),"Info"===t.activeTab?r("div",{staticClass:"tab-content tab-c isLendingPool"},[t.isLendingPool?[r("div",{staticClass:"info-detail",domProps:{innerHTML:t._s(t.vaultCoin.vaultIntro)}}),r("div",{staticClass:"info-list",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"item flex-align-just-center"},[r("span",[t._v("Loan / TVL:"),t.lendingPoolData.debtInfo>=0?[t._v(" "+t._s(t.cutNumber(t.lendingPoolData.debtInfo,t.vaultCoin.fix-2))+" / "+t._s(t.cutNumber(t.lendingPoolData.vaultTotalBalance,t.vaultCoin.fix-2))+" "+t._s(t.vaultCoin.displayName))]:[t._v(" -")]],2)]),t._m(4),r("div",{staticClass:"item address flex-align-just-center"},[r("span",[t._v("Contract Address: ")]),r("span",{staticClass:"touch flex-align",on:{click:t.onOpenVaultContract}},[r("span",[t._v(t._s(t.displayVaultContract))]),r("img",{attrs:{src:n(351)}})])])])]:[r("div",{staticClass:"info-list",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"item address flex-align-just-center"},[r("span",[t._v("Contract Address: ")]),r("span",{staticClass:"touch flex-align",on:{click:t.onOpenVaultContract}},[r("span",[t._v(t._s(t.displayVaultContract))]),r("img",{attrs:{src:n(351)}})])]),r("div",{staticClass:"item flex-align-just-center"},[t.vaultCoin.withdrawLabel?r("span",[t._v(t._s(t.vaultCoin.withdrawLabel))]):r("span",[t._v("Withdraw fee: 0.0%")])]),r("div",{staticClass:"item"},[r("div",{staticClass:"la"},[t._v("Performance fee: "+t._s(t.vaultCoin.performanceFee||"3.0%"))]),r("div",{staticClass:"lb"},[t._v("("+t._s(t.vaultCoin.buyBack||"2.5%")+" for WOO buy back)")])])]),r("div",{staticClass:"info-detail",domProps:{innerHTML:t._s(t.vaultCoin.vaultIntro)}})]],2):t._e()]):r("div",{staticClass:"switch-network"},[r("div",{staticClass:"reason"},[t._v("You are currently connected to "+t._s(t.currentNetworkName)+". You may need to manually switch network via your wallet.")]),r("div",{staticClass:"switch-btn"},[r("el-button",{attrs:{type:"primary"},on:{click:t.onSwitchNetwork}},[t._v("Switch to "+t._s(t.coinNetworkName))])],1)])]),r("Calculator",{ref:"calculator",attrs:{vaultCoin:t.vaultCoin,yieldData:t.coinYeildData,userDeposited:t.userDepositedUsd}}),r("el-dialog",{attrs:{title:"Request Failed",visible:t.withdrawConfirmVisible,width:t.$isFromMobile?"90%":"510px","custom-class":"confirm-dialog"},on:{"update:visible":function(e){t.withdrawConfirmVisible=e}}},[t.isStargate?r("div",{staticClass:"confirm-text"},[r("p",[t._v("Insufficient local credits in Stargate.")]),r("p",[r("span",{staticStyle:{"{color":"'#73BEF4'}"}},[t._v(t._s(t.displayStargateDeltaCredit)+" "+t._s(t.vaultCoin.displayName))]),t._v(" is currently available for instant withdraw, any amount above that will likely cause the transaction to fail. Your funds are safe. Please try it again later.")])]):r("div",{staticClass:"confirm-text"},[t._v("Withdrawal temporarily failed in target farms. Please retry later.")]),r("div",{staticClass:"confirm-operation flex-all"},[r("el-button",{on:{click:function(e){t.withdrawConfirmVisible=!1}}},[t._v("Cancel")]),r("el-button",{attrs:{type:"primary"},on:{click:function(){return t.onClickWithdraw(!0)}}},[t._v("Send anyway")])],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title hide"},[e("div",{staticClass:"text"},[this._v("Pool Name")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title hide"},[e("div",{staticClass:"text"},[this._v("Network")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left flex-align-just-center"},[e("span",[this._v("Network")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left flex-align-just-center"},[e("span",[this._v("APR")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"item"},[e("div",{staticClass:"la"},[this._v("Performance fee: 0%")])])}],!1,null,"e30aca7c",null).exports),H={arb:{logo:n(1461),background:"linear-gradient(315deg, #252A36 0%, #253739 100%)"},btc:{logo:n(1462),background:"linear-gradient(315deg, #252A36 0%, #2E2A1D 100%)"},bnb:{logo:n(1463),background:"linear-gradient(315deg, #252A36 0%, #443601 100%)"},usdt:{logo:n(1464),background:"linear-gradient(315deg, #252A36 0%, #233533 100%)"},usdc:{logo:n(1465),background:"linear-gradient(315deg, #252A36 0%, #253739 100%)"},avax:{logo:n(1466),background:"linear-gradient(315deg, #252A36 0%, #2E1D1D 100%)"},eth:{logo:n(1467),background:"linear-gradient(315deg, #252A36 0%, #354B70 100%)"},matic:{logo:n(1468),background:"linear-gradient(315deg, #252A36 2.8%, #332C4D 100%)"},ftm:{logo:n(1469),background:"linear-gradient(315deg, #252A36 0%, #2E2A1D 100%)"},op:{logo:n(1470),background:"linear-gradient(315deg, #252A36 0%, #C02E49 100%)"},busd:{logo:n(1471),background:"linear-gradient(315deg, #252A36 0%, #735037 100%)"}};H["btc.b"]=H.btc;var Y={data:function(){return{availableNetworkConfigArr:this.$DI.get("Network").getAvailableNetworkConfigArr(),vaultInfo:[],isLoading:!0,allCoinObj:H}},mounted:function(){this.fetchData()},methods:{fetchData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("DexHttp").getFeatureVaults();case 2:t.vaultInfo=e.sent,t.isLoading=!1;case 4:case"end":return e.stop()}}),e)})))()},getChainInfo:function(t){var e=this.availableNetworkConfigArr.find((function(e){return e.key===t}));return e?e.config:{}},getApr:function(t){return(1*t).toFixed(2)},getCoinLogo:function(t){return this.allCoinObj[t.toLowerCase()].logo},getCoinBackground:function(t){return this.allCoinObj[t.toLowerCase()].background}}},G=(n(1401),Object(f.a)(Y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"feature"},[n("div",{staticClass:"title"},[t._v("Featured vaults")]),t.isLoading?n("div",{staticClass:"loading"},[n("div",{staticClass:"css-loading"})]):t._e(),n("div",{staticClass:"list flex-all"},t._l(t.vaultInfo,(function(e,r){return n("div",{key:e.vault_address+r,staticClass:"item",style:{background:t.getCoinBackground(e.symbol)}},[n("div",{staticClass:"linea flex-all"},[n("div",{staticClass:"name"},[t._v(t._s(e.symbol))]),n("div",{staticClass:"chain flex-align"},[n("img",{attrs:{src:t.getChainInfo(e.network).chainLogo}}),n("span",[t._v(t._s(t.getChainInfo(e.network).chainNameShort))])])]),n("div",{staticClass:"lineb"},[t._v(t._s(t.getApr(e.apr))+"% APR")]),n("img",{staticClass:"coin",attrs:{src:t.getCoinLogo(e.symbol)}})])})),0)])}),[],!1,null,"4cf86953",null).exports),K={props:{vaultListLoadingStatus:{type:Object,default:function(){return{}}},displayVaultList:{type:Array,default:function(){return[]}}},data:function(){return{}},computed:{isGuest:function(){return this.$store.state.auth.guest},totalDeposits:function(){return this.isGuest?"-":this.displayVaultList.reduce((function(t,e){return t+(e.addTotal?e.addTotal.depositedUsd:0)}),0)},totalDepositAssets:function(){return this.isGuest?"-":this.displayVaultList.reduce((function(t,e){return t+(e.addTotal.depositedUsd?1:0)}),0)},dailyProfits:function(){return this.isGuest?"-":this.totalDeposits*this.dailyAPR},monthlyProfits:function(){return this.isGuest?"-":this.totalDeposits*this.monthlyAPR},averageAPR:function(){return this.displayVaultList.reduce((function(t,e){return t+(e.weighted_average_apr?e.weighted_average_apr+e.x_woo_rewards_apr:e.apy)/100*(e.addTotal?e.addTotal.depositedUsd:0)}),0)/this.totalDeposits},monthlyAPR:function(){return this.averageAPR/12},dailyAPR:function(){return this.averageAPR/365}},methods:{}},Q=(n(1402),Object(f.a)(K,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"summary"},[r("div",{staticClass:"top flex-align"},[r("div",{staticClass:"title"},[t._v("My earnings")]),!t.isGuest&&t.vaultListLoadingStatus.total>t.vaultListLoadingStatus.loaded?r("div",{staticClass:"status flex-align"},[r("img",{staticClass:"loading",attrs:{src:n(1472)}}),r("span",[t._v(t._s(t.vaultListLoadingStatus.loaded)+"/"+t._s(t.vaultListLoadingStatus.total)+" chains loaded")])]):t._e()]),r("div",{staticClass:"list flex-all"},[r("div",{staticClass:"item"},[r("div",{staticClass:"line-a"},[t._v("Holdings")]),r("div",{staticClass:"line-b",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[t._v(t._s(t._f("formatMoney")(t.totalDeposits)))]),r("div",{staticClass:"right"},[t._v(t._s(t.totalDepositAssets)+" assets")])])]),r("div",{staticClass:"item"},[r("div",{staticClass:"line-a"},[t._v("Monthly Profits")]),r("div",{staticClass:"line-b",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[t._v(t._s(t._f("formatMoney")(t.monthlyProfits)))]),r("div",{staticClass:"right"},[t._v(t._s(t._f("formatMoney")(t.dailyProfits))+" Daily")])])]),r("div",{staticClass:"item"},[r("div",{staticClass:"line-a"},[t._v("Average APR")]),r("div",{staticClass:"line-b",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[t._v(t._s(t._f("percent")(t.averageAPR)))]),r("div",{staticClass:"right"},[t._v(t._s(t._f("percent")(t.dailyAPR))+" Daily")])])])])])}),[],!1,null,"d868566e",null).exports);function X(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function z(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?X(Object(source),!0).forEach((function(e){Object(o.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):X(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}var Z={components:{EarnCard:j,Feature:G,Summary:Q,NetworkSelect:m},data:function(){return{allChainCoinConfig:this.$DI.get("Coin").getAllChainConfig(),allChainContractConfig:this.$DI.get("Contract").getContractConfigObj(),isStakedOnly:!!window.localStorage.getItem("USER_EARN_IS_STAKED_ONLY_KEY"),isHideZeroBalance:!1,balanceObj:{},yieldData:{},vaultInfo:{},searchText:"",activeTab:"",sort:"",filterNetwork:"",isInactivePoolVisible:!1,tabArr:[{name:"Supercharger",key:"superCharger"},{name:"Others",key:"others"},{name:"My vaults",key:"myVaults"}]}},computed:{currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},currentNetworkConfig:function(){return this.$DI.get("Network").getNetworkConfig()},currentNetworkNativeCurrency:function(){return this.currentNetworkConfig.chainInfo.nativeCurrency},availableNetworkConfigArr:function(){return this.$DI.get("Network").getAvailableNetworkConfigArr().filter((function(t){return"ethereum"!==t.key&&"base_goerli"!==t.key&&"zksync_goerli"!==t.key&&"zksync"!==t.key}))},currentChainYieldData:function(){var data=this.yieldData[this.currentNetwork];return data?data.auto_compounding:{}},isGuest:function(){return this.$store.state.auth.guest},userTotalDeposits:function(){var t=this;return Object.keys(this.balanceObj).reduce((function(e,n){return e+t.balanceObj[n].depositedUsd}),0)},displayUserTotalDepositsUsd:function(){return this.formatMoney(this.userTotalDeposits,2)},displayUserTotalEarnedUsd:function(){var t=this,e=Object.keys(this.balanceObj).reduce((function(e,n){return e+t.balanceObj[n].userEarnedUsd}),0);return this.formatMoney(e,2)},userTotalDailyProfitsUsd:function(){var t=this;return Object.keys(this.balanceObj).reduce((function(e,n){return e+t.balanceObj[n].dailyProfitsUsd}),0)},displayUserTotalDailyProfitsUsd:function(){return this.formatMoney(this.userTotalDailyProfitsUsd,2)},displayUserTotalMonthlyProfitsUsd:function(){return this.formatMoney(31*this.userTotalDailyProfitsUsd,2)},displayUserTotalYearlyProfitsUsd:function(){return this.formatMoney(365*this.userTotalDailyProfitsUsd,2)},isApiLoading:function(){return Object.keys(this.yieldData).length!==this.availableNetworkConfigArr.length},userAddress:function(){return this.$store.state.auth.address},isLoading:function(){return this.isGuest,!1},vaultListLoadingStatus:function(){var t=this;return{loaded:Object.keys(this.vaultInfo).filter((function(e){return e!==t.currentNetwork})).length+(this.vaultDataAllLoaded?1:0),total:this.availableNetworkConfigArr.length}},vaultDataAllLoaded:function(){return Object.keys(this.balanceObj).length===this.vaultCoinList.length},displayUserApy:function(){return this.userTotalDeposits?Number(36500*this.userTotalDailyProfitsUsd/this.userTotalDeposits).toFixed(2)+"%":"--"},displayTotalDeposit:function(){var t=this,e=Object.keys(this.yieldData).reduce((function(e,n){return e+t.$DI.get("Utils").toSmallNumber(t.yieldData[n].total_deposit,18)}),0);return this.formatMoney(e,0)},displayYieldData:function(){return Object.fromEntries(Object.entries(this.yieldData))},vaultCoinList:function(){return this.allChainCoinConfig[this.currentNetwork].vaultCoinList},noListResult:function(){return!this.displayVaultListWithSortAndFilter.filter((function(t){return t.isVisible})).length},inactivePoolSwitchVisible:function(){return"myVaults"!==this.activeTab},displayVaultListWithSortAndFilter:function(){var t=this;return this.displayVaultList.map((function(e){return"superCharger"===t.activeTab&&e.vaultWithdrawContract?z(z({},e),{},{isVisible:!0}):"others"!==t.activeTab||e.vaultWithdrawContract?"myVaults"===t.activeTab&&(e.addTotal.depositedUsd>=.01||e.addTotal.superChargerRequestedWithdrawAmountsUsd>=.01||e.addTotal.superChargerWithdrawAmountsUsd>=.01)?z(z({},e),{},{isVisible:!0}):e:z(z({},e),{},{isVisible:!0})})).map((function(e){return e.isVisible&&e.isInactive&&t.inactivePoolSwitchVisible?t.isInactivePoolVisible?z(z({},e),{},{isVisible:!0}):z(z({},e),{},{isVisible:!1}):e})).filter((function(e){return t.searchText?e.displayName.includes(t.searchText.toUpperCase())||e.displayName.includes(t.searchText):!t.isHideZeroBalance||!!e.addTotal.userBalance})).filter((function(e){return!t.filterNetwork||e.network===t.filterNetwork})).sort((function(a,b){var e=["bsc","avax","fantom","polygon","arbitrum","optimism"];if(a.isInactive&&b.isInactive)return e.indexOf(a.network)-e.indexOf(b.network);if(a.isInactive)return 1;if(b.isInactive)return-1;if(a.network===t.currentNetwork&&b.network!==t.currentNetwork)return-1;if(a.network!==t.currentNetwork&&b.network===t.currentNetwork)return 1;var n=e.indexOf(a.network),r=e.indexOf(b.network);if(n!==r)return n-r;if(a.version!==b.version){if("v2"===a.version)return-1;if("v2"===b.version)return 1}return a.isNew&&!b.isNew?-1:!a.isNew&&b.isNew?1:b.tvl-a.tvl})).sort((function(a,b){return t.sort?"+earned"===t.sort?b.addTotal.earnedUsd-a.addTotal.earnedUsd:"-earned"===t.sort?a.addTotal.earnedUsd-b.addTotal.earnedUsd:"+walletBalance"===t.sort?b.addTotal.userBalanceUsd-a.addTotal.userBalanceUsd:"-walletBalance"===t.sort?a.addTotal.userBalanceUsd-b.addTotal.userBalanceUsd:"+myDeposits"===t.sort?b.addTotal.deposited-a.addTotal.deposited:"-myDeposits"===t.sort?a.addTotal.deposited-b.addTotal.deposited:"+apr"===t.sort?b.addTotal.apr-a.addTotal.apr:"-apr"===t.sort?a.addTotal.apr-b.addTotal.apr:void 0:0})).sort((function(a,b){return a.isVisible&&!b.isVisible?1:!a.isVisible&&b.isVisible?-1:void 0}))},displayVaultList:function(){var t=this;return Object.keys(this.yieldData).reduce((function(e,n){var r=t.allChainCoinConfig[n].vaultCoinList,o=t.allChainCoinConfig[n].coins,l=t.yieldData[n].auto_compounding,c=t.vaultInfo[n]||{};return Object.keys(l).forEach((function(d){var h,f,m=l[d],v=r.filter((function(t){return t.vaultContract===d}))[0];if(v){var C,y=o.filter((function(t){return t.name===v.vaultCoin}))[0],_={},w=c.vault&&c.vault[d],k=c.masterWoo&&c.masterWoo[v.pollId],x=c.superCharger&&(null===(h=c.superCharger[v.pollId])||void 0===h?void 0:h.requestedWithdrawAmounts),D=c.superCharger&&(null===(f=c.superCharger[v.pollId])||void 0===f?void 0:f.withdrawAmounts);w&&(C=c.token[y.name].balance,_.costSharePrice=t.$DI.get("Utils").toSmallNumber(w.costSharePrice,18),_.pricePerFullShare=t.$DI.get("Utils").toSmallNumber(w.pricePerFullShare,18),_.weToken=t.$DI.get("Utils").toSmallNumber(w.weToken,y.decimals),_.deposited=_.weToken*_.costSharePrice,_.depositedWeToken=k?k.amounts:0,_.earned=(_.weToken+_.depositedWeToken)*(_.pricePerFullShare-_.costSharePrice),_.earnedWoo=k?k.pendingWooAmounts:0);var S=t.balanceObj[d],I=!1;n===t.currentNetwork&&S&&(I=!0,_=S);var N=function(){if(I){var t=0;S.weToken&&S.pricePerFullShare&&(t=S.weToken*S.pricePerFullShare);var e=0;return S.lendingPoolData.depositedXCoin&&S.pricePerFullShare&&(e=S.lendingPoolData.depositedXCoin.balance*S.pricePerFullShare),t+e}if(!(_.deposited>=0&&_.depositedWeToken>=0))return 0;var n=_?_.pricePerFullShare:1;return _.deposited+_.depositedWeToken*n}(),A=!!v.vaultWithdrawContract,E=function(){if(I){var t=S.pricePerFullShare-S.costSharePrice;return S.weToken*t}return _.earned}(),T=I?S.lendingPoolData.xWooBalance?S.lendingPoolData.xWooBalance.balance:0:_.earnedWoo,O=I?S.coin:C,$=T*Number(t.$store.state.auth.wooPrice),P=E*m.price,R={apr:m.weighted_average_apr?m.weighted_average_apr+m.x_woo_rewards_apr:m.apy,deposited:N,depositedUsd:N*m.price,earnedToken:E,earnedWoo:T,earnedWooUsd:$,userBalance:O,userBalanceUsd:O*m.price,earnedTokenUsd:P,earnedUsd:A?P+$:P,superChargerRequestedWithdrawAmounts:x,superChargerRequestedWithdrawAmountsUsd:A?x*m.price:0,superChargerWithdrawAmounts:D,superChargerWithdrawAmountsUsd:A?D*m.price:0};e.push(z(z(z(z({},m),{},{network:n},v),y),{},{baseCoinBalance:C,vaultInfoBalance:_,addTotal:R}))}})),e}),[])},displayYeildData:function(){return Object.fromEntries(Object.entries(this.yeildData))},watch_userAddress_yieldData:function(){return[this.userAddress,this.yieldData]}},watch:{watch_userAddress_yieldData:{handler:function(t){t&&t[0]&&t[1]&&Object.keys(t[1]).length===this.availableNetworkConfigArr.length&&this.fetchAllChainVaultInfo()},immediate:!0}},mounted:function(){var t=this;this.fetchAllChainApiData(),this.activeTab=window.localStorage.getItem("USER_EARN_ACTIVE_TAB"+this.currentNetwork)||"superCharger",this.$DI.get("Vue").$on("EARN_FETCH_ALL_CHAIN_VAULT_INFO",(function(){t.fetchAllChainVaultInfo()}))},created:function(){this.debounceOnVaultCoinDataUpdate=Object(l.a)(this.onVaultCoinDataUpdate,100)},methods:{isGasCoin:function(t){return t.name.includes(this.currentNetworkNativeCurrency.name)},fetchAllChainApiData:function(){var t=this;this.availableNetworkConfigArr.forEach((function(e){t.fetchApiData(e.key)}))},fetchAllChainVaultInfo:function(){var t=this;this.availableNetworkConfigArr.forEach((function(e){t.fetchVaultInfo(e.key)}))},fetchVaultInfo:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o,l,c,d,h,f,m,v;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return r=e.allChainCoinConfig[t].coins,o=[],e.allChainCoinConfig[t].vaultCoinList.forEach((function(t){var e=r.filter((function(e){return e.name===t.vaultCoin}))[0];o.push(z(z({},t),e))})),l=o.filter((function(t){return t.pollId>=0})),c=l.map((function(t){return{pid:t.pollId,decimals:t.decimals}})),d=l.map((function(t){return t.vaultContract})),h=l.map((function(t){return t.vaultWithdrawContract})),f=e.allChainContractConfig[t].farm,m=e.yieldData[t].auto_compounding,n.prev=9,n.next=12,e.$DI.get("Web3Request")[t].vaultInfoMethods.getVaultInfoArr(e.userAddress,f,Object.keys(m),r,c,d,h);case 12:v=n.sent,e.$set(e.vaultInfo,t,v),n.next=20;break;case 16:n.prev=16,n.t0=n.catch(9),console.error("EarnPage index list fetchVaultInfo error, network: ",t),console.log(n.t0);case 20:case"end":return n.stop()}}),n,null,[[9,16]])})))()},fetchApiData:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$DI.get("DexHttp").yield(t);case 2:r=n.sent,e.$set(e.yieldData,t,r);case 4:case"end":return n.stop()}}),n)})))()},getEachChainLogo:function(t){return this.$DI.get("Network").getNetworkConfigObj()[t].chainLogo},getDisplayEachChainTvl:function(t){var small=this.$DI.get("Utils").toSmallNumber(t.total_deposit,18);return this.shorthandMoney(small,2)},onVaultCoinDataUpdate:function(){this.fetchApiData(this.currentNetwork)},onUpdateBalance:function(t,e){this.$set(this.balanceObj,t.vaultContract,e)},onHideZeroBalanceChange:function(t){this.isHideZeroBalance=t},onInactivePoolVisibleChange:function(t){this.isInactivePoolVisible=t},onStakedOnlyChange:function(t){t?window.localStorage.setItem("USER_EARN_IS_STAKED_ONLY_KEY","1"):window.localStorage.removeItem("USER_EARN_IS_STAKED_ONLY_KEY")},onTabClick:function(t){this.activeTab=t,window.localStorage.setItem("USER_EARN_ACTIVE_TAB"+this.currentNetwork,t)},onSort:function(t){this.sort=t},onNetworkFilter:function(t){this.filterNetwork=t},formatMoney:function(a,b){return this.$DI.get("Utils").formatMoney(a,b)},shorthandMoney:function(a,b){return this.$DI.get("Utils").shorthandMoney(a,b)}}},J=(n(1403),{name:"Earn",components:{EarnPage:Object(f.a)(Z,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"earn"},[t.isLoading?r("div",{staticClass:"logo-loading"}):t._e(),r("div",{staticClass:"wrapper",class:{isLoading:t.isLoading}},[t._m(0),r("div",{staticClass:"card"},[r("div",{staticClass:"stat",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"tvl",class:{"flex-all":t.$isFromMobile,"flex-align":!t.$isFromMobile}},[r("div",{staticClass:"left"},[t._v("Total Value Locked")]),r("div",{staticClass:"right"},[t._v("$"+t._s(t.displayTotalDeposit))])]),r("div",{staticClass:"each flex-align"},t._l(t.displayYieldData,(function(e,n){return r("div",{key:n,staticClass:"each-item flex-align"},[r("img",{attrs:{src:t.getEachChainLogo(n)}}),r("span",[t._v("$"+t._s(t.getDisplayEachChainTvl(e,n)))])])})),0)]),r("Feature"),r("Summary",{attrs:{vaultListLoadingStatus:t.vaultListLoadingStatus,displayVaultList:t.displayVaultList}}),r("div",{staticClass:"list"},[r("div",{staticClass:"top",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[r("div",{staticClass:"tab",class:{"flex-all":t.$isFromMobile,"flex-align":!t.$isFromMobile}},t._l(t.tabArr,(function(e){return r("div",{key:e.key,staticClass:"tab-item touch",on:{click:function(n){return t.onTabClick(e.key)}}},[r("span",{class:{active:t.activeTab===e.key}},[t._v(t._s(e.name))])])})),0)]),r("div",{staticClass:"right",class:{"flex-align":!t.$isFromMobile}},[r("div",{staticClass:"search-box"},[r("input",{directives:[{name:"model",rawName:"v-model",value:t.searchText,expression:"searchText"}],attrs:{type:"text",placeholder:'Try "USDT"'},domProps:{value:t.searchText},on:{input:function(e){e.target.composing||(t.searchText=e.target.value)}}}),r("img",{attrs:{src:n(701)}})]),t.$isFromMobile?t._e():r("NetworkSelect",{attrs:{filterNetwork:t.filterNetwork},on:{networkFilter:t.onNetworkFilter}}),"myVaults"!==t.activeTab?r("div",{staticClass:"switch-item flex-align"},[r("span",[t._v("Hide zero balances")]),r("el-switch",{on:{change:t.onHideZeroBalanceChange},model:{value:t.isHideZeroBalance,callback:function(e){t.isHideZeroBalance=e},expression:"isHideZeroBalance"}})],1):t._e()],1)]),t.isApiLoading?t._e():r("div",{staticClass:"main"},[t.$isFromMobile?t._e():r("EarnCard",{attrs:{type:"title",sort:t.sort},on:{sort:t.onSort}}),t._l(t.displayVaultListWithSortAndFilter,(function(e){return r("EarnCard",{key:e.vaultContract+e.network,class:{hide:!e.isVisible},attrs:{vaultCoin:e},on:{updateBalance:function(n){return t.onUpdateBalance(e,n)},update:t.debounceOnVaultCoinDataUpdate}})}))],2),t.noListResult?r("div",{staticClass:"no-result"},[t._v("No Deposits")]):t._e(),t.inactivePoolSwitchVisible?r("div",{staticClass:"bottom"},[r("div",{staticClass:"switch-item flex-align"},[r("span",[t._v("Show inactive pools")]),r("el-switch",{on:{change:t.onInactivePoolVisibleChange},model:{value:t.isInactivePoolVisible,callback:function(e){t.isInactivePoolVisible=e},expression:"isInactivePoolVisible"}})],1)]):t._e()])],1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("div",{staticClass:"line-a"},[this._v("Your hassle-free DeFi yield finder")])])}],!1,null,"aa385772",null).exports},computed:{isPolygonNetwork:function(){return"polygon"===this.currentNetwork},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")}},mounted:function(){},head:{title:"WOOFi Earn | Supercharger Vaults | Earn High APY On Your Deposit",meta:[{hid:"description",name:"description",content:"WOOFi Earn provides a hassle-free experience where users can simply deposit into a supercharger vaults and let the automated strategies do the rest. The supercharger vaults earn yields from the borrowing interest paid and auto-compounding rewards from the base yield farming strategy."}]}}),tt=Object(f.a)(J,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content container"},[e("EarnPage")],1)}),[],!1,null,"0ec9fc50",null);e.default=tt.exports},1516:function(t,e,n){"use strict";n.r(e);n(17);var r=n(2),o=(n(19),n(16)),l=n.n(o),c=(n(46),n(91)),d=n(63);d.a.register.apply(d.a,Object(c.a)(d.b));var h=function(data,t){return[{label:"Filled",backgroundColor:t,borderColor:"#FFF",data:data,fill:!0}]},f={props:{title:{type:String,default:""},dataSet:{type:Array,default:function(){return[]}},dataLabel:{type:Array,default:function(){return[]}}},computed:{canvasId:function(){return"planet-chart-".concat(String(this.title).replace(/\s/g,""))}},watch:{dataSet:{immediate:!0,handler:function(t){var e=this;this.$nextTick((function(){t.length&&(e.chart?e.update():e.render())}))}}},methods:{update:function(){this.chart.data.datasets=h(this.dataSet),this.chart.data.labels=this.dataLabel,this.chart.update()},render:function(){var t=this,e=document.getElementById(this.canvasId),n=e.getContext("2d").createLinearGradient(0,0,0,200);n.addColorStop(0,"rgba(255, 255, 255, 0.6)"),n.addColorStop(1,"rgba(255, 255, 255, 0)"),this.chart=new d.a(e,{type:"line",data:{labels:this.dataLabel,datasets:h(this.dataSet,n)},plugins:[{afterDraw:function(t){var e,n;if(null===(e=t.tooltip)||void 0===e||null===(n=e._active)||void 0===n?void 0:n.length){var r=t.tooltip._active[0].element.x,o=t.scales.y,l=t.ctx;l.save(),l.beginPath(),l.moveTo(r,0),l.lineTo(r,o.bottom),l.lineWidth=1,l.strokeStyle="#fff",l.stroke(),l.restore()}}}],options:{responsive:!0,plugins:{tooltip:{enabled:!1,external:function(e){var data=e.tooltip.dataPoints[0],n=data.dataIndex,r=n?t.dataSet[n-1]:0,o=data.raw;t.$emit("hover",{time:data.label,delta:r>0?(o-r)/r:0,value:o})}},legend:{display:!1},title:{display:!1}},interaction:{mode:"index",intersect:!1},scales:{x:{ticks:{maxTicksLimit:10,maxRotation:0,minRotation:0,callback:function(e,n,r){return l.a.unix(t.dataLabel[n]).format("MMM.DD")}},display:!0,title:{display:!1}},y:{display:!0,ticks:{stepSize:1e3},grid:{drawBorder:!1,color:function(){return"#2A313B"}}}}}})}}},m=n(4),v=Object(m.a)(f,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{attrs:{id:this.canvasId,height:"140"}})])}),[],!1,null,null,null).exports,C={components:{MiniLineChart:n(347).a,LineChart:v},props:{title:{type:String,default:""},num:{type:String,default:""},rawNum:{type:[Number,String],default:0},dataSet:{type:Array,default:function(){return[]}},dataLabel:{type:Array,default:function(){return[]}},isPercentage:{type:Boolean,default:!1}},data:function(){return{dialogVisible:!1,lineHoverData:null,width:140,height:60}},computed:{isResize:function(){return this.$store.state.isResize},displayData:function(){if(!this.lineHoverData)return{};var t=this.lineHoverData.value;this.isPercentage&&(t=t.toFixed(1)+"%");var e=this.lineHoverData.delta,time=this.lineHoverData.time||this.dataLabel[this.lineHoverData.index],n=this.$dayjs.unix(time),r=n.utcOffset()/60,o=r>0?"+"+r:r;return{delta:e,displayDelta:Number(100*e).toFixed(1)+"%",num:t,time1:this.$dayjs.unix(time).format("MM-DD"),time:n.format("HH:mm MMM DD").toUpperCase()+" UTC"+o}}},watch:{isResize:function(t){if(t){var e=this.$refs.board.clientWidth-40;this.width=this.$isFromMobile?e:140}}},mounted:function(){var t=this;this.$nextTick((function(){var e=t.$refs.board.clientWidth-40;t.width=t.$isFromMobile?e:140,t.height=t.$isFromMobile?.3*e:60}))},methods:{onZoomOutClick:function(){this.dialogVisible=!1},onDialogClose:function(t){this.lineHoverData=null,t()},onLineHover:function(t){this.lineHoverData=t}}},y=(n(1380),Object(m.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"board",staticClass:"board"},[t.num&&t.dataSet.length?t._e():r("div",{staticClass:"css-loading"}),r("div",{staticClass:"title"},[t._v(t._s(t.title))]),r("div",{staticClass:"main",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[t.lineHoverData?[r("div",{staticClass:"num"},[t._v(t._s(t.displayData.num))]),r("span",{staticClass:"tag",class:{rise:t.displayData.delta<0}},[t._v(t._s(t.displayData.displayDelta))]),t.$isFromMobile?r("div",{staticClass:"text"},[t._v(t._s(t.displayData.time))]):r("div",{staticClass:"text"},[t._v(t._s(t.displayData.time1))])]:[r("div",{staticClass:"num"},[t._v(t._s(t.num))]),r("div",{staticClass:"text"},[t._v("Past 24H")])]],2),r("div",{staticClass:"right"},[t.dataSet.length&&t.height?r("MiniLineChart",{attrs:{chartData:t.dataSet,height:t.height,width:t.width},on:{hover:t.onLineHover}}):t._e()],1)]),t.$isFromMobile?t._e():r("div",{staticClass:"zoom touch",on:{click:function(e){t.dialogVisible=!0}}},[r("img",{attrs:{src:n(1450)}})]),r("div",{staticClass:"line-chart"},[r("el-dialog",{attrs:{visible:t.dialogVisible,width:t.$isFromMobile?"90%":"760px","before-close":t.onDialogClose},on:{"update:visible":function(e){t.dialogVisible=e}}},[r("div",{staticClass:"content"},[r("div",{staticClass:"title"},[t._v(t._s(t.title))]),r("img",{staticClass:"out",attrs:{src:n(1451)},on:{click:t.onZoomOutClick}}),r("div",{staticClass:"num-board"},[t.lineHoverData?[r("div",{staticClass:"num"},[t._v(t._s(t.displayData.num))]),r("span",{staticClass:"tag",class:{rise:t.displayData.delta<0}},[t._v(t._s(t.displayData.displayDelta))]),r("div",{staticClass:"text"},[t._v(t._s(t.displayData.time))])]:[r("div",{staticClass:"num"},[t._v(t._s(t.num))]),r("div",{staticClass:"text"},[t._v("Past 24H")])]],2),r("div",{staticClass:"chart"},[r("LineChart",{attrs:{title:t.title,dataLabel:t.dataLabel,dataSet:t.dataSet},on:{hover:t.onLineHover}})],1)])])],1)])}),[],!1,null,"1ad8d109",null).exports),_={props:{data:{type:Array,default:function(){return[]}}},methods:{getVolumeToLiquidity:function(t){return"--"===t.turnover_rate_percentage?"--":t.turnover_rate_percentage.toFixed(0)+"%"},formatMoney:function(a,b){return this.$DI.get("Utils").formatMoney(a,b)}}},w=(n(1381),Object(m.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"table"},[t.data.length?t._e():r("div",{staticClass:"css-loading"}),r("div",{staticClass:"title"},[t._v("Token Data")]),t._l(t.data,(function(e,o){return r("div",{staticClass:"board"},[r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",{staticClass:"index"},[t._v(t._s(o+1))]),r("img",{staticClass:"logo",attrs:{src:e.logo_url}}),r("span",{staticClass:"name"},[t._v(t._s(e.symbol))])]),r("div",{staticClass:"right"},[r("span",{staticClass:"chain"},[t._v(t._s(e.chainName))])])]),r("div",{staticClass:"line oo flex-all"},[r("div",{staticClass:"left"},[t._v("Trading Volume(24h)")]),r("div",{staticClass:"right"},[t._v(t._s("$"+t.formatMoney(e["24h_volume_usd"]/Math.pow(10,18),0)))])]),r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left"},[t._v("Number of Trades")]),r("div",{staticClass:"right"},[t._v(t._s(e["24h_txs"]))])]),r("div",{staticClass:"line oo flex-all"},[r("div",{staticClass:"left flex-all with-tip"},[r("span",[t._v("Liquidity")]),r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v("Liquidity in WOOFi's sPMM pool. Trades of assets with no liquidity are routed to the third party aggregator.")]),r("img",{staticClass:"tip-icon",attrs:{src:n(461)}})])],1),r("div",{staticClass:"right"},[t._v(t._s("$"+t.formatMoney(e.tvl/Math.pow(10,e.decimals),0)))])])])}))],2)}),[],!1,null,"7e223827",null).exports);n(708);d.a.register.apply(d.a,Object(c.a)(d.b));var k=function(data,t){return[{data:data,borderColor:"#FFF",backgroundColor:"#FFF",borderWidth:0,barThickness:t?"flex":data.length<=60?20:"flex",maxBarThickness:8,borderRadius:{topLeft:Number.MAX_VALUE,topRight:Number.MAX_VALUE}}]},x={props:{dataSet:{type:Array,default:function(){return[]}},dataLabel:{type:Array,default:function(){return[]}}},watch:{dataSet:{immediate:!0,handler:function(t){t.length&&(this.chart?this.update():this.render())}}},methods:{onCanvasOut:function(){var t=this;setTimeout((function(){t.$emit("hover",null)}),100)},update:function(){this.chart.data.datasets=k(this.dataSet,this.$isFromMobile),this.chart.data.labels=this.dataLabel,this.chart.update()},render:function(){var t=this,e=document.getElementById("planet-chart");this.chart=new d.a(e,{type:"bar",data:{labels:this.dataLabel,datasets:k(this.dataSet,this.$isFromMobile)},plugins:[{afterDraw:function(t){var e,n;if(null===(e=t.tooltip)||void 0===e||null===(n=e._active)||void 0===n?void 0:n.length){var r=t.tooltip._active[0].element.x,o=t.scales.yAxes,l=t.ctx;l.save(),l.beginPath(),l.moveTo(r,0),l.lineTo(r,o.bottom),l.lineWidth=1,l.strokeStyle="#fff",l.stroke(),l.restore(),l.beginPath(),l.arc(r,t.tooltip.caretY,4,0,2*Math.PI,!1),l.fillStyle="#000",l.fill(),l.lineWidth=1,l.strokeStyle="#fff",l.stroke()}}}],options:{interaction:{intersect:!1,mode:"index"},minBarLength:10,responsive:!0,scales:{yAxes:{display:!1},xAxes:{display:!1}},plugins:{tooltip:{enabled:!1,external:function(e){var data=e.tooltip.dataPoints[0],n=data.dataIndex,r=n?t.dataSet[n-1]:0,o=data.raw;t.$emit("hover",{time:data.label,value:o,delta:r?(o-r)/r:0})}},legend:{display:!1}}}})}}},D=Object(m.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",[e("canvas",{attrs:{id:"planet-chart",height:this.$isFromMobile?100:90},on:{mouseout:this.onCanvasOut}})])}),[],!1,null,null,null).exports,S=(n(56),n(39),n(27),n(20),n(38),n(97),n(18));n(14);function I(object,t){var e=Object.keys(object);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(object);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(object,t).enumerable}))),e.push.apply(e,n)}return e}function N(t){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?I(Object(source),!0).forEach((function(e){Object(S.a)(t,e,source[e])})):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(source)):I(Object(source)).forEach((function(e){Object.defineProperty(t,e,Object.getOwnPropertyDescriptor(source,e))}))}return t}d.a.register.apply(d.a,Object(c.a)(d.b));var A,E,T,O={DODO:"#FFDE28",OpenOcean:"#2FFFFF","0x":"#9DCB60",WOOFi:"#73BEF4","1inch":"#E95D5D",Other:"#DDDDDD",Others:"#DDDDDD","Unknown contracts":"#DDDDDD",MetaMask:"#E18638",YieldYak:"#43B763",Firebird:"#ff8f44",BitKeep:"#7524F9",ParaSwap:"#2669F5","Transit Swap":"#174AF1",ODOS:"#FF5100"},$=function(t){return[{data:t.map((function(t){return t.percentage})),backgroundColor:t.map((function(t){return O[t.name]}))}]},P={id:"htmlLegend",afterUpdate:function(t,e,n){for(var r,o,l,ul=(r=n.containerID,o=document.getElementById(r),(l=o.querySelector("ul"))||((l=document.createElement("ul")).style.display="flex",l.style.flexDirection="row",l.style.margin=0,l.style.padding=0,l.style["flex-flow"]="wrap",l.style["justify-content"]="center",o.appendChild(l)),l);ul.firstChild;)ul.firstChild.remove();t.options.plugins.legend.labels.generateLabels(t).forEach((function(e){var li=document.createElement("li");li.style.alignItems="center",li.style.cursor="pointer",li.style.display="flex",li.style.padding="3px 0",li.style.flexDirection="row",li.style.marginLeft="2px",li.style.marginRight="4px",li.style.fontSize="12px",li.onclick=function(){var n=t.config.type;"pie"===n||"doughnut"===n?t.toggleDataVisibility(e.index):t.setDatasetVisibility(e.datasetIndex,!t.isDatasetVisible(e.datasetIndex)),t.update()};var n=document.createElement("span");n.style.background=e.fillStyle,n.style.borderColor=e.strokeStyle,n.style.borderWidth=e.lineWidth+"px",n.style.display="inline-block",n.style.height="12px",n.style.marginRight="5px",n.style.width="12px",n.style.borderRadius="1000px";var r=document.createElement("p");r.style.color=e.fontColor,r.style.margin=0,r.style.padding=0,r.style.textDecoration=e.hidden?"line-through":"";var text=document.createTextNode(e.text);r.appendChild(text),li.appendChild(n),li.appendChild(r),ul.appendChild(li)}))}},R={props:{dataSet:{type:Array,default:function(){return[]}},totalVolumeUsd:{type:Number,default:0}},computed:{calDataSet:function(){var t,e=this,n=this.dataSet.length,r=this.dataSet.slice().sort((function(a,b){return b.percentage-a.percentage})).map((function(t){return N(N({},t),{},{volume:e.$DI.get("Utils").toSmallNumber(t.volume_usd,18)})})),o=r.filter((function(t){return"Other"===t.name}))[0],l=r.filter((function(t){return"Other"!==t.name}));if(o&&(o.name="Unknown contracts"),n>7){t=l.slice(0,6);var c=l.slice(6);o&&c.push(o);var d={name:"Others",percentage:c.reduce((function(t,e){return t+e.percentage}),0),volume:c.reduce((function(t,e){return t+e.volume}),0),children:c};t.push(d)}else if(t=l,o){var h=N(N({},o),{},{name:"Others",children:[o]});t.push(h)}return t}},watch:{dataSet:{immediate:!0,handler:function(t){t.length&&(this.chart?this.update():this.render())}}},methods:{update:function(){this.chart.data.datasets=$(this.calDataSet),this.chart.data.labels=this.calDataSet.map((function(t){return t.name})),this.chart.update()},render:function(){var t=this.calDataSet.map((function(t){return t.name})),e=document.getElementById("planet-chart-doughnut");this.chart=new d.a(e,{type:"doughnut",data:{labels:t,datasets:$(this.calDataSet)},plugins:[P],options:{cutout:35,radius:65,responsive:!0,borderWidth:0,layout:{padding:{top:this.$isFromMobile?40:80,bottom:40}},plugins:{tooltip:{enabled:!1,position:"nearest",external:this.externalTooltipHandler},htmlLegend:{containerID:"legend-container"},legend:{display:!1}}}})},externalTooltipHandler:function(t){var e=this,n=t.chart,r=t.tooltip,o=function(t){var e=t.canvas.parentNode.querySelector(".custom-tooltip");if(!e){(e=document.createElement("div")).classList.add("custom-tooltip"),e.style.background="#4b4e53",e.style.borderRadius="3px",e.style.color="#eceded",e.style.fontSize="12px",e.style.opacity=1,e.style.pointerEvents="none",e.style.position="absolute",e.style.transform="translate(-50%, 0)",e.style.transition="all .1s ease";var table=document.createElement("table");table.style.margin="0px",table.style.width="100%",e.appendChild(table),t.canvas.parentNode.appendChild(e)}return e}(n);if(0!==r.opacity){if(r.body){var l=r.title||[],c=r.dataPoints,d=document.createElement("thead");l.forEach((function(title){var tr=document.createElement("tr");tr.style.borderWidth=0;var th=document.createElement("th");th.style.borderWidth=0;var text=document.createTextNode(title);th.appendChild(text),tr.appendChild(th),d.appendChild(tr)}));var h=document.createElement("tbody");c.forEach((function(body,i){var label=body.label,t=e.calDataSet.find((function(t){return t.name===label})),n=r.labelColors[i];e.addTableRow(h,t,n,t.children),t.children&&t.children.forEach((function(t,r){e.addTableRow(h,t,n,!1,r)}))}));var f=o.querySelector("table");if(!f)return;for(;f.firstChild;)f.firstChild.remove();f.appendChild(d),f.appendChild(h)}var m=n.canvas,v=m.offsetLeft,C=m.offsetTop;o.style.opacity=1,o.style.left=v+r.caretX+"px",o.style.top=C+r.caretY+"px",o.style.font=r.options.bodyFont.string,o.style.padding="10px 15px",o.style.minWidth="285px"}else o.style.opacity=0},addTableRow:function(t,e,n,r,o){var span=document.createElement("span");span.style.background=O[e.name],span.style.borderColor=n.borderColor,span.style.borderWidth="2px",span.style.marginRight="10px",span.style.height="10px",span.style.width="10px",span.style.display="inline-block";var tr=document.createElement("tr");tr.style.backgroundColor="inherit",tr.style.borderWidth=0,r&&(tr.style.borderBottom="1px solid #5e6064");var td=document.createElement("td");r&&(td.style.paddingBottom="10px"),0===o&&(td.style.paddingTop="10px"),o>=0&&(td.style.paddingBottom="4px"),td.style.borderWidth=0,td.classList.add("flex-all");var l=document.createElement("div");l.style.display="inline-block",o>=0||l.appendChild(span);var c=document.createTextNode("".concat(e.name," ").concat(this.$DI.get("Utils").cutNumber(e.percentage,2),"%"));l.appendChild(c),td.appendChild(l);var d=document.createElement("div");d.style.display="inline-block",d.style.float="right",d.style.marginLeft="10px";var h=document.createTextNode("$".concat(this.$DI.get("Utils").formatMoney(e.volume,0)));d.appendChild(h),td.appendChild(d),tr.appendChild(td),t.appendChild(tr)}}},B=(n(1382),Object(m.a)(R,(function(){var t=this.$createElement;this._self._c;return this._m(0)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticStyle:{position:"relative",height:"285px",width:"285px"}},[e("canvas",{attrs:{id:"planet-chart-doughnut"}}),this._v(" "),e("div",{attrs:{id:"legend-container"}})])}],!1,null,"746a8524",null).exports),W={name:"Table",props:{rowKey:{type:[String,Function],default:""},data:{type:Array,default:function(){return[]}},total:{type:Number,default:0},columns:{type:Array,default:function(){return[]}},loading:{type:Boolean,default:!1},sort:{type:String,default:""},order:{type:String,default:""},page:{type:Number,default:1},rowClass:{type:Function,default:function(){}},headClass:{type:String,default:""},cellClass:{type:String,default:""},colClass:{type:String,default:""}},data:function(){return{colWidth:0,clientInit:!1}},mounted:function(){this.calLayout(),this.clientInit=!0},methods:{getColWidth:function(t){var e=t.width;return"".concat(e||this.colWidth,"px")},calLayout:function(){var t=0,e=0;this.columns.forEach((function(n){n.width&&(e+=1,t+=n.width)}));var n=this.$refs.tableWrapper.getBoundingClientRect().width;this.colWidth=(n-t)/(this.columns.length-e)},getRowKey:function(t){return"function"==typeof this.rowKey?this.rowKey(t):t[this.rowKey]},onPaginationChange:function(t){this.$emit("pageChange",t)},onSortClick:function(t,e,n){t.stopPropagation(),e.sort===this.sort&&n===this.order||this.$emit("sortChange",e.sort,n)},onTheadClick:function(t,e){this.$emit("theadClick",t),t.sort&&this.$emit("sortChange",t.sort,"asc"===this.order?"desc":"asc")},onRowClick:function(t,e,n){this.$emit("rowClick",t,e,n)},getTHeadClass:function(t){if(t.sort)return"sort-cursor"}}},L=(n(1383),Object(m.a)(W,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{ref:"tableWrapper",staticClass:"table-wrapper"},[r("div",{directives:[{name:"loading",rawName:"v-loading",value:t.loading,expression:"loading"},{name:"show",rawName:"v-show",value:t.clientInit,expression:"clientInit"}],staticClass:"table"},[r("div",{staticClass:"thead"},[r("div",{staticClass:"tr flex-all"},t._l(t.columns,(function(col){return r("div",{key:col.title,staticClass:"th",class:[col.headClass,col.colClass,t.getTHeadClass(col)],style:{width:t.getColWidth(col)},on:{click:function(e){return t.onTheadClick(col,e)}}},[col.headSlot?t._t(col.headSlot,null,null,col):[r("span",{staticClass:"title"},[t._v(t._s(col.title))]),col.tooltip?r("el-tooltip",[r("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[t._v(t._s(col.tooltip))]),r("img",{staticClass:"tip-icon",attrs:{src:n(461)}})]):t._e(),col.sort?r("span",{staticClass:"caret-wrapper"},[r("i",{staticClass:"sort-caret ascending",class:{active:col.sort===t.sort&&"asc"===t.order},on:{click:function(e){return t.onSortClick(e,col,"asc")}}}),r("i",{staticClass:"sort-caret descending",class:{active:col.sort===t.sort&&"desc"===t.order},on:{click:function(e){return t.onSortClick(e,col,"desc")}}})]):t._e()]],2)})),0)]),r("div",{staticClass:"tbody"},t._l(t.data,(function(e,n){return r("div",{key:t.getRowKey(e),staticClass:"tr flex-all",class:t.rowClass(e,n),on:{click:function(r){t.onRowClick(r,e,n)}}},t._l(t.columns,(function(col){return r("div",{key:col.title,staticClass:"td",class:[col.cellClass,col.colClass],style:{width:t.getColWidth(col)}},[col.slot?t._t(col.slot,null,null,{item:e,index:n}):col.render?[t._v(t._s(col.render(e,n)))]:col.key?[t._v(t._s(e[col.key]))]:t._e()],2)})),0)})),0)]),t.total?r("div",{directives:[{name:"show",rawName:"v-show",value:t.clientInit,expression:"clientInit"}],staticClass:"pagination"},[r("el-pagination",{attrs:{background:"",layout:"prev, pager, next",total:t.total,"page-size":20,"current-page":t.page},on:{"current-change":t.onPaginationChange}})],1):t._e()])}),[],!1,null,"7814bb63",null).exports),M=function(t){return Math.max.apply(Math,t)},F=function(t){return Math.min.apply(Math,t)},V="http://www.w3.org/2000/svg",U=function(t,e){var line=document.createElementNS(V,"line");return line.setAttribute("x1",0),line.setAttribute("y1",t),line.setAttribute("x2",e),line.setAttribute("y2",t),line.setAttribute("stroke-dasharray","4 2"),line.setAttribute("stroke","#F4F4F4"),line},j=function(t,e,n){var text=document.createElementNS(V,"text");return text.setAttribute("x",t),text.setAttribute("y",e),text.setAttribute("fill","#B2B2B2"),text.setAttribute("alignment-baseline","hanging"),text.setAttribute("text-anchor","end"),text.setAttribute("font-size","12"),text.appendChild(document.createTextNode(n)),text},H={props:{config:{type:Object,default:function(){return{}}},loading:{type:Boolean,default:!1}},data:function(){return{init:!1,chart:"",svg:"",chartG:"",height:0,width:0,boardLeft:0,boardVisible:!1,lineargradientPrefix:"line-up-fill-color-item"}},computed:{configLineCharts:function(){return this.config.charts.filter((function(t){return"line"===t.type}))},configBarCharts:function(){return this.config.charts.filter((function(t){return"bar"===t.type}))}},watch:{config:{immediate:!0,deep:!0,handler:function(t){var e=this;t&&t.charts&&setTimeout((function(){e.init||(e.initSvg(),e.init=!0),e.drawData()}),200)}}},mounted:function(){this.chart=this.$refs.chart,this.width=this.chart.clientWidth,this.height=.3*this.width,T=this.height-15,A=.9*this.width,E=this.chart.getBoundingClientRect().left},methods:{onMousemove:function(t){var e=this;if(!this.loading){var n=this.config.charts[0].data.length;if(n){var r=t.clientX-E;r<0&&(r=0),r>A&&(r=A);var o=r/A,l=Math.round(o*(n-1)),c=l*(A/(n-1)),d=c+20;c>.5*A&&(d=c-200-20),this.boardLeft=d,this.boardVisible=!0,this.$emit("mousemove",{x:r,xPercent:o,currentIndex:l}),this.chart.querySelector("#indicator-line").setAttribute("x",c),this.configLineCharts.forEach((function(t){var n=e.config.lineChartColorSet[t.colorIndex],r=e.chart.querySelector("#indicator-color-".concat(n)),o=M(t.data),d=F(t.data),h=o-d,f=(t.data[l]-d)/h,m=t.yOffset(T),v=.1*T+(1-f)*(.8*T)+m;r.setAttribute("cx",c),r.setAttribute("cy",v)})),this.chart.querySelector("#indicator-g").classList.remove("hide")}}},onMouseleave:function(){this.boardVisible=!1,this.chart.querySelector("#indicator-g").classList.add("hide")},initSvg:function(){var t=this;this.svg=document.createElementNS(V,"svg"),this.svg.setAttribute("width",this.width),this.svg.setAttribute("height",this.height),this.svg.setAttribute("version","1.1"),this.svg.setAttribute("xmlns",V),Array(5).fill("_").forEach((function(e,n){var r=T/5*n;console.log("linChartHeight2: ",T);var line=U(r,t.width);t.svg.appendChild(line)})),this.config.lineChartColorSet.forEach((function(e){var defs=document.createElementNS(V,"defs"),n=document.createElementNS(V,"linearGradient");[{opacity:"0.15",offset:"0%"},{opacity:"0",offset:"75%"}].forEach((function(s){var t=document.createElementNS(V,"stop");t.setAttribute("stop-opacity",s.opacity),t.setAttribute("offset",s.offset),t.setAttribute("stop-color","#".concat(e)),n.appendChild(t)})),n.setAttribute("x1","0"),n.setAttribute("x2","0"),n.setAttribute("y1","0"),n.setAttribute("y2","1"),n.id="".concat(t.lineargradientPrefix).concat(e),defs.appendChild(n),t.svg.appendChild(defs)})),this.chartG=document.createElementNS(V,"g"),this.chartG.setAttribute("id","chart-g"),this.svg.appendChild(this.chartG);var e=document.createElementNS(V,"g");e.setAttribute("id","indicator-g");var rect=document.createElementNS(V,"rect");rect.setAttribute("id","indicator-line"),rect.setAttribute("fill","#D8D8D8"),rect.setAttribute("width",1),rect.setAttribute("height",T),rect.setAttribute("x",-1),rect.setAttribute("y",0),e.appendChild(rect),this.config.lineChartColorSet.forEach((function(t){var circle=document.createElementNS(V,"circle");circle.setAttribute("id","indicator-color-".concat(t)),circle.setAttribute("cx",-10),circle.setAttribute("cy",0),circle.setAttribute("r",3),circle.setAttribute("fill","#".concat(t)),circle.setAttribute("stroke-width",2),circle.setAttribute("stroke","#FFFFFF"),e.appendChild(circle)})),this.svg.appendChild(e),this.$refs.chart.appendChild(this.svg)},addLineChart:function(t,e,n){var r="line-chart-".concat(n),o=this.chart.querySelector("#".concat(r));o&&o.remove();var g=document.createElementNS(V,"g");g.setAttribute("id",r);var path=document.createElementNS(V,"path");path.setAttribute("fill","none"),path.setAttribute("stroke","#".concat(n)),path.setAttribute("stroke-width","2"),path.setAttribute("d",t),g.appendChild(path);var l=document.createElementNS(V,"path");l.setAttribute("class","area"),l.setAttribute("fill","url(#".concat(this.lineargradientPrefix).concat(n,")")),l.setAttribute("d",e),g.appendChild(l),this.chartG.appendChild(g)},drawData:function(){var t=this;this.config.xAxis&&this.drawXAxis(this.config.xAxis),this.config.yAxis&&this.drawYAxis(this.config.yAxis),this.configLineCharts.forEach((function(e){t.drawLineChart(e)})),this.configBarCharts.forEach((function(e){t.drawBarChart(e)}))},drawBarChart:function(t){var e="bar-chart",n=this.chart.querySelector("#".concat(e)),r="positive-negative"===t.display;n&&n.remove();var o=T*(r?.13:.08),l=.5*o,c=A,d=M(t.data),h=F(t.data),f=Math.max(Math.abs(d),Math.abs(h)),m=d-h,v=c/t.data.length,C=v/2,g=document.createElementNS(V,"g");if(g.setAttribute("id",e),t.data.forEach((function(element,t){var e,n;r?(e=Math.abs(element)/f*l,n=T-l,element>0&&(n-=e)):n=T-(e=(element-h)/m*o+l);var c=t*v,rect=document.createElementNS(V,"rect");rect.setAttribute("fill","#E5E5EE"),rect.setAttribute("width",C),rect.setAttribute("height",e),rect.setAttribute("x",c),rect.setAttribute("y",n),g.appendChild(rect)})),this.chartG.appendChild(g),r){var line=U(T-l,this.width);this.svg.appendChild(line);var y=j(this.width-10,T-o,"".concat(f,"%")),_=j(this.width-10,T-l,0),w=j(this.width-10,T,"-".concat(f,"%"));g.appendChild(y),g.appendChild(_),g.appendChild(w)}},drawLineChart:function(t){var e=.8*T,n=.1*T,r=M(t.data),o=F(t.data),l=r-o,c=t.data.length,d=A/(c-1),h="M",f=t.yOffset(T);t.data.forEach((function(element,t){var r=n+(1-(element-o)/l)*e+f,c=t*d;h+="".concat(0===t?"":"L").concat(c,",").concat(r)}));var m="".concat(h,"L").concat(A,",").concat(T,"L0,").concat(T),v=this.config.lineChartColorSet[t.colorIndex];this.addLineChart(h,m,v)},drawXAxis:function(t){var e=this,n=this.chart.querySelector("#".concat("x-axis"));n&&n.remove();var g=document.createElementNS(V,"g");g.setAttribute("id","x-axis");var r=t.data.length;Array(8).fill("_").forEach((function(n,o){var l=(o+1)/9,c=A*l,d=Math.floor(l*r),time=t.data[d],h=t.render(time),text=document.createElementNS(V,"text");text.setAttribute("x",c),text.setAttribute("y",e.height),text.setAttribute("alignment-baseline","baseline"),text.setAttribute("text-anchor","middle"),text.setAttribute("fill","#B2B2B2"),text.setAttribute("font-size","12"),text.appendChild(document.createTextNode(h)),g.appendChild(text)})),this.svg.appendChild(g)},drawYAxis:function(t){var e=this,n=M(t.data),r=F(t.data),o=n-r,l=this.chart.querySelector("#".concat("y-axis"));l&&l.remove();var g=document.createElementNS(V,"g");g.setAttribute("id","y-axis");var c=o/5;Array(5).fill("_").forEach((function(r,o){var l=T/5*o,text=j(e.width-10,l,t.render(n-o*c));g.appendChild(text)})),this.svg.appendChild(g)}}},Y=(n(1384),Object(m.a)(H,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"full-chart"},[e("div",{directives:[{name:"loading",rawName:"v-loading",value:this.loading,expression:"loading"}],ref:"chart",staticClass:"chart",style:{height:this.height+"px"},on:{mousemove:this.onMousemove,mouseleave:this.onMouseleave}},[e("div",{directives:[{name:"show",rawName:"v-show",value:this.boardVisible,expression:"boardVisible"}],staticClass:"board",style:{left:this.boardLeft+"px"}},[this._t("board")],2)])])}),[],!1,null,"010f83a2",null).exports),G=function(t){return JSON.parse(JSON.stringify(t))},K={"1d":"Past 24H","1m":"Past 30 days","3m":"Past 3 months",all:"Total volume"},Q=l()("2021-10-25T00:00:00+08:00").unix(),X={components:{Table:L,MiniBoard:y,FullLineChart:Y,BarChart:D,DoughnutChart:B,MobileTable:w},data:function(){var t=this;return{barChartHoverData:null,activeNetworkTab:this.currentNetwork,stat:[],stat1m:[],cumulateStat:{},multiTotalStat:{},sourceStat:[],tokenStat:[],coinList:this.$DI.get("Coin").allCoinList(),periodSelectVisible:!1,id:"periodSelect-visible",periodArr:["1d","1m","3m","all"],currentPeriod:localStorage.getItem("USER_DASHBOARD_SELECT_PERIOD")||"1m",tableSort:"",tableOrder:"",totalStat:{},tableExpaneded:!1,tableColumns:[{title:"Assets",slot:"coin-name",width:100,colClass:"table_col_text_left ml-20 touch"},{title:"Network",key:"chainName",width:80,colClass:"table_col_text_right"},{title:"Total Volume (24h)",key:"tradingVolume",width:200,sort:"24h_volume_usd",colClass:"table_col_text_right",render:function(e){return"$"+t.$DI.get("Utils").formatMoney(e["24h_volume_usd"]/Math.pow(10,18),0)}},{title:"Number of Trades (24H)",sort:"24h_txs",colClass:"table_col_text_right",key:"24h_txs",width:190},{title:"Liquidity",key:"tvl",width:180,sort:"tvl",tooltip:"Liquidity in WOOFi's sPMM pool. Trades of assets with no liquidity are routed to the third party aggregator.",colClass:"table_col_text_right mr-20",render:function(e){return"--"===e.tvl?"--":"$"+t.$DI.get("Utils").formatMoney(e.tvl/Math.pow(10,e.decimals),0)}}]}},computed:{availableNetworkConfigArr:function(){return this.$DI.get("Network").getAvailableNetworkConfigArr().filter((function(t){return"ethereum"!==t.key&&"base_goerli"!==t.key&&"zksync_goerli"!==t.key&&"zksync"!==t.key}))},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},displayTokenStat:function(){return this.tableExpaneded?this.tokenStat:this.tokenStat.slice(0,10)},displayTime:function(){return this.totalStat.updated_at?l.a.unix(this.totalStat.updated_at).format("DD MMM. YYYY HH:mm"):"-"},displayPeriodText:function(){return K[this.currentPeriod]},displayTradingVolume:function(){if(!this.totalVolumeUsd)return{num:"--"};var t=this.totalVolumeUsd;this.barChartHoverData&&(t=this.barChartHoverData.value);var e="$"+this.$DI.get("Utils").formatMoney(t,0);if(this.barChartHoverData){var n=this.$dayjs.unix(this.barChartHoverData.time),r=n.utcOffset()/60,o=r>0?"+"+r:r;return{num:e,time:n.format("HH:mm MMM DD").toUpperCase()+" UTC"+o,delta:this.barChartHoverData.delta,displayDelta:Number(100*this.barChartHoverData.delta).toFixed(2)+"%"}}return{num:e}},totalVolumeUsd:function(){return this.stat.length?this.stat.reduce((function(p,t){return p+t.volume_usd/1e18}),0):0},displayWooBuybackVolume:function(){return this.multiTotalStat.woo_buyback_volume?this.$DI.get("Utils").formatMoney(this.multiTotalStat.woo_buyback_volume/Math.pow(10,18),0)+" WOO":"--"},displayPast24hVolume:function(){return this.multiTotalStat.past_24h_volume?"$"+this.$DI.get("Utils").formatMoney(this.multiTotalStat.past_24h_volume/Math.pow(10,18),0):"--"},displayTotalVolumeUsd:function(){return this.multiTotalStat.total_volume_usd?"$"+this.$DI.get("Utils").formatMoney(this.multiTotalStat.total_volume_usd/Math.pow(10,18),0):"--"},displayTradingVolumeChart:function(){if(!this.stat.length)return{data:[],label:[]};var t={arbitrum:"2022-10-31T15:59:59.999Z",fantom:"2022-04-12T15:59:59.999Z",polygon:"2022-06-23T15:59:59.999Z",optimism:"2022-12-08T15:59:59.999Z",avax:"2022-02-28T15:59:59.999Z",zksync:"2023-04-26T15:59:59.999Z"}[this.activeNetworkTab]||"1999-01-01T00:00:00.000Z",e=this.stat.filter((function(e){return l()(t).isBefore(l.a.unix(e.timestamp))}));return{data:e.map((function(t){return t.volume_usd/1e18})),label:e.map((function(t){return t.timestamp}))}},displayNumberOfAddresses:function(){return this.cumulateStat&&this.stat1m.length?{rawNum:this.cumulateStat["24h_traders"],num:this.$DI.get("Utils").formatMoney(this.cumulateStat["24h_traders"],0),data:this.stat1m.map((function(t){return t.traders})),label:this.stat1m.map((function(t){return t.timestamp}))}:{num:"--",data:[],label:[]}},displayNumberOfTrades:function(){return this.cumulateStat&&this.stat1m.length?{rawNum:this.cumulateStat["24h_txs"],num:this.$DI.get("Utils").formatMoney(this.cumulateStat["24h_txs"],0),data:this.stat1m.map((function(t){return t.txs})),label:this.stat1m.map((function(t){return t.timestamp}))}:{num:"--",data:[],label:[]}},displayVolumeToLiquidity:function(){return this.cumulateStat&&this.stat1m.length?{rawNum:this.cumulateStat["24h_turnover_rate_percentage"],num:Number(this.cumulateStat["24h_turnover_rate_percentage"]).toFixed(1)+"%",data:this.stat1m.map((function(t){return t.turnover_rate_percentage})),label:this.stat1m.map((function(t){return t.timestamp}))}:{num:"--",data:[],label:[]}}},mounted:function(){var t=this;this.activeNetworkTab=this.currentNetwork,"ethereum"!==this.activeNetworkTab&&"base_goerli"!==this.activeNetworkTab&&"zksync_goerli"!==this.activeNetworkTab||(this.activeNetworkTab="bsc"),this.fetchData(),this.$DI.get("Vue").$on("onBodyClick",(function(e){e(t.id)&&(t.periodSelectVisible=!1)}))},methods:{onNetworkTabClick:function(t){this.activeNetworkTab=t,this.fetchData()},onTheadClick:function(t){"coin-name"===t.slot&&(this.tokenStat=G(this.tokenStatBk),this.tableSort="",this.tableOrder="")},onSortChange:function(t,e){this.tableSort=t,this.tableOrder=e,this.tokenStat=this.tokenStat.sort((function(a,b){var n=a[t];n="--"===n?0:n;var r=b[t];return r="--"===r?0:r,"asc"===e?n-r:r-n}))},onChangePeriod:function(t){this.periodSelectVisible=!1,this.currentPeriod!==t&&(this.currentPeriod=t,localStorage.setItem("USER_DASHBOARD_SELECT_PERIOD",t),this.getSourceStat(),this.getStat())},fetchData:function(){this.tableExpaneded=!1,this.stat=[],this.sourceStat=[],this.tokenStat=[],this.tokenStatBk=[],this.cumulateStat={},this.stat1m=[],this.getStat(),this.getSourceStat(),this.getTokenStat(),this.getCumulateStat(),this.get1mStat(),this.getTotalStat(),this.getMultiTotalStat()},getMultiTotalStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").multiTotalStat();case 2:t.multiTotalStat=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getTotalStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").getTotalStat(t.activeNetworkTab);case 2:t.totalStat=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getCumulateStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").getCumulateStat(void 0,t.activeNetworkTab);case 2:t.cumulateStat=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getTokenStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").getTokenStat(t.activeNetworkTab);case 2:n=e.sent,t.tokenStat=n.bsc,t.tokenStat.forEach((function(e){e.chainName=t.$DI.get("Network").getNetworkConfigObj()[t.activeNetworkTab].chainNameShort})),t.tokenStatBk=G(t.tokenStat),t.tokenStat.length<=10&&(t.tableExpaneded=!0);case 7:case"end":return e.stop()}}),e)})))()},getSourceStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").getSourceStat(t.currentPeriod,t.activeNetworkTab);case 2:t.sourceStat=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").getStat(t.currentPeriod,t.activeNetworkTab);case 2:if(n=e.sent,"all"!==t.currentPeriod&&"3m"!==t.currentPeriod){e.next=6;break}return t.stat=n.filter((function(t){return t.timestamp>Q})),e.abrupt("return");case 6:t.stat=n;case 7:case"end":return e.stop()}}),e)})))()},get1mStat:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("StatHttp").getStat("1m",t.activeNetworkTab);case 2:t.stat1m=e.sent;case 3:case"end":return e.stop()}}),e)})))()},onExpandTable:function(){this.tableExpaneded=!0}}},z=(n(1385),Object(m.a)(X,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"analytics"},[r("div",{staticClass:"top"},[r("div",{staticClass:"total",class:{"flex-all":!t.$isFromMobile}},[this.multiTotalStat.past_24h_volume?t._e():r("div",{staticClass:"css-loading"}),r("div",{staticClass:"total-item"},[r("div",{staticClass:"text"},[t._v("24-hr Trading Volume")]),r("div",{staticClass:"num"},[t._v(t._s(t.displayPast24hVolume))])]),r("div",{staticClass:"total-item"},[r("div",{staticClass:"text"},[t._v("Total Volume")]),r("div",{staticClass:"num"},[t._v(t._s(t.displayTotalVolumeUsd))])]),r("div",{staticClass:"total-item"},[r("div",{staticClass:"text"},[t._v("Total Bought Back")]),r("div",{staticClass:"num"},[t._v(t._s(t.displayWooBuybackVolume))])])]),r("div",{staticClass:"tab-wrapper"},[r("div",{staticClass:"tabs flex-align"},t._l(t.availableNetworkConfigArr,(function(e){return r("div",{key:e.key,staticClass:"item flex-align touch",class:{active:e.key===t.activeNetworkTab},on:{click:function(n){return t.onNetworkTabClick(e.key)}}},[r("img",{attrs:{src:e.config.chainLogo}}),r("span",[t._v(t._s(e.config.chainNameShort))])])})),0)])]),r("div",{staticClass:"time"},[t._v("Updated on "+t._s(t.displayTime))]),r("div",{staticClass:"mid-chart"},[t.displayTradingVolume.num&&t.displayTradingVolumeChart.data.length?t._e():r("div",{staticClass:"css-loading"}),r("div",{staticClass:"title"},[t._v("Trading Volume")]),r("div",{staticClass:"main",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[r("div",{staticClass:"bar-chart-top"},[r("div",{staticClass:"num"},[t._v(t._s(t.displayTradingVolume.num))]),r("div",{staticClass:"text"},[t.barChartHoverData?[r("span",{staticClass:"tag",class:{rise:t.displayTradingVolume.delta<0}},[t._v(t._s(t.displayTradingVolume.displayDelta))]),r("span",[t._v(t._s(t.displayTradingVolume.time))])]:r("span",[t._v(t._s(t.displayPeriodText))])],2)]),r("BarChart",{staticClass:"bar-chart",attrs:{dataSet:t.displayTradingVolumeChart.data,dataLabel:t.displayTradingVolumeChart.label},on:{hover:function(e){return t.barChartHoverData=e}}})],1),r("div",{staticClass:"right"},[r("DoughnutChart",{attrs:{dataSet:t.sourceStat,totalVolumeUsd:t.totalVolumeUsd}})],1)]),r("div",{staticClass:"switch",attrs:{id:t.id}},[r("div",{staticClass:"selected flex-align touch",on:{click:function(e){t.periodSelectVisible=!t.periodSelectVisible}}},[r("span",[t._v(t._s(t.currentPeriod.toUpperCase()))]),r("img",{staticClass:"down",class:{up:t.periodSelectVisible},attrs:{src:n(1448)}})]),t.periodSelectVisible?r("div",{staticClass:"select-container"},[r("div",{staticClass:"select-items"},t._l(t.periodArr,(function(e){return r("div",{key:e,staticClass:"item",on:{click:function(n){return t.onChangePeriod(e)}}},[r("span",[t._v(t._s(e.toUpperCase()))])])})),0)]):t._e()])]),r("div",{staticClass:"mid-board",class:{"flex-all":!t.$isFromMobile}},[r("MiniBoard",{attrs:{title:"Number of Addresses",num:t.displayNumberOfAddresses.num,rawNum:t.displayNumberOfAddresses.rawNum,dataSet:t.displayNumberOfAddresses.data,dataLabel:t.displayNumberOfAddresses.label}}),r("MiniBoard",{attrs:{title:"Number of Trades",num:t.displayNumberOfTrades.num,rawNum:t.displayNumberOfTrades.rawNum,dataSet:t.displayNumberOfTrades.data,dataLabel:t.displayNumberOfTrades.label}}),r("MiniBoard",{attrs:{title:"Turnover Rate",isPercentage:"",num:t.displayVolumeToLiquidity.num,rawNum:t.displayVolumeToLiquidity.rawNum,dataSet:t.displayVolumeToLiquidity.data,dataLabel:t.displayVolumeToLiquidity.label}})],1),t.$isFromMobile?r("div",{staticClass:"mid-table"},[r("MobileTable",{attrs:{data:t.tokenStat}})],1):r("div",{staticClass:"mid-table"},[t.tokenStat.length?t._e():r("div",{staticClass:"css-loading"}),r("Table",{attrs:{rowKey:"tokens",data:t.displayTokenStat,loading:!1,columns:t.tableColumns,sort:t.tableSort,order:t.tableOrder},on:{sortChange:t.onSortChange,theadClick:t.onTheadClick},scopedSlots:t._u([{key:"coin-name",fn:function(e){return r("div",{staticClass:"coin-name flex-align"},[r("div",{staticClass:"rank"},[t._v(t._s(e.index+1))]),r("img",{attrs:{src:e.item.logo_url}}),r("div",{staticClass:"name"},[t._v(t._s(e.item.symbol))])])}}],null,!1,2643559312)}),t.tableExpaneded?t._e():r("div",{staticClass:"table-expand touch",on:{click:t.onExpandTable}},[r("img",{attrs:{src:n(1449)}})])],1)])}),[],!1,null,"bc8c8274",null).exports),Z={methods:{onSwitchNetwork:function(){this.$DI.get("Vue").$emit("onOpenSwitchNetwork")}}},J=(n(1386),{name:"AnalyticsMain",components:{Analytics:z,DashboardPending:Object(m.a)(Z,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("img",{attrs:{src:n(1452)}}),e("div",{staticClass:"line"},[this._v("Dashboard on Avalanche is coming soon, you can access it on BNB chain for now.")]),e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:this.onSwitchNetwork}},[this._v("SWITCH NETWORK")])],1)}),[],!1,null,"4f655b26",null).exports},computed:{isBscNetwork:function(){return"bsc"===this.currentNetwork},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")}},head:{title:"WOOFi Dashboard | Track Trade Volume, WOO Token Buy Back",meta:[{hid:"description",name:"description",content:"Track 24 hr trading volume, WOO token buy back and other metrics on WOOFi."}]}}),tt=Object(m.a)(J,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content container"},[e("Analytics")],1)}),[],!1,null,"5199c3da",null);e.default=tt.exports},1517:function(t,e,n){"use strict";n.r(e);n(17);var r=n(2),o=(n(14),n(97),n(1476),n(19),n(27),n(20),n(38),n(16)),l=n.n(o),c={props:{enabled:{type:Boolean,default:!0},showDisabled:{type:Boolean,default:!1}},methods:{onClick:function(){this.enabled&&this.$emit("click")}}},d=n(4),h=Object(d.a)(c,(function(){var t=this.$createElement;return(this._self._c||t)("div",{staticClass:"clickable",class:{touch:this.enabled},style:{cursor:!this.enabled&&this.showDisabled?"not-allowed":""},on:{click:this.onClick}},[this._t("default")],2)}),[],!1,null,"03f826b2",null).exports,f=n(119),m={},v=(n(1404),Object(d.a)(m,(function(){var t=this.$createElement,e=this._self._c||t;return e("el-tooltip",{staticClass:"tooltip",attrs:{placement:"right"}},[e("div",{staticClass:"tip",attrs:{slot:"content"},slot:"content"},[this._v("There is a 7-day unstaking period before your WOO can be withdrawn. WOO tokens in the process of unstaking can not receive rewards. If you want to withdraw before the unstaking period ends, a 5% fee of your staked WOO will be charged and rewarded to the current WOO staking pool.")]),e("div",{staticClass:"cold flex-align touch"},[e("span",[this._v("7-day unstaking period")]),e("img",{attrs:{src:n(82)}})])])}),[],!1,null,"55b26e53",null).exports),C={props:{stakingInputNum:{type:[String,Number],default:""},userReserveAmount:{type:[Number],default:0},withdrawFee:{type:[Number,String],default:0},pricePerFullShare:{type:[Number],default:0},displayUserReserveAmount:{type:[String],default:""},displayCountDownStr:{type:[String],default:""},stakeCoin:{type:[Object],default:function(){return{}}}},data:function(){return{unstakeApplyVisible:!1,penaltyWithdrawVisible:!1,forgetWithdrawVisible:!1,unstakeAnotherApplyVisible:!1}},computed:{displayUnstakeWoo:function(){return this.$DI.get("Utils").cutNumber(this.pricePerFullShare*this.stakingInputNum,this.stakeCoin.fix)},UnstakeCoinPenaltyFee:function(){return this.$DI.get("Utils").cutNumber(this.pricePerFullShare*this.stakingInputNum*this.withdrawFee,this.stakeCoin.fix)},penaltyFee:function(){return this.$DI.get("Utils").cutNumber(this.userReserveAmount*this.withdrawFee,this.stakeCoin.fix)}},methods:{onClickUnstakeApply:function(){this.unstakeApplyVisible=!1,this.$emit("unstakeApply")},onClickUnstakeAnotherApply:function(){this.unstakeAnotherApplyVisible=!1,this.$emit("unstakeAnother")},onClickPenaltyWithdraw:function(){this.penaltyWithdrawVisible=!1,this.$emit("penaltyWithdraw")},onClickForgetWithdraw:function(){this.forgetWithdrawVisible=!1,this.$emit("withdraw")}}},y=(n(1405),Object(d.a)(C,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"stake-dialogs"},[n("el-dialog",{attrs:{title:"Unstake Confirmation",visible:t.unstakeApplyVisible,width:t.$isFromMobile?"90%":"480px","custom-class":"stake-dialog"},on:{"update:visible":function(e){t.unstakeApplyVisible=e}}},[n("div",{staticClass:"text"},[t._v("You are activating the 7 days unstaking period for withdrawing "),n("span",[t._v(t._s(t.displayUnstakeWoo))]),t._v(" WOO, during which it will not be eligible for staking rewards. If you want to withdraw before the unstaking period ends, a "+t._s(Number(100*t.withdrawFee).toFixed(2)+"%")+" ("),n("span",[t._v(t._s(t.UnstakeCoinPenaltyFee))]),t._v(" WOO) penalty will be charged and rewarded to the WOO staking pool.")]),n("div",{staticClass:"operation flex-all"},[n("el-button",{on:{click:function(e){t.unstakeApplyVisible=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onClickUnstakeApply}},[t._v("Confirm")])],1)]),n("el-dialog",{attrs:{title:"Unstake Confirmation",visible:t.unstakeAnotherApplyVisible,width:t.$isFromMobile?"90%":"480px","custom-class":"stake-dialog"},on:{"update:visible":function(e){t.unstakeAnotherApplyVisible=e}}},[n("div",{staticClass:"text"},[t._v("You already have "),n("span",[t._v(t._s(t.displayUserReserveAmount))]),t._v(" WOO in the process of unstaking which will be available for withdrawing after "),n("span",[t._v(t._s(t.displayCountDownStr))]),t._v(". Are you sure you want to activate another unstaking request, this will RESET the unstaking period including the existing request?")]),n("div",{staticClass:"operation flex-all"},[n("el-button",{on:{click:function(e){t.unstakeAnotherApplyVisible=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onClickUnstakeAnotherApply}},[t._v("Confirm")])],1)]),n("el-dialog",{attrs:{title:"Withdraw Confirmation",visible:t.penaltyWithdrawVisible,width:t.$isFromMobile?"90%":"480px","custom-class":"stake-dialog"},on:{"update:visible":function(e){t.penaltyWithdrawVisible=e}}},[n("div",{staticClass:"text"},[t._v("The unstaking period will end after "),n("span",[t._v(t._s(t.displayCountDownStr))]),t._v(". If you want to withdraw NOW, a "+t._s(Number(100*t.withdrawFee).toFixed(2)+"%")+" ("),n("span",[t._v(t._s(t.penaltyFee))]),t._v(" WOO) FEE will be charged and rewarded to the WOO staking pool. Are you sure you want to proceed?")]),n("div",{staticClass:"operation flex-all"},[n("el-button",{on:{click:function(e){t.penaltyWithdrawVisible=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onClickPenaltyWithdraw}},[t._v("Confirm")])],1)]),n("el-dialog",{attrs:{title:"Unstake Confirmation",visible:t.forgetWithdrawVisible,width:t.$isFromMobile?"90%":"480px","custom-class":"stake-dialog"},on:{"update:visible":function(e){t.forgetWithdrawVisible=e}}},[n("div",{staticClass:"text"},[t._v("You have "),n("span",[t._v(t._s(t.displayUserReserveAmount))]),t._v(" WOO unstaked. Please [WITHDRAW] before you unstake again.")]),n("div",{staticClass:"operation flex-all"},[n("el-button",{on:{click:function(e){t.forgetWithdrawVisible=!1}}},[t._v("Cancel")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onClickForgetWithdraw}},[t._v("Withdraw")])],1)])],1)}),[],!1,null,"4f8604fa",null).exports),_={methods:{onSwitchNetwork:function(){this.$DI.get("Vue").$emit("onOpenSwitchNetwork")}}},w=(n(1406),Object(d.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content"},[e("img",{attrs:{src:n(1477)}}),e("div",{staticClass:"line"},[this._v("Stake on Avalanche is coming soon, you can access it on BNB chain for now.")]),e("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:this.onSwitchNetwork}},[this._v("SWITCH NETWORK")])],1)}),[],!1,null,"e5802db6",null).exports),k={components:{StakingInput:f.a,CooldownNote:v,Dialog:y,NotAvailable:w,Clickable:h},data:function(){return{coinList:this.$DI.get("Coin").allCoinList(),activeTab:"STAKE",stakeCoinBalance:{},stakingInputNum:"",stakingMax:!1,unStakingMax:!1,tx:"",pricePerFullShare:0,costSharePrice:0,xCoinBalance:"",stakeUserInfo:{},yieldData:{},withdrawFeePeriod:0,stakeAllowance:0,withdrawFee:"-",currentDayjs:l()(),latestBtsDayjs:l()(),isDomLoading:!0}},beforeRouteLeave:function(a,b,t){this.intervalIdCurrentDayjsCountDown&&clearInterval(this.intervalIdCurrentDayjsCountDown),t()},computed:{isStakingPageAvailable:function(){return"optimism"!==this.currentNetwork&&("ethereum"!==this.currentNetwork&&("base_goerli"!==this.currentNetwork&&("zksync_goerli"!==this.currentNetwork&&"zksync"!==this.currentNetwork)))},availableNetworkConfigArr:function(){return this.$DI.get("Network").getAvailableNetworkConfigArr()},isBscNetwork:function(){return"bsc"===this.currentNetwork},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},isLoading:function(){return!this.isGuest&&(this.stakeCoinBalance.balance<0||this.pricePerFullShare<0||this.costSharePrice<0||Object.keys(this.yieldData)<this.availableNetworkConfigArr.length)},isUnstake:function(){return"UNSTAKE"===this.activeTab},displayWithdrawFee:function(){return"-"===this.withdrawFee?"- %":"".concat(Number(100*this.withdrawFee).toFixed(2),"%")},displayCountDownStr:function(){var t=3600+this.userLastReserveWithdrawTime+this.withdrawFeePeriod-this.currentDayjs.unix();if(t<=0)return"";var e=Math.floor(t/86400),n=Math.floor(t%86400/3600),r=Math.floor(t%3600/60);return"".concat(this.padStart(e,2,"0"),"d ").concat(this.padStart(n,2,"0"),"h ").concat(this.padStart(r,2,"0"),"m")},displayUserReserveAmount:function(){return this.cutNumber(this.userReserveAmount,this.stakeCoin.fix)},userReserveAmount:function(){return this.stakeUserInfo.reserveAmount?this.$DI.get("Utils").toSmallNumber(this.stakeUserInfo.reserveAmount,this.stakeCoin.decimals):0},userLastReserveWithdrawTime:function(){return Number(this.stakeUserInfo.lastReserveWithdrawTime)||0},xWooDisplayName:function(){return"x"+this.stakeCoin.displayName},operationCoinName:function(){return this.isUnstake?this.xWooDisplayName:this.stakeCoin.displayName},isInsufficientBalance:function(){return this.isUnstake?this.stakingInputNum>this.xCoinBalance:this.stakingInputNum>this.stakeCoinBalance.balance},isUnStakeBtnDisabled:function(){return!this.stakingInputNum||this.isInsufficientBalance},isStakeBtnDisabled:function(){return!this.stakingInputNum||this.isInsufficientBalance},isInNormalWithdraw:function(){return this.latestBtsDayjs.isAfter(l.a.unix(this.userLastReserveWithdrawTime).add(this.withdrawFeePeriod,"second").add(3600,"second"))},isWithdrawVisible:function(){return this.userReserveAmount},displayPricePerFullShare:function(){return this.cutNumber(this.pricePerFullShare,6)},displayOperationCoinBalance:function(){return this.isUnstake?this.displayXCoinBalance:this.displayCoinBalance},displayCoinBalance:function(){return this.cutNumber(this.stakeCoinBalance.balance,this.stakeCoin.fix)},displayXCoinBalance:function(){return this.xCoinBalance<0?"-":this.cutNumber(this.xCoinBalance,this.stakeCoin.fix)},displayTotalStakedCoin:function(){return this.totalStakedCoin<0?"-":this.formatMoney(this.totalStakedCoin,0)},displayTotalStakedCoinInUsd:function(){return this.totalStakedCoin<0?"-":this.formatMoney(this.totalStakedCoin*this.wooPrice,2)},displayXCoinBalanceFormat:function(){return this.isStakingPageAvailable?""===this.xCoinBalance?"0":this.formatMoney(this.xCoinBalance,2):"-"},displayApr:function(){return this.isStakingPageAvailable&&this.apr?Number(100*this.apr).toFixed(2)+"%":"-"},displayUserStakedCoin:function(){return this.isStakingPageAvailable?""===this.xCoinBalance||""===this.pricePerFullShare?"0":this.formatMoney(this.xCoinBalance*this.pricePerFullShare,2):"-"},displayUserProfitCoin:function(){return""===this.xCoinBalance||""===this.pricePerFullShare||""===this.costSharePrice?"0":this.formatMoney(this.xCoinBalance*(this.pricePerFullShare-this.costSharePrice),2)},rOIEstimate:function(){return(1+this.apr)*this.xCoinBalance*this.pricePerFullShare},displayROIEstimate:function(){return this.rOIEstimate<0?"-":this.formatMoney(this.rOIEstimate,this.stakeCoin.fix)},displayROIEstimateInUsd:function(){return this.rOIEstimat<0?"-":this.formatMoney(this.rOIEstimate*this.wooPrice,2)},stakeCoin:function(){return this.coinList.find((function(t){return"woo"===t.name}))},isGuest:function(){return this.$store.state.auth.guest},wooPrice:function(){return this.$store.state.auth.wooPrice},isMetamask:function(){return this.$DI.get("Web3").isMetamask()},stakeCoinAPIRes:function(){var t=this.yieldData[this.currentNetwork];return t?t[this.stakeCoin.name]:{}},apr:function(){return this.stakeCoinAPIRes.apr?this.stakeCoinAPIRes.apr/100:this.totalStakedCoin?1666.7/this.totalStakedCoin*365:0},totalStakedCoin:function(){var t=this,e=Object.keys(this.yieldData).reduce((function(e,n){return e+(t.stakeCoin?t.$DI.get("Utils").toSmallNumber(t.yieldData[n][t.stakeCoin.name].total_staked,18):0)}),0);return e&&this.stakeCoin?e:0},isStakingInputMax:function(){return this.isUnstake?this.unStakingMax:this.stakingMax},isNeedsStakeApproval:function(){return this.stakeAllowance<=0||this.stakingInputNum>this.stakeAllowance}},watch:{isLoading:{immediate:!0,handler:function(t){var e=this;t||setTimeout((function(){e.isDomLoading=!1}),500)}},isGuest:{immediate:!0,handler:function(t){t||this.initData()}}},mounted:function(){this.fetchAllChainApiData(),this.setCurrentDayjsCountDown()},methods:{fetchAllChainApiData:function(){var t=this;this.availableNetworkConfigArr.forEach((function(e){t.fetchApiData(e.key)}))},setCurrentDayjsCountDown:function(){var t=this;this.intervalIdCurrentDayjsCountDown=setInterval((function(){t.currentDayjs=l()(),t.fetchLatestBts()}),1e3)},fetchLatestBts:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getLatestBlockTimeStamp();case 2:n=e.sent,t.latestBtsDayjs=l.a.unix(n);case 4:case"end":return e.stop()}}),e)})))()},fetchApiData:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$DI.get("DexHttp").staking(t);case 2:r=n.sent,e.$set(e.yieldData,t,r);case 4:case"end":return n.stop()}}),n)})))()},initData:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.isStakingPageAvailable){e.next=6;break}return e.next=3,t.fetchStakeCoinBalance();case 3:return e.next=5,t.makeStakeContract();case 5:t.fetchData(!0);case 6:case"end":return e.stop()}}),e)})))()},fetchData:function(t){var e=this;this.$store.dispatch("auth/SYNC_AUTH"),this.fetchApproval(),this.getPricePerFullShare(),this.getCostSharePrice(),this.fetchXCoinBalance(),this.getStakeUserInfo(),this.getWithdrawFeePeriod(),this.getWithdrawFee(),t||(this.fetchStakeCoinBalance(),this.fetchApiData(this.currentNetwork)),t&&setInterval((function(){e.fetchData()}),15e3)},getEachChainLogo:function(t){return this.$DI.get("Network").getNetworkConfigObj()[t].chainLogo},getDisplayEachChainTvl:function(t,e){if(!this.stakeCoin)return"";var small=this.$DI.get("Utils").toSmallNumber(t[this.stakeCoin.name].total_staked,18),n=this.shorthandMoney(small,2);return this.$isFromMobile,n},getDisplayEachChainApr:function(t,e){if(!this.stakeCoin)return"";var small=t[this.stakeCoin.name].apr,n=this.shorthandMoney(small,2);return"(APR ".concat(n,"%)")},shorthandMoney:function(a,b){return this.$DI.get("Utils").shorthandMoney(a,b)},formatMoney:function(a,b){return this.$DI.get("Utils").formatMoney(a,b)},cutNumber:function(a,b){return this.$DI.get("Utils").cutNumber(a,b)},padStart:function(t,e,n){var s=String(t);return!s||s.length>=e?t:"".concat(Array(e+1-s.length).join(n)).concat(t)},toBigNumber:function(a,b){return this.$DI.get("Utils").toBigNumber(a,b)},onStakingInput:function(t,e){this.stakingInputNum=t,e||(this.stakingMax=!1,this.unStakingMax=!1)},onStakingInputMax:function(){if(this.isUnstake){if(this.xCoinBalance<1e-10)return;return this.stakingInputNum=this.xCoinBalance,void(this.unStakingMax=!0)}this.stakingInputNum=this.stakeCoinBalance.balance,this.stakingMax=!0},getPricePerFullShare:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getPricePerFullShare(t.stakeCoin);case 2:t.pricePerFullShare=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getWithdrawFeePeriod:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,t.$DI.get("Web3").getWithdrawFeePeriod(t.stakeCoin);case 3:e.t1=e.sent,t.withdrawFeePeriod=(0,e.t0)(e.t1);case 5:case"end":return e.stop()}}),e)})))()},getWithdrawFee:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,t.$DI.get("Web3").getWithdrawFee(t.stakeCoin);case 3:e.t1=e.sent,e.t2=(0,e.t0)(e.t1),t.withdrawFee=e.t2/1e4;case 6:case"end":return e.stop()}}),e)})))()},getCostSharePrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getCostSharePrice(t.stakeCoin);case 2:t.costSharePrice=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getStakeUserInfo:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getStakeUserInfo(t.stakeCoin);case 2:t.stakeUserInfo=e.sent;case 3:case"end":return e.stop()}}),e)})))()},makeStakeContract:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").makeStakeContractByCoinObj(t.stakeCoin);case 2:case"end":return e.stop()}}),e)})))()},fetchApproval:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getStakeApprovalAllowance(t.stakeCoin);case 2:t.stakeAllowance=e.sent;case 3:case"end":return e.stop()}}),e)})))()},fetchStakeCoinBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getCoinBalance(t.stakeCoin);case 2:t.stakeCoinBalance=e.sent;case 3:case"end":return e.stop()}}),e)})))()},fetchXCoinBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getXCoinBalance(t.stakeCoin);case 2:n=e.sent,t.xCoinBalance=n.balance,t.xCoinBalanceRaw=n.rawBalance;case 5:case"end":return e.stop()}}),e)})))()},onClickStake:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.stakingMax?t.stakeCoinBalance.rawBalance:t.toBigNumber(t.stakingInputNum,t.stakeCoin.decimals),e.next=4,t.$DI.get("Web3").stakeDepositPromise(t.stakeCoin,n);case 4:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","STAKING_STAKE")})).on("receipt",(function(e){t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","STAKING_STAKE"),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:t.tx}),t.resetStakingStatus(),t.fetchData()})).on("error",(function(e,n){e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onUnStakeApply:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,n=t.unStakingMax?t.xCoinBalanceRaw:t.toBigNumber(t.stakingInputNum,t.stakeCoin.decimals),e.next=4,t.$DI.get("Web3").reserveWithdrawPromise(t.stakeCoin,n);case 4:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","STAKING_UNSTAKE")})).on("receipt",(function(e){t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","STAKING_UNSTAKE"),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:t.tx}),t.resetUnStakingStatus(),t.fetchData()})).on("error",(function(e,n){e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx}))})),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(0),console.log(e.t0);case 11:case"end":return e.stop()}}),e,null,[[0,8]])})))()},onStakeWithdraw:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$DI.get("Web3").stakeWithdrawPromise(t.stakeCoin);case 3:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","STAKING_WITHDRAW")})).on("receipt",(function(e){t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","STAKING_WITHDRAW"),t.$DI.get("Notification").succeedWithInfo({lineA:"Transaction receipt",tx:t.tx}),t.fetchData()})).on("error",(function(e,n){e&&e.code&&(4001===e.code?t.$DI.get("Notification").errorWithInfo({lineA:"Cancelled",lineB:"User denied transaction signature"}):t.$DI.get("Notification").errorWithInfo({lineA:"Transaction Fail",tx:t.tx}))})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onClickUnStake:function(){if(this.isWithdrawVisible)return this.isInNormalWithdraw?void(this.$refs.stakeDialog.forgetWithdrawVisible=!0):void(this.$refs.stakeDialog.unstakeAnotherApplyVisible=!0);this.$refs.stakeDialog.unstakeApplyVisible=!0},onClickPenaltyWithdraw:function(){this.$refs.stakeDialog.penaltyWithdrawVisible=!0},onClickNormalWithdraw:function(){this.onStakeWithdraw()},onClickApprove:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,t.$DI.get("Web3").stakeApprovePromise(t.stakeCoin);case 3:e.sent.transaction.on("transactionHash",(function(e){t.tx=e,t.$DI.get("Vue").$emit("UI_ADD_PENDING","STAKING_APPROVAL")})).on("receipt",(function(e){t.$DI.get("Notification").succeedWithInfo({lineA:"Approved ".concat(t.stakeCoin.displayName),tx:t.tx}),t.fetchData(),t.$DI.get("Vue").$emit("UI_REMOVE_PENDING","STAKING_APPROVAL")})),e.next=10;break;case 7:e.prev=7,e.t0=e.catch(0),console.log(e.t0);case 10:case"end":return e.stop()}}),e,null,[[0,7]])})))()},onPenaltyWithdraw:function(){this.onStakeWithdraw()},onClickConnectWallet:function(){this.$DI.get("Vue").$emit("UI_CONNECT_WALLET")},resetUnStakingStatus:function(){this.stakingInputNum="",this.unStakingMax=!1},resetStakingStatus:function(){this.stakingInputNum="",this.stakingMax=!1},onTabClick:function(t){this.activeTab=t,this.resetStakingStatus()},onClickAddxWoo:function(){var t={address:this.stakeCoin.stakeContract,symbol:this.xWooDisplayName,decimals:18,image:window.location.origin+n(1478)};this.$DI.get("Wallet").registerToken(t)},onClickFaq7Days:function(){window.open("https://learn.woo.org/woofi/stake  ","_blank")}}},x=(n(1407),{name:"Stake",components:{Staking:Object(d.a)(k,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"stake"},[t.isDomLoading?r("div",{staticClass:"logo-loading"}):[t._m(0),r("div",{staticClass:"card"},[r("div",{staticClass:"stat"},[r("div",{staticClass:"item"},[r("div",{staticClass:"line-a",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"left"},[t._v("Total Staked")]),r("div",{staticClass:"right"},[t._v(t._s(t.displayTotalStakedCoin)+" WOO")])]),r("div",{staticClass:"line-b"},[t._v("~$"+t._s(t.displayTotalStakedCoinInUsd))])]),r("div",{staticClass:"each flex-all"},t._l(t.yieldData,(function(e,n){return r("div",{key:n,staticClass:"each-item",class:{"flex-align":!t.$isFromMobile}},[r("div",{staticClass:"flex-align"},[r("img",{attrs:{src:t.getEachChainLogo(n)}}),r("span",{staticClass:"tvl"},[t._v(t._s(t.getDisplayEachChainTvl(e,n)))])]),r("span",{staticClass:"apr"},[t._v(t._s(t.getDisplayEachChainApr(e,n)))])])})),0)]),r("div",{staticClass:"main-content"},[r("div",{staticClass:"tab flex-align"},[r("div",{staticClass:"tab-item touch",on:{click:function(e){return t.onTabClick("STAKE")}}},[r("span",{class:{active:"STAKE"===t.activeTab}},[t._v("STAKE")])]),r("Clickable",{attrs:{showDisabled:!0,enabled:t.isStakingPageAvailable},on:{click:function(e){return t.onTabClick("UNSTAKE")}}},[r("div",{staticClass:"tab-item"},[r("span",{class:{active:"UNSTAKE"===t.activeTab}},[t._v("UNSTAKE")])])])],1),r("div",{staticClass:"operation"},[r("div",{staticClass:"price-info flex-all"},[r("div",{staticClass:"xprice",class:{disappear:!t.pricePerFullShare}},[t._v("1 "+t._s(t.xWooDisplayName)+" = "+t._s(t.displayPricePerFullShare)+" "+t._s(t.stakeCoin.displayName))]),r("div",{staticClass:"balance"},[r("span",[t._v("Balance:")]),r("span",{staticClass:"num"},[t._v(t._s(t.displayOperationCoinBalance))])]),t.$isFromMobile?t._e():r("CooldownNote")],1),r("div",{staticClass:"user-input",class:{"flex-all":!t.$isFromMobile}},[r("StakingInput",{staticClass:"input",attrs:{displayCoinBalance:t.displayOperationCoinBalance,amount:t.stakingInputNum,isMax:t.isStakingInputMax,operationCoinName:t.operationCoinName},on:{input:t.onStakingInput,max:t.onStakingInputMax}}),t.isGuest?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickConnectWallet}},[t._v("Connect Wallet")]):t.isStakingPageAvailable?t.isUnstake?r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:t.isUnStakeBtnDisabled},on:{click:t.onClickUnStake}},[t._v("UNSTAKE")]):t.isNeedsStakeApproval?r("el-button",{staticClass:"btn",attrs:{type:"primary"},on:{click:t.onClickApprove}},[t._v("APPROVE")]):t.isInsufficientBalance?r("el-button",{staticClass:"btn long",attrs:{type:"primary",disabled:""}},[t._v("INSUFFICIENT BALANCE")]):"STAKE"===t.activeTab?r("el-button",{staticClass:"btn",attrs:{type:"primary",disabled:t.isStakeBtnDisabled},on:{click:t.onClickStake}},[t._v("STAKE")]):t._e():r("el-tooltip",[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("STAKE is only available on BSC, Avalanche, Fantom, Polygon and Arbitrum.")]),r("div",{staticStyle:{width:"30%","margin-left":"20px"}},[r("el-button",{staticClass:"btn",staticStyle:{width:"100%"},attrs:{type:"primary",disabled:""}},[t._v("STAKE")])],1)]),t.$isFromMobile?r("CooldownNote"):t._e()],1)]),t.isWithdrawVisible?r("div",{staticClass:"withdraw"},[t.isInNormalWithdraw?r("div",{staticClass:"normal",class:{"flex-align-just-center":!t.$isFromMobile}},[r("div",{staticClass:"text"},[t._v("You have "+t._s(t.displayUserReserveAmount)+" "+t._s(t.stakeCoin.displayName)+" unstaked.")]),r("div",{staticClass:"btn touch",on:{click:t.onClickNormalWithdraw}},[t._v("Withdraw Now")])]):r("div",{staticClass:"penalty",class:{"flex-align-just-center":!t.$isFromMobile}},[r("div",{staticClass:"text"},[t._v(t._s(t.displayUserReserveAmount)+" "+t._s(t.stakeCoin.displayName)+" will be unlocked after "+t._s(t.displayCountDownStr)+" or")]),r("div",{staticClass:"link touch",on:{click:t.onClickPenaltyWithdraw}},[t._v("Withdraw Now ("+t._s(Number(100*t.withdrawFee).toFixed(2)+"%")+" Penalty)")])])]):t._e(),r("div",{staticClass:"info",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"item flex-all"},[r("img",{attrs:{src:n(1473)}}),r("div",{staticClass:"text"},[r("div",{staticClass:"line-a"},[t._v("Last 7 days APR")]),r("div",{staticClass:"line-b"},[t._v(t._s(t.displayApr))])])]),r("div",{staticClass:"item flex-all"},[r("img",{attrs:{src:n(1474)}}),r("div",{staticClass:"text"},[r("div",{staticClass:"line-a"},[t._v("Staked "+t._s(t.stakeCoin.displayName))]),r("div",{staticClass:"line-b"},[t._v(t._s(t.displayUserStakedCoin))])])]),r("div",{staticClass:"item flex-all"},[r("img",{attrs:{src:n(1475)}}),r("div",{staticClass:"text"},[r("div",{staticClass:"line-a"},[t._v(t._s(t.xWooDisplayName)+" Balance")]),r("div",{staticClass:"line-b"},[t._v(t._s(t.displayXCoinBalanceFormat))])])])]),r("div",{staticClass:"tips"},[r("div",{staticClass:"faq"},[r("p",[t._v("Stake "+t._s(t.stakeCoin.displayName)+" to receive "+t._s(t.xWooDisplayName)+" that represents your share of the staking pool. WOOFi's swap fee is used to buy back "+t._s(t.stakeCoin.displayName)+" on a daily basis and distributed to the staking pool. When you unstake, "+t._s(t.xWooDisplayName)+" will be burned to redeem the staked "+t._s(t.stakeCoin.displayName)+" including the rewards after the "),r("span",{staticClass:"touch",on:{click:t.onClickFaq7Days}},[t._v("unstaking period")]),t._v(".")])]),t.isMetamask?r("div",{staticClass:"add flex-align"},[r("div",{staticClass:"item touch flex-align-just-center",on:{click:t.onClickAddxWoo}},[r("span",[t._v("Add "+t._s(t.xWooDisplayName)+" to Wallet")]),r("img",{attrs:{src:n(351)}})])]):t._e()])])]),r("Dialog",{ref:"stakeDialog",attrs:{stakingInputNum:t.stakingInputNum,displayUserReserveAmount:t.displayUserReserveAmount,userReserveAmount:t.userReserveAmount,stakeCoin:t.stakeCoin,displayCountDownStr:t.displayCountDownStr,pricePerFullShare:t.pricePerFullShare,withdrawFee:t.withdrawFee},on:{unstakeApply:t.onUnStakeApply,unstakeAnother:t.onUnStakeApply,penaltyWithdraw:t.onPenaltyWithdraw,withdraw:t.onClickNormalWithdraw}})]],2)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("div",{staticClass:"line-a"},[this._v("Stake WOO to maximize your yields")])])}],!1,null,"332bf604",null).exports},head:{title:"WOOFi Stake | Stake WOO | Earn More Than WOO",meta:[{hid:"description",name:"description",content:"WOO token holders receive xWOO as the LP token in exchange for staking WOO to receive yield from the WOOFi swap fee. While holding the xWOO token, users can auto-compound their yield earned from the fee collected in WOOFi Swap and Earn."}]}}),D=Object(d.a)(x,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content container"},[e("Staking")],1)}),[],!1,null,"3b4eee8b",null);e.default=D.exports},1518:function(t,e,n){"use strict";n.r(e);n(14),n(230),n(29),n(36);var r={name:"CoinIntro",props:{currentCoin:{type:Object,default:function(){}},isLPUI:{type:Boolean,default:!1},isDao:{type:Boolean,default:!1}},computed:{coinDisplayName:function(){return this.currentCoin.displayName},coinName:function(){return this.currentCoin.name||""},isEn:function(){return"en"===this.$i18n.locale},isSpecialLP:function(){var t=this.coinName;return t.includes("btc_usdt_lp")||t.includes("mdx_usdt_lp")||t.includes("mdx_ht_lp")||t.includes("eth_usdt_lp")},isDepLP:function(){return this.coinName.startsWith("dep")},isHBOLP:function(){return this.coinName.includes("hbo")&&this.coinName.includes("_lp")},isLiquidity:function(){return this.currentCoin.isLiquidity}},methods:{getDisplayName:function(){var t=this.currentCoin;return t.isLiquidity?"".concat(t.displayName,"-LP"):t.displayName},onAddLiquidity:function(){this.isDepLP?this.goToDepthFi():this.goToMdex()},goToDepthFi:function(){window.open("https://depth.fi/deposit","_blank")},goToMdex:function(){window.open({}[this.currentCoin.name],"_blank")}}},o=(n(1416),n(4)),l=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"intro"},[n("div",{staticClass:"coin",class:{htLogo:"ht"===t.coinName}},[t.currentCoin.plusLogo?n("img",{attrs:{src:t.currentCoin.plusLogo}}):n("img",{attrs:{src:t.currentCoin.logo}})]),n("div",{staticClass:"coin-name bold"},[t._v(t._s(t.getDisplayName()))]),t.isLPUI||t.isDao?t._e():n("div",{staticClass:"note"},[t._v(t._s(t.$t("detail.AutoCompounding")))]),t.isHBOLP||t.isDepLP||t.isSpecialLP||t.isLiquidity?n("div",{staticClass:"note addLiquidity"},[n("el-button",{on:{click:t.onAddLiquidity}},[t._v(t._s(t.$t("btn.AddLiquidity",{name:t.getDisplayName()})))])],1):t._e()])}),[],!1,null,"f5407836",null).exports,c=(n(19),{name:"CoinInfo",props:{currentCoin:{type:Object,default:function(){}},isLPUI:{type:Boolean,default:!1},isDao:{type:Boolean,default:!1},netAssetValue:{type:[Number,String],default:"--"},output:{type:[Number,String],default:"--"}},computed:{isEn:function(){return"en"===this.$i18n.locale}},methods:{formatMoney:function(t,e){return this.$DI.get("Utils").formatMoney(t,e)},goToFAQ:function(){window.open("https://docs.hecofi.com/faq#wei-shen-me-zai-ji-qiang-chi-cun-ru-1-usdt-de-bu-dao-1fusdt","__blank")}}}),d=(n(1417),Object(o.a)(c,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"total-wrap flex"},[n("div",{staticClass:"line flex-all"},[n("span",{staticClass:"left"},[t._v(t._s(t.$t("detail.AssetPrice")))]),n("span",{staticClass:"right increase-number"},[t._v(" $"+t._s(t.currentCoin.price?t.currentCoin.price.toFixed(4):"--"))])]),n("div",{staticClass:"line flex-all"},[n("span",{staticClass:"left"},[t._v(t._s(t.$t("detail.Farm")))]),n("span",{staticClass:"right flex-align increase-number"},[t._v(t._s(t.currentCoin.farm||"WOO"))])]),n("div",{staticClass:"line flex-all"},[n("span",{staticClass:"left"},[t._v(t._s(t.$t("detail.TotalDeposit")))]),n("span",{staticClass:"right increase-number"},[t._v(" "+t._s(+t.currentCoin.amount>=0?t.formatMoney(t.currentCoin.amount,t.currentCoin.fix):"--"))])])])}),[],!1,null,"39d045dd",null).exports),h={name:"CoinTotal",components:{ScrollNumber:n(177).a},props:{currentCoin:{type:Object,default:function(){}}},computed:{isEn:function(){return"en"===this.$i18n.locale}},methods:{goToFAQ:function(){window.open("https://docs.hecofi.com/faq#ru-he-li-jie-fu-li","__blank")}}},f=(n(1418),Object(o.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"total-wrap"},[r("div",{staticClass:"line flex-all"},[r("span",{staticClass:"left flex-align"},[r("span",[t._v(t._s(t.$t("detail.APY")))]),r("el-tooltip",{staticClass:"tip",class:{"ml-5":t.isEn}},[r("span",{attrs:{slot:"content"},slot:"content"},[t.isEn?r("span",{staticClass:"hover-underline",on:{click:t.goToFAQ}},[t._v("Click for more info >>")]):r("span",{staticClass:"hover-underline",on:{click:t.goToFAQ}},[t._v("如何理解复利 >>")])]),r("img",{attrs:{src:n(82)}})])],1),r("span",{staticClass:"center bold"},[t._v("100%")]),r("span",{staticClass:"right flex-align increase-number"},[r("div",{staticClass:"text"},[t._v(t._s(t.currentCoin.displayName))])])]),r("div",{staticClass:"line flex-all"},[t._m(0),r("span",{staticClass:"center bold"},[t._v("11233.22")]),r("span",{staticClass:"right flex-align increase-number"},[r("div",{staticClass:"text"},[t._v(t._s(t.currentCoin.displayName))])])]),r("div",{staticClass:"line flex-all"},[r("span",{staticClass:"left flex-align"},[r("span",[t._v("Profit")]),r("el-tooltip",{staticClass:"tip",class:{"ml-5":t.isEn}},[r("span",{attrs:{slot:"content"},slot:"content"},[t.isEn?r("span",{staticClass:"hover-underline",on:{click:t.goToFAQ}},[t._v("Click for more info >>")]):r("span",{staticClass:"hover-underline",on:{click:t.goToFAQ}},[t._v("如何理解复利 >>")])]),r("img",{attrs:{src:n(82)}})])],1),r("span",{staticClass:"center bold"},[r("div",{staticClass:"profit-coin"},[t._v("1.213 "+t._s(t.currentCoin.displayName))])]),t._m(1)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"left flex-align"},[e("span",[this._v("Your Deposit")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"right flex-align increase-number"},[e("div",{staticClass:"btn-claim"},[this._v("Claim")])])}],!1,null,"2377c83a",null).exports),m=n(16),v=n.n(m),C={name:"DWAction",components:{InputWithBtn:n(178).a},props:{type:{type:Number,default:0},currentCoin:{type:Object,default:function(){}},isDao:{type:Boolean,default:!1},needsApproval:{type:Boolean,default:!1},userBalance:{type:[Number,String],default:"--"},vaultBalance:{type:[Number,String],default:"--"},yourDeposit:{type:[Number,String],default:"--"},daoWithDrawUntil:{type:Number,default:0}},data:function(){return{depositValue:"",depositMax:!1,depositErrorMsg:"",withdrawValue:"",withdrawMax:!1,withdrawErrorMsg:"",withdrawConfirmVisible:!1}},computed:{isEn:function(){return"en"===this.$i18n.locale},coinName:function(){return this.currentCoin.name},coinDisplayName:function(){return this.currentCoin.displayName},fix:function(){return this.isDao?4:6},withdrawNotice:function(){if(this.daoWithDrawUntil){var t=v()().add(this.daoWithDrawUntil,"second");return this.isEn?"Unlock at ".concat(t.format("YYYY-MM-DD HH:mm")):"".concat(t.format("YYYY年MM月DD日 HH:mm")," 可提")}},canWithDraw:function(){return 0===this.daoWithDrawUntil}},mounted:function(){var t=this;this.$nextTick((function(){t.$DI.get("Vue").$on("deposit-success",(function(){t.depositValue="",t.depositMax=!1,t.depositErrorMsg=""})),t.$DI.get("Vue").$on("withdraw-success",(function(){t.withdrawValue="",t.withdrawMax=!1,t.withdrawErrorMsg="",t.withdrawConfirmVisible=!1}))}))},methods:{onApprove:function(){this.$emit("onApprove")},onDepositMax:function(){this.depositValue=this.userBalance.toFixed(this.fix),this.depositMax=!0,this.depositErrorMsg=""},onDepositChange:function(){this.depositMax=!1},onDepositInputChange:function(t){+t>+this.userBalance.toFixed(this.fix)?this.depositErrorMsg=this.$t("message.InputExceedError"):this.depositErrorMsg=""},onDepositAction:function(){if(this.depositValue&&0!=+this.depositValue){+this.depositValue==+this.userBalance.toFixed(this.fix)&&(this.depositMax=!0);var t={depositValue:this.depositValue,depositMax:this.depositMax};this.$emit("onDepositAction",t)}else this.depositErrorMsg=this.$t("message.InputEmptyError")},onWithdrawMax:function(){this.withdrawValue=this.vaultBalance.toFixed(this.fix),this.withdrawMax=!0,this.withdrawErrorMsg=""},onWithdrawChange:function(){this.withdrawMax=!1},onWithdrawInputChange:function(t){+t>+this.vaultBalance.toFixed(this.fix)?this.withdrawErrorMsg=this.$t("message.InputExceedError"):this.withdrawErrorMsg=""},onWithdrawConfirmAction:function(){"aave"!==this.coinName&&"uni"!==this.coinName&&"hpt_plus"!==this.coinName?this.onWithdrawAction():this.withdrawConfirmVisible=!0},onWithdrawAction:function(){if(this.withdrawValue&&0!=+this.withdrawValue){+this.withdrawValue==+this.vaultBalance.toFixed(this.fix)&&(this.withdrawMax=!0),this.withdrawConfirmVisible=!1;var t={withdrawValue:this.withdrawValue,withdrawMax:this.withdrawMax};this.$emit("onWithdrawAction",t)}else this.withdrawErrorMsg=this.$t("message.InputEmptyError")}}},y=(n(1419),n(1420),{name:"VaultDetailComponent",components:{CoinInfo:d,CoinTotal:f,DWAction:Object(o.a)(C,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"action"},[0===t.type?[r("div",{staticClass:"input-box-line"},[r("InputWithBtn",{staticClass:"input-box",attrs:{coinName:t.currentCoin.displayName,btnText:""+t.$t("btn.Max"),errorMsg:t.depositErrorMsg},on:{click:t.onDepositMax,change:t.onDepositChange,input:t.onDepositInputChange},model:{value:t.depositValue,callback:function(e){t.depositValue=e},expression:"depositValue"}}),r("div",{staticClass:"item flex-align"},[r("span",[t._v(t._s(t.$t("detail.WalletBalance"))+" ")]),r("div",{staticClass:"increase-number"},[t._v(t._s("--"===t.userBalance?"--":Number(t.userBalance).toFixed(t.currentCoin.fix)))])])],1),r("div",{staticClass:"oper-line flex-just deposit"},[t.needsApproval?r("el-button",{staticClass:"btn-box approve",attrs:{type:"primary"},on:{click:t.onApprove}},[r("div",{staticClass:"flex-align-just-center"},[r("img",{staticClass:"icon-approve",attrs:{src:n(458)}}),r("span",[t._v(t._s(t.$t("btn.Approve")))])])]):r("el-button",{staticClass:"btn-box",attrs:{disabled:t.currentCoin.stakeDisabled,type:"primary"},on:{click:t.onDepositAction}},[r("div",{staticClass:"flex-align-just-center"},[t.currentCoin.stakeDisabled?r("img",{staticClass:"gray-img",attrs:{src:n(1479)}}):r("img",{attrs:{src:n(460)}}),t.isDao?r("span",[t._v(t._s(t.$t("btn.LockH")))]):r("span",[t._v(t._s(t.$t("btn.Deposit")))])])])],1)]:[r("div",{staticClass:"input-box-line"},[r("InputWithBtn",{staticClass:"input-box",attrs:{coinName:t.currentCoin.displayName,btnText:""+t.$t("btn.Max"),errorMsg:t.depositErrorMsg},on:{click:t.onDepositMax,change:t.onDepositChange,input:t.onDepositInputChange},model:{value:t.depositValue,callback:function(e){t.depositValue=e},expression:"depositValue"}}),r("div",{staticClass:"item flex-align"},[r("span",[t._v(t._s(t.$t("detail.WalletBalance"))+" ")]),r("div",{staticClass:"increase-number"},[t._v(t._s("--"===t.userBalance?"--":Number(t.userBalance).toFixed(t.currentCoin.fix)))])])],1),r("div",{staticClass:"oper-line flex-just withdraw"},[r("el-button",{staticClass:"btn-box approve",attrs:{type:"primary"},on:{click:t.onApprove}},[r("div",{staticClass:"flex-align-just-center"},[r("img",{staticClass:"icon-approve",attrs:{src:n(459)}}),r("div",[t._v(t._s(t.$t("btn.Withdraw")))])])]),r("el-button",{staticClass:"btn-box",on:{click:t.onDepositAction}},[t._v("Claim & Withdraw")])],1)],r("el-dialog",{attrs:{title:t.$t("btn.Withdraw")+" "+t.coinDisplayName,visible:t.withdrawConfirmVisible,width:t.$isFromMobile?"90%":"500px"},on:{"update:visible":function(e){t.withdrawConfirmVisible=e}}},[r("div",{staticClass:"dialog"},[t.isEn?r("div",[t._v("We will charge a 0.3% withdrawal fee for the high-performant recurring strategy pool.")]):r("div",[t._v("高收益机枪池会收取 0.3% 提币手续费，您确认提币吗？")]),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{on:{click:function(e){t.withdrawConfirmVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onWithdrawAction}},[t._v(t._s(t.$t("btn.Confirm")))])],1)])])],2)}),[],!1,null,"ae487130",null).exports,CoinIntro:l},data:function(){return{vaultTab:0,vaultCoinList:this.$DI.get("Coin").vaultCoinList()}},computed:{currentCoin:function(){var t=this.$route.query.coin;return t?this.vaultCoinList.filter((function(e){return e.name===t}))[0]:{}}},methods:{onHarvest:function(){},onWithdrawAction:function(){},onDepositAction:function(){},onApprove:function(){},clickVaultTab:function(t){this.vaultTab!==t&&(this.vaultTab=t)},goBack:function(){this.$router.push(this.localeRoute({name:"vault"}))}}}),_=(n(1421),{name:"VaultDetailParent",components:{VaultDetail:Object(o.a)(y,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"farm farm-box coin"},[n("div",{staticClass:"header flex"},[n("div",{staticClass:"back bold flex-align",on:{click:t.goBack}},[n("div",{staticClass:"el-icon-back"}),t._v(" "+t._s(t.$t("btn.Back")))])]),n("CoinIntro",{attrs:{currentCoin:t.currentCoin}}),n("CoinInfo",{staticClass:"border",attrs:{currentCoin:t.currentCoin,netAssetValue:1,output:2}}),n("CoinTotal",{staticClass:"border",attrs:{currentCoin:t.currentCoin,earndBalance:1,netAssetValue:1,yourDeposit:1,stakeBalance:1},on:{onHarvest:t.onHarvest}}),n("div",{staticClass:"tab-wrap border"},[n("div",{staticClass:"tab-title flex-just"},[n("div",[n("span",{staticClass:"tab-name",class:{cur:0===t.vaultTab},on:{click:function(e){return t.clickVaultTab(0)}}},[t._v(t._s(t.$t("btn.Deposit")))]),n("span",{staticClass:"tab-name",class:{cur:1===t.vaultTab},on:{click:function(e){return t.clickVaultTab(1)}}},[t._v(t._s(t.$t("btn.Withdraw")))])]),n("div",{staticClass:"info"},[t._v("No withdrawal fee")])]),0===t.vaultTab?n("div",{staticClass:"tab-content"},[n("DWAction",{attrs:{type:0,currentCoin:t.currentCoin,needsApproval:!0,userBalance:1,yourDeposit:1},on:{onApprove:t.onApprove,onDepositAction:t.onDepositAction}})],1):t._e(),1===t.vaultTab?n("div",{staticClass:"tab-content"},[n("DWAction",{attrs:{type:1,currentCoin:t.currentCoin,needsApproval:!0,vaultBalance:1,yourDeposit:2},on:{onApprove:t.onApprove,onWithdrawAction:t.onWithdrawAction}})],1):t._e()])],1)}),[],!1,null,"48e4db46",null).exports}}),w=Object(o.a)(_,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content container"},[e("VaultDetail")],1)}),[],!1,null,"b8562796",null);e.default=w.exports},1519:function(t,e,n){"use strict";n.r(e);n(17);var r=n(2),o=(n(29),n(36),n(46),n(14),n(19),n(16)),l=n.n(o),c=n(1408),d=n.n(c),h={props:{item:{type:Object,default:function(){}},config:{type:Object,default:function(){}}},methods:{clickCard:function(t){t.stake_pending||this.$isFromMobile&&this.config.goToDetail(t)}}},f=(n(1409),n(4)),m=Object(f.a)(h,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"coin",on:{click:function(e){return t.clickCard(t.item)}}},[t.item.stake_pending&&t.$isFromMobile?n("div",{staticClass:"badge gray bold"},[t._v(t._s(t.$t("index.Upcoming")))]):t.item.speed?n("div",{staticClass:"badge bold"},[t._v(t._s(t.item.speed))]):t._e(),n("div",{staticClass:"item flex-all"},[n("div",{staticClass:"name bold"},[t.item.isLiquidity?n("div",{staticClass:"two-line"},[n("div",[t._v(t._s(t.item.displayName))]),n("div",[t._v("Pancake LP")])]):t.item.isDao?n("div",{staticClass:"two-line"},[n("div",[t._v(t._s(t.config.getDisplayName(t.item)))]),n("div",[t._v(t._s(t.$t("staking.Farm")))])]):[t._v(t._s(t.config.getDisplayName(t.item))+" "+t._s(t.$t("staking.Farm")))]],2),n("div",{staticClass:"logo"},[n("img",{attrs:{src:t.item.logo}})])]),n("div",{staticClass:"detail"},[n("div",{staticClass:"line flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.$t("staking.Output")))]),n("div",{staticClass:"right"},[t._v(t._s(t.config.getOutput(t.item))+" HYFI")])]),n("div",{staticClass:"line flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.$t("staking.APY")))]),n("div",{staticClass:"right"},[n("span",[t._v(t._s(t.item.hyfiAPY||"--%"))])])]),n("div",{staticClass:"line flex-all"},[n("div",{staticClass:"left"},[t._v(t._s(t.$t("staking.YourStaked")))]),n("div",{staticClass:"right"},[n("span",[t._v(t._s(t.config.getUserStaked(t.item)))])])])]),t.$isFromMobile?t._e():n("div",{staticClass:"operation"},[t.item.stake_pending?n("el-button",{attrs:{disabled:""}},[t._v(t._s(t.$t("index.Upcoming")))]):n("el-button",{on:{click:function(e){return t.config.goToDetail(t.item)}}},[t._v("GO")])],1)])}),[],!1,null,"62115119",null).exports,v=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"icon"},[e("img",{attrs:{src:n(219)}})])}],C={computed:{isEn:function(){return"en"===this.$i18n.locale}},methods:{goToContract:function(){var t=this.isEn?"https://endocs.hyfi.pro/tutorial/token-contract-address":"https://cndocs.hyfi.pro/tutorial/bsc-dai-bi-he-yue-di-zhi";window.open(t,"__blank")}}},y=(n(1410),Object(f.a)(C,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"address flex-align",on:{click:this.goToContract}},[this._m(0),e("div",{staticClass:"text"},[this.isEn?[this._v("HYFI Contract Address")]:[this._v("HYFI 合约地址")]],2)])}),v,!1,null,null,null).exports),_={data:function(){return{isSortExpand:!1,currentSortKey:"hot"}},computed:{currentSortName:function(){var t=this;return this.sortItems.filter((function(e){return e.value===t.currentSortKey}))[0].name},sortItems:function(){return[{value:"hot",name:this.$t("index.SortHot")},{value:"apy",name:this.$t("index.SortAPY")},{value:"liquidity",name:this.$t("index.SortLiquidity")},{value:"single",name:this.$t("index.SortSingle")}]}},mounted:function(){var t=this;this.onEmitChange(),this.$nextTick((function(){document.addEventListener("click",t.handleBodyClick)}))},beforeDestroy:function(){document.removeEventListener("click",this.handleBodyClick)},methods:{handleBodyClick:function(t){var e=document.getElementById("sortBySwitch");e&&!e.contains(t.target)&&(this.isSortExpand=!1)},onClickSort:function(){this.isSortExpand=!this.isSortExpand},onEmitChange:function(){this.$emit("change",this.currentSortKey)},onClickSortItem:function(t){this.currentSortKey.value!==t.value&&(this.currentSortKey=t.value,this.onEmitChange()),this.isSortExpand=!1}}},w=(n(1411),Object(f.a)(_,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"switch",class:{"flex-align":!t.$isFromMobile}},[n("span",{staticClass:"txt bold"},[t._v(t._s(t.$t("index.SortBy")))]),n("div",{staticClass:"sort-switch",attrs:{id:"sortBySwitch"}},[n("el-button",{staticClass:"current",on:{click:t.onClickSort}},[n("span",[t._v(t._s(t.currentSortName))]),n("div",{staticClass:"arrow"},[t._v(t._s(t.isSortExpand?"▲":"▼"))])]),t.isSortExpand?n("div",{staticClass:"list"},t._l(t.sortItems,(function(e){return n("div",{key:e.value,staticClass:"item bold",on:{click:function(n){return t.onClickSortItem(e)}}},[t._v(t._s(e.name))])})),0):t._e()],1)])}),[],!1,null,null,null).exports);l.a.extend(d.a);var k={name:"Staking",components:{CoinCard:m,TokenContractAddress:y,SortBy:w},data:function(){return{countDownText:"",userStaked:{},normalCoinVisible:!0,lpCoinVisible:!0,coinStaked:!1,sortBy:"hot"}},computed:{coins:function(){return this.$store.state.coin.coins},stakeOnlyCoins:function(){return this.$store.state.coin.stakeOnlyCoins},daoCoins:function(){return this.$store.state.coin.daoCoins},liquidityCoins:function(){return this.$store.state.coin.liquidityCoins},displayCoinWithOrder:function(){var t=this,e=this.liquidityCoins.concat(this.daoCoins).concat(this.stakeOnlyCoins).concat(this.coins).filter((function(e){return!t.coinStaked||Number(t.userStaked[e.name])>0})).sort((function(a,b){return a.order-b.order}));switch(this.sortBy){case"apy":return e.sort((function(a,b){return+b.hyfiAPY.replace("%","")-+a.hyfiAPY.replace("%","")}));case"liquidity":return e.sort((function(a,b){return a.name.includes("_lp")&&!b.name.includes("_lp")?-1:!a.name.includes("_lp")&&b.name.includes("_lp")?1:void 0}));case"single":return e.sort((function(a,b){return a.name.includes("_lp")&&!b.name.includes("_lp")?1:!a.name.includes("_lp")&&b.name.includes("_lp")?-1:void 0}));default:return e}},displayCoins:function(){return this.liquidityCoins.concat(this.daoCoins).concat(this.coins).concat(this.stakeOnlyCoins)},cardConfig:function(){return{getDisplayName:this.getDisplayName,getTokenName:this.getTokenName,getUserStaked:this.getUserStaked,getOutput:this.getOutput,goToDetail:this.goToDetail}},isEn:function(){return"en"===this.$i18n.locale},isInit:function(){return this.$store.state.auth.init}},watch:{isInit:{immediate:!0,handler:function(t){!0===t?this.initPage():this.resetPage()}}},mounted:function(){this.isInit&&this.initPage()},methods:{onSortByChange:function(t){this.sortBy=t},initPage:function(){this.getAllUserStaked(),this.coinStaked="true"===localStorage.getItem("STAKING_COIN_STAKED")},resetPage:function(){this.countDownText="",this.userStaked={},this.coinStaked=!1},onSwitchChange:function(t){localStorage.setItem("STAKING_COIN_STAKED",t)},getOutput:function(t){var output=this.$DI.get("Web3").getOutputByCoinName(t.name);return Number(output).toFixed(0)},onClickCategory:function(t){this[t]=!this[t]},calCountDown:function(){this.displayCountDown(),setInterval(this.displayCountDown,1e3)},displayCountDown:function(){var t=l()("2021-04-26T10:00:00.000Z").diff(l()());this.countDownText=t>0?l.a.duration(t).format("HH:mm:ss"):""},getUserStaked:function(t){var e=this.userStaked[t.name];if(!e)return 0;var n=t.fix;return this.$DI.get("Utils").cutNumber(e,n)},getAllUserStaked:function(){var t=this;this.displayCoins.filter((function(t){return!t.stake_pending})).forEach(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").makeComptroller(n.name);case 2:return e.next=4,t.$DI.get("Web3").getStakeBalance(n.name);case 4:r=e.sent,t.$set(t.userStaked,n.name,r);case 6:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},getTokenName:function(t){return t.isLiquidity?"HYFI-".concat(t.displayName," LP"):t.isDao?t.displayName:"f".concat(t.displayName)},getDisplayName:function(t){if(t.isLiquidity)return"HYFI-".concat(t.displayName," LP");if(t.isDao){var e=t.lockPeriod;return this.isEn?"HYFI ".concat(e," Days"):"HYFI ".concat(e,"日锁仓")}return t.isStakeOnly?t.displayName:"f".concat(t.displayName)},goToDetail:function(t){t.stake_pending||(t.isDao?this.$router.push(this.localePath({name:"dao-detail",query:{token:t.name}})):this.$router.push(this.localePath({name:"staking-detail",query:{token:t.name}})))}}},x=(n(1412),Object(f.a)(k,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"content container"},["en"===t.$i18n.locale?n("div",{staticClass:"top"},[t._m(0)]):n("div",{staticClass:"top"},[t._m(1)]),n("div",{staticClass:"filter-line flex-all"},[t.$isFromMobile?n("div",{staticClass:"flex-align"},[n("div",{staticClass:"stakeonly-box"},[n("span",{staticClass:"txt bold"},[t._v(t._s(t.$t("index.StakedOnly")))]),n("el-switch",{staticClass:"el-switch-medium",attrs:{width:56},on:{change:t.onSwitchChange},model:{value:t.coinStaked,callback:function(e){t.coinStaked=e},expression:"coinStaked"}})],1)]):n("div",{staticClass:"flex-align"},[n("div",{staticClass:"flex-align"},[n("el-switch",{staticClass:"el-switch-medium",attrs:{width:56},on:{change:t.onSwitchChange},model:{value:t.coinStaked,callback:function(e){t.coinStaked=e},expression:"coinStaked"}}),n("span",{staticClass:"txt bold"},[t._v(t._s(t.$t("index.StakedOnly")))])],1)]),n("div",{staticClass:"right flex-align"},[n("SortBy",{staticClass:"sort-by",on:{change:t.onSortByChange}}),t.$isFromMobile?t._e():n("TokenContractAddress")],1)]),n("div",{staticClass:"coin-list"},t._l(t.displayCoinWithOrder,(function(e){return n("div",{key:e.name+e.APY+e.hyfiAPY,staticClass:"coin-box"},[n("CoinCard",{attrs:{config:t.cardConfig,item:e}})],1)})),0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title bold"},[e("div",{staticClass:"div"},[this._v("Stake pools for"),e("span",[this._v(" HYFI rewards")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"title bold"},[e("div",{staticClass:"div"},[this._v("质押代币赚取"),e("span",[this._v(" HYFI 奖励")])])])}],!1,null,"6bd3f3b3",null));e.default=x.exports},1520:function(t,e,n){"use strict";n.r(e);n(14);var r={data:function(){return{coinStaked:!1,vaultCoinList:this.$DI.get("Coin").vaultCoinList()}},methods:{onSwitchChange:function(){},onClickCoinItem:function(t){this.$router.push(this.localePath({name:"vault-detail",query:{coin:t.name}}))}}},o=(n(1413),n(4)),l={name:"Vault",components:{VaultIndex:Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"vault"},[t._m(0),n("div",{staticClass:"main"},[n("div",{staticClass:"filter flex-all"},[n("div",{staticClass:"left flex-align"},[n("div",{staticClass:"stake flex-all"},[n("el-switch",{staticClass:"el-switch-medium",attrs:{width:56},on:{change:t.onSwitchChange},model:{value:t.coinStaked,callback:function(e){t.coinStaked=e},expression:"coinStaked"}}),n("span",{staticClass:"bold"},[t._v("Staked Only")])],1),n("div",{staticClass:"buy touch bold"},[t._v("Buy WOO")])])]),n("div",{staticClass:"coin-list"},t._l(t.vaultCoinList,(function(e){return n("div",{key:e.name,staticClass:"item flex-all",on:{click:function(n){return t.onClickCoinItem(e)}}},[n("div",{staticClass:"left flex-align"},[n("div",{staticClass:"logo"},[n("img",{attrs:{src:e.logo}})]),n("div",{staticClass:"name bold"},[t._v(t._s(e.displayName))])]),t._m(1,!0),n("div",{staticClass:"right"},[n("div",{staticClass:"line flex-all"},[n("div",{staticClass:"title"},[t._v("Earn")]),n("div",{staticClass:"content"},[t._v(t._s(e.displayName))])]),t._m(2,!0),t._m(3,!0)])])})),0)])])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top"},[e("div",{staticClass:"title"},[e("span",{staticClass:"highlight"},[this._v("High-Perf ")]),e("span",[this._v("yield optimizer on BSC")])]),e("div",{staticClass:"board"},[e("div",{staticClass:"line flex-all"},[e("div",{staticClass:"left"},[this._v("Total Deposit")]),e("div",{staticClass:"right"},[this._v("1,232,323,333.11 USDT")])]),e("div",{staticClass:"line flex-all"},[e("div",{staticClass:"left"},[this._v("Daily Profits")]),e("div",{staticClass:"right"},[this._v("11,223,222 USDT")])])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"center"},[e("div",{staticClass:"interest bold"},[this._v("88.8%")]),e("div",{staticClass:"sub"},[this._v("Auto-Compounding")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line flex-all"},[e("div",{staticClass:"title"},[this._v("Total Deposit")]),e("div",{staticClass:"content"},[this._v("1,234")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"line flex-all"},[e("div",{staticClass:"title"},[this._v("Your Deposit")]),e("div",{staticClass:"content"},[this._v("1,234,2345")])])}],!1,null,"4647fe4c",null).exports}},c=Object(o.a)(l,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"content container"},[e("VaultIndex")],1)}),[],!1,null,"a758961e",null);e.default=c.exports},1521:function(t,e,n){"use strict";n.r(e);n(17);var r=n(2),o=(n(19),n(14),n(16)),l=n.n(o),c=n(178),d=n(177),h={name:"Farm",components:{InputWithBtn:c.a,ScrollNumber:d.a},data:function(){return{init:!1,harvestVisible:!1,withdrawConfirmVisible:!1,unstakeBalance:"--",stakeBalance:"--",earndBalance:"--",netAssetValue:"--",totalStakedBalance:"--",needsApproval:!0,lockDuration:0,stakeValue:"",unStakeValue:"",stakeVisible:!1,unStakeVisible:!1,stakeMax:!1,unstakeMax:!1,stakeOverflowError:!1,unStakeOverflowError:!1}},computed:{isInit:function(){return this.$store.state.auth.init},userBalance:function(){return"--"===this.stakeBalance?"--":"usdx_belt_lp"===this.currentCoin.name?Number(this.stakeBalance).toFixed(0):Number(this.stakeBalance).toFixed(this.currentCoin.fix)},userOriginalBalance:function(){return"--"===this.stakeBalance||"--"===this.netAssetValue?"--":Number(this.stakeBalance*this.netAssetValue).toFixed(this.currentCoin.fix)},coin:function(){return this.$route.query.token},currentCoin:function(){var t=this;return this.stakeOnlyCoins.concat(this.coins).concat(this.liquidityCoins).filter((function(e){return e.name===t.coin}))[0]},coinName:function(){return this.currentCoin.displayName},coinClassName:function(){return this.currentCoin.cardClass},isStakePending:function(){return this.currentCoin.stake_pending},isStakeOnly:function(){return this.currentCoin.isStakeOnly},isLPUI:function(){return this.currentCoin.isLiquidity||this.isStakeOnly},isEn:function(){return"en"===this.$i18n.locale},estimatedUnLockTime:function(){return l()().add(this.lockDuration,"second").format("YYYY-MM-DD HH:mm:ss")},totalStaking:function(){var t=this.currentCoin;return"--"!==this.totalStakedBalance&&void 0!==this.totalStakedBalance?this.$DI.get("Utils").formatMoney(this.totalStakedBalance,t.fix):"--"}},watch:{isInit:{immediate:!0,handler:function(t){!0===t?(this.initVault(),this.selfFetchTotalStakedBalanceByCoin()):this.resetPage()}}},beforeRouteLeave:function(a,b,t){this.intervalId&&clearInterval(this.intervalId),t()},mounted:function(){this.isInit&&(this.initVault(),this.selfFetchTotalStakedBalanceByCoin())},methods:{resetPage:function(){this.init=!1,this.harvestVisible=!1,this.withdrawConfirmVisible=!1,this.unstakeBalance="--",this.stakeBalance="--",this.earndBalance="--",this.netAssetValue="--",this.totalStakedBalance="--",this.needsApproval=!0,this.lockDuration=0,this.stakeValue="",this.unStakeValue="",this.stakeVisible=!1,this.unStakeVisible=!1,this.stakeMax=!1,this.unstakeMax=!1,this.stakeOverflowError=!1,this.unStakeOverflowError=!1},selfFetchTotalStakedBalanceByCoin:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.fetchTotalStakedBalanceByCoin(t.currentCoin);case 2:t.totalStakedBalance=e.sent;case 3:case"end":return e.stop()}}),e)})))()},onHarvestClick:function(){this.harvestVisible=!0},getDisplayName:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0],e=this.currentCoin;return e.isLiquidity?t&&"hyfi_bnb_lp"===e.name?"HYFI-BNB-LP-V1":"".concat(e.displayName,"-LP"):this.isStakeOnly?e.displayName:"f".concat(e.displayName)},initVault:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.web3=t.$DI.get("Web3"),e.next=3,t.web3.makeComptroller(t.coin);case 3:t.fetchStakeBalance(),t.fetchEarnedBalance(),t.fetchNeedsApproval(),t.isLPUI||t.getNetAssetValue(),t.fetchLockDuration(),t.startIncreaseEarnedBalance(),t.init=!0;case 10:case"end":return e.stop()}}),e)})))()},startIncreaseEarnedBalance:function(){this.intervalId=setInterval(this.fetchEarnedBalance,3e3)},fetchLockDuration:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getHarvestLockDuration(t.coin);case 2:t.lockDuration=e.sent;case 3:case"end":return e.stop()}}),e)})))()},onStakeMax:function(){this.stakeValue=Number(this.unstakeBalance).toFixed(6),this.stakeMax=!0},onUnStakeCheck:function(){this.withdrawConfirmVisible=!0},onUnStakeMax:function(){this.unStakeValue=Number(this.stakeBalance).toFixed(6),this.unstakeMax=!0},onStakeChange:function(){this.stakeMax=!1},onUnStakeChange:function(){this.stakeMax=!1},onStakeInputChange:function(t){t-Number(this.unstakeBalance).toFixed(6)>0?this.stakeOverflowError=!0:this.stakeOverflowError=!1},onUnStakeInputChange:function(t){t-Number(this.stakeBalance).toFixed(6)>0?this.unStakeOverflowError=!0:this.unStakeOverflowError=!1},onApprove:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$DI.get("Web3"),console.log(t.coin,"not approved!"),r=t.$DI.get("Notification").pending(),e.prev=3,e.next=6,n.approveStake(t.coin);case 6:t.fetchNeedsApproval(),t.onActionSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(3),console.log(e.t0);case 13:r.close();case 14:case"end":return e.stop()}}),e,null,[[3,10]])})))()},goToVault:function(){this.$router.push(this.localePath({name:"vault-farm",query:{coin:this.coin}}))},onClickEarningFaq:function(){window.open(this.isEn?"https://endocs.hyfi.pro/bfi-tokennomics/bfi-tokennomics":"https://cndocs.hyfi.pro/bfi-tokennomics/untitled","_blank")},onAddLiquidity:function(){window.open({hyfi_bnb_lp:"https://v1exchange.pancakeswap.finance/#/add/BNB/0x9a319b959e33369C5eaA494a770117eE3e585318",v2_hyfi_bnb_lp:"https://exchange.pancakeswap.finance/#/add/BNB/0x9a319b959e33369C5eaA494a770117eE3e585318",usdx_belt_lp:"https://beta.belt.fi/"}[this.currentCoin.name],"_blank")},fetchStakeBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getStakeBalance(t.coin);case 2:return t.stakeBalance=e.sent,e.next=5,t.$DI.get("Web3").getUnstakeBalance(t.coin);case 5:t.unstakeBalance=e.sent;case 6:case"end":return e.stop()}}),e)})))()},fetchEarnedBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getEarnedBalance(t.coin);case 2:t.earndBalance=e.sent;case 3:case"end":return e.stop()}}),e)})))()},fetchNeedsApproval:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").needsStackApproval(t.coin);case 2:t.needsApproval=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getNetAssetValue:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,t.web3.getSharePrice();case 3:e.t1=e.sent,t.netAssetValue=(0,e.t0)(e.t1).toFixed(4);case 5:case"end":return e.stop()}}),e)})))()},onStake:function(){this.stakeMax=!1,this.stakeVisible=!0},onUnStake:function(){var t=this;this.unstakeMax=!1,this.withdrawConfirmVisible?(this.withdrawConfirmVisible=!1,this.$nextTick((function(){t.unStakeVisible=!0}))):this.unStakeVisible=!0},goToFAQ:function(){this.isEn?window.open("https://endocs.hyfi.pro/tutorial/faq","__blank"):window.open("https://cndocs.hyfi.pro/tutorial/faq-chang-jian-wen-ti","__blank")},onHarvest:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.harvestVisible=!1,n=t.$DI.get("Notification").pending(),e.prev=2,e.next=5,t.$DI.get("Web3").harvest(t.coin);case 5:return e.next=7,t.fetchEarnedBalance();case 7:t.onActionSuccess(),e.next=13;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0);case 13:n.close();case 14:case"end":return e.stop()}}),e,null,[[2,10]])})))()},onStakeAction:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$DI.get("Web3"),t.stakeVisible=!1,r=t.$DI.get("Notification").pending(),e.prev=3,e.next=6,n.stake(t.stakeValue,t.coin,t.stakeMax);case 6:t.fetchStakeBalance(),t.fetchEarnedBalance(),t.onActionSuccess(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:r.close();case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()},onUnStakeAction:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$DI.get("Web3"),t.unStakeVisible=!1,r=t.$DI.get("Notification").pending(),e.prev=3,e.next=6,n.unStake(t.unStakeValue,t.coin,t.unstakeMax);case 6:t.fetchStakeBalance(),t.fetchEarnedBalance(),t.onActionSuccess(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(3),console.log(e.t0);case 14:r.close();case 15:case"end":return e.stop()}}),e,null,[[3,11]])})))()},onActionSuccess:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$DI.get("Notification").succeed(),e.next=3,t.$store.dispatch("auth/SYNC_AUTH");case 3:return e.next=5,t.fetchLockDuration();case 5:case"end":return e.stop()}}),e)})))()}}},f=(n(1415),n(4)),component=Object(f.a)(h,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"farm container"},[r("div",{staticClass:"intro"},["en"===t.$i18n.locale?[r("div",{staticClass:"title bold"},[r("div",{staticClass:"div"},[t._v("Earn"),r("span",[t._v(" HYFI")]),t._v(" by Staking"),r("span",[t._v(" "+t._s(t.getDisplayName()))])])]),t.isStakeOnly?t._e():[t.currentCoin.isLiquidity?r("div",{staticClass:"sub"},[r("el-button",{on:{click:t.onAddLiquidity}},[t._v(t._s(t.$t("btn.AddLiquidity",{name:t.getDisplayName(!0)})))])],1):r("div",{staticClass:"sub"},[t._v("To stake "+t._s(t.getDisplayName())+" tokens, deposit "+t._s(t.coinName)+" on the"),r("span",{on:{click:t.goToVault}},[t._v("Vault")]),t._v("page")])]]:[r("div",{staticClass:"title bold"},[r("div",{staticClass:"div"},[t._v("存 "),r("span",[t._v(t._s(t.getDisplayName()))]),t._v(" 赚"),r("span",[t._v(" HYFI")])])]),t.isStakeOnly?t._e():[t.currentCoin.isLiquidity?r("div",{staticClass:"sub"},[r("el-button",{on:{click:t.onAddLiquidity}},[t._v(t._s(t.$t("btn.AddLiquidity",{name:t.getDisplayName()})))])],1):r("div",{staticClass:"sub"},[t._v("在"),r("span",{on:{click:t.goToVault}},[t._v("机枪池")]),t._v("存入"+t._s(t.coinName)+"，即可获得"+t._s(t.getDisplayName()))])]],t.currentCoin.isLiquidity?t._e():r("div",{staticClass:"total flex-all"},[r("div",{staticClass:"text"},[r("p",{staticClass:"clear"},[r("span",{staticClass:"left"},[t._v(t._s(t.$t("stakingDetail.TotalStaking")))]),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.totalStaking))])]),r("p",{staticClass:"clear"},[r("span",{staticClass:"left"},[t._v(t._s(t.$t("farm.HYFIRewards")))]),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.currentCoin.hyfiAPY||"--%"))])])])])],2),t.init?r("div",{staticClass:"cards",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"card fhi"},[t._m(0),r("div",{staticClass:"middle"},[r("div",{staticClass:"line title flex-align"},[r("span",[t._v("HYFI "+t._s(t.$t("stakingDetail.Earning")))]),r("el-tooltip",{attrs:{placement:"right"}},[r("span",{staticClass:"tip tip-with-underline",attrs:{slot:"content"},on:{click:t.onClickEarningFaq},slot:"content"},[t.isEn?[t._v("HYFI Detail >>")]:[t._v("HYFI 代币说明 >>")]],2),r("i",{staticClass:"el-icon-question"})])],1),r("div",{staticClass:"line num-line flex-align with-scroll-number"},[r("img",{attrs:{src:n(219)}}),r("div",{staticClass:"num bold"},["--"===t.earndBalance?[t._v("--")]:r("ScrollNumber",{attrs:{number:Number(t.earndBalance).toFixed(4),height:t.$isFromMobile?28:48,width:t.$isFromMobile?16:28}})],2)])]),r("div",{staticClass:"bottom harvest"},[r("el-button",{staticClass:"bold",attrs:{disabled:"--"===t.earndBalance||!t.earndBalance},on:{click:t.onHarvestClick}},[t._v(t._s(t.$t("stakingDetail.Harvest")))])],1),r("div",{staticClass:"bottom-tip hide"},[r("p",[t._v(t._s(t.$t("stakingDetail.tip")))])])]),r("div",{staticClass:"card coin",class:t.coinClassName},[r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v(t._s(t.$t("stakingDetail.Avaliable"))+":")]),r("el-tooltip",{attrs:{placement:"bottom-end"}},[r("div",{staticClass:"tip-with-arrow",attrs:{slot:"content"},on:{click:t.goToFAQ},slot:"content"},[t._v(t._s(t.$t("stakingDetail.tip2")))]),r("i",{staticClass:"el-icon-question"})])],1),r("div",{staticClass:"right"},[t._v(t._s("--"===t.unstakeBalance?"--":Number(t.unstakeBalance).toFixed(t.currentCoin.fix)))])]),r("div",{staticClass:"middle"},[r("div",{staticClass:"line title"},[t._v(t._s(t.getDisplayName())+" "+t._s(t.$t("stakingDetail.Staked")))]),r("div",{staticClass:"line num-line",class:{bottomGap:!t.isLPUI}},[r("div",{staticClass:"num bold"},[t._v(t._s(t.userBalance))]),t.isLPUI?t._e():r("div",{staticClass:"approx"},[t._v("≈"+t._s(t.userOriginalBalance)+" "+t._s(t.coinName))])])]),t.isStakePending?r("div",{staticClass:"bottom approve"},[r("el-button",{attrs:{disabled:t.isStakePending}},[r("div",{staticClass:"text"},[t._v(t._s(t.$t("index.Upcoming")))])])],1):r("div",[t.needsApproval?r("div",{staticClass:"bottom approve"},[r("el-button",{attrs:{disabled:t.isStakePending},on:{click:t.onApprove}},[r("div",{staticClass:"text flex-all"},[r("img",{staticClass:"icon-approve",attrs:{src:n(458)}}),t._v(t._s(t.$t("btn.Approve"))+" "+t._s(t.getDisplayName()))])])],1):t._e(),t.needsApproval?t._e():r("div",{staticClass:"bottom operation flex-all"},[r("el-button",{attrs:{disabled:t.isStakePending},on:{click:t.onUnStakeCheck}},[r("div",{staticClass:"flex-align-just-center"},[r("img",{attrs:{src:n(459)}}),r("span",[t._v(t._s(t.$t("btn.Unstake")))])])]),r("el-button",{attrs:{disabled:t.isStakePending},on:{click:t.onStake}},[r("div",{staticClass:"flex-align-just-center"},[r("img",{attrs:{src:n(460)}}),r("span",[t._v(t._s(t.$t("btn.Stake")))])])])],1)]),t.isLPUI?t._e():r("div",{staticClass:"bottom-link"},[r("div",{staticClass:"right-btn flex-align",on:{click:t.goToVault}},[r("span",{staticClass:"bold"},[t._v(t._s(t.$t("btn.GoVault")))]),t._m(1)])])])]):t._e(),t.isEn?r("div",{staticClass:"notice"},[r("div",{staticClass:"title"},[t._v("Notice:")]),r("p",[t._v("1. All HYFI produced will be automatically locked for 14 days. Each time HYFI is harvested, the lock-up period will be reset.")]),r("p",[t._v("2. Alternatively, users can harvest HYFI early before the lock-up ends, but with a 50% Early Exit Penalty.")]),t._m(3),r("p",[t._v("4. During the lock-up period,the stake operation will not affect the harvest and lock-up period.")]),r("p",[t._v("5. After the lock-up period, the unstaking/staking operation will automatically harvest HYFI, and the lock-up period will be reset.")])]):r("div",{staticClass:"notice"},[r("div",{staticClass:"title"},[t._v("注意：")]),r("p",[t._v("1. 所有产出的 HYFI 将锁定 14 天，每次收获 HYFI，会重置锁仓时间；")]),r("p",[t._v("2. 在锁仓期内提前收获 HYFI，将会有 50% HYFI 收益作为“短期资本税”被直接销毁。相当于给予长期持币者的通缩奖励；")]),t._m(2),r("p",[t._v("4. 锁仓期内可继续质押本金，操作不影响 HYFI 的收获和解锁时间；")]),r("p",[t._v("5. 锁仓期结束后，赎回/质押操作均会自动收获 100% HYFI，并重置锁仓时间；")])]),r("el-dialog",{attrs:{title:t.$t("btn.Notice"),visible:t.harvestVisible,width:t.$isFromMobile?"90%":"500px","custom-class":"dialog-no-header"},on:{"update:visible":function(e){t.harvestVisible=e}}},[r("div",{staticClass:"dialog"},[t.lockDuration?r("div",{staticClass:"notice-text"},[t.isEn?[t._v("Your HYFI will be unlocked at"),r("span",[t._v(" "+t._s(t.estimatedUnLockTime)+".")]),t._v(" You can claim your HYFI before the end of lock-up but with a 50% Early Exit Penalty. Are you sure harvest now?")]:[t._v("您的 HYFI 将在"),r("span",[t._v(" "+t._s(t.estimatedUnLockTime))]),t._v(" 解锁。提前收获将导致 50% 代币被销毁，您确定提前收获吗？")]],2):r("div",{staticClass:"notice-text"},[t.isEn?[t._v("Congratulations! Your HYFI has passed the lock-up period, and now you can get a 100% reward.")]:[t._v("恭喜您！您的 HYFI 已过锁仓期，现在收获可获得 100% 奖励。")]],2),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){t.harvestVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onHarvest}},[t._v(t._s(t.$t("btn.Confirm")))])],1)])]),r("el-dialog",{attrs:{title:t.$t("btn.Notice"),visible:t.withdrawConfirmVisible,width:t.$isFromMobile?"90%":"500px","custom-class":"dialog-no-header"},on:{"update:visible":function(e){t.withdrawConfirmVisible=e}}},[r("div",{staticClass:"dialog"},[t.lockDuration?r("div",{staticClass:"notice-text"},[t.isEn?[t._v("You can unstake all your "+t._s(t.getDisplayName())+"。\n"),r("br"),r("br"),t._v("Redemption of fToken during the lock-up period will automatically harvest HYFI in advance with a 50% Early Exit Penalty. Are you sure unstake now?\n"),r("br"),r("br"),t._v("Your HYFI will be unlock at"),r("span",[t._v(" "+t._s(t.estimatedUnLockTime))])]:[t._v("您现在可以赎回所有 "+t._s(t.getDisplayName())+"。\n"),r("br"),r("br"),t._v("锁仓期内赎回本金，会自动提前收获 HYFI，导致 50% HYFI 收益被销毁。您确定赎回吗？\n"),r("br"),r("br"),t._v("HYFI 解锁时间："),r("span",[t._v(" "+t._s(t.estimatedUnLockTime))])]],2):r("div",{staticClass:"notice-text"},[t.isEn?[t._v("Your HYFI has passed the lock-up period. Unstaking fToken will automatically harvest 100% HYFI rewards. After that, the lock-up period will be reset. Are you sure to unstake now?")]:[t._v("赎回会帮您自动收获当前全部 HYFI 奖励，锁仓时间将被重置，您确定赎回吗？")]],2),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){t.withdrawConfirmVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onUnStake}},[t._v(t._s(t.$t("btn.Confirm")))])],1)])]),r("el-dialog",{attrs:{title:t.$t("btn.Stake")+" "+t.getDisplayName(),visible:t.stakeVisible,width:t.$isFromMobile?"90%":"500px"},on:{"update:visible":function(e){t.stakeVisible=e}}},[r("div",{staticClass:"dialog"},[r("InputWithBtn",{attrs:{btnText:""+t.$t("btn.Max"),type:"number",errorMsg:t.stakeOverflowError?t.$t("farm.InputErrorMsg"):""},on:{click:t.onStakeMax,change:t.onStakeChange,input:t.onStakeInputChange},model:{value:t.stakeValue,callback:function(e){t.stakeValue=e},expression:"stakeValue"}}),r("div",{staticClass:"title-right"},[t._v(t._s(""+Number(t.unstakeBalance).toFixed(4)))]),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){t.stakeVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onStakeAction}},[t._v(t._s(t.$t("btn.Confirm")))])],1)],1)]),r("el-dialog",{attrs:{title:t.$t("btn.Unstake")+" "+t.getDisplayName(),visible:t.unStakeVisible,width:t.$isFromMobile?"90%":"500px"},on:{"update:visible":function(e){t.unStakeVisible=e}}},[r("div",{staticClass:"dialog"},[r("InputWithBtn",{attrs:{btnText:""+t.$t("btn.Max"),type:"number",errorMsg:t.unStakeOverflowError?t.$t("farm.InputErrorMsg"):""},on:{click:t.onUnStakeMax,change:t.onUnStakeChange,input:t.onUnStakeInputChange},model:{value:t.unStakeValue,callback:function(e){t.unStakeValue=e},expression:"unStakeValue"}}),r("div",{staticClass:"title-right"},[t._v(t._s(""+Number(t.stakeBalance).toFixed(4)))]),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{attrs:{type:"info"},on:{click:function(e){t.unStakeVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onUnStakeAction}},[t._v(t._s(t.$t("btn.Confirm")))])],1)],1)])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"top disappear"},[e("div",{staticClass:"left"},[this._v("-")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"flex-align-just-center arrow"},[e("i",{staticClass:"el-icon-arrow-right"}),e("i",{staticClass:"el-icon-arrow-right"})])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("3. 锁仓期内提前赎回本金会自动收获 HYFI 并承担罚金。"),e("b",[this._v("用户本金不受影响。")])])},function(){var t=this.$createElement,e=this._self._c||t;return e("p",[this._v("3. During the lock-up period, the unstaking operation will make HYFI harvest and with a 50% Early Exit Penalty. "),e("b",[this._v("Your principal token will not be affected.")])])}],!1,null,"01fa76d4",null);e.default=component.exports},1522:function(t,e,n){"use strict";n.r(e);n(17);var r=n(2),o=(n(19),n(46),n(230),n(14),n(29),n(36),{name:"Farm",components:{InputWithBtn:n(178).a},data:function(){return{init:!1,vaultBalance:"--",vaultStakeBalance:0,yourDeposit:"--",userBalance:"--",needsApproval:!1,totalLocked:0,netAssetValue:"--",unlockedDaoBalance:0,daoAlertVisible:!1,output:"",stakeValue:"",unStakeValue:"",stakeVisible:!1,unStakeVisible:!1,stakeMax:!1,unStakeMax:!1,stakeOverflowError:!1,unStakeOverflowError:!1}},computed:{coinComptrollerAddress:function(){return this.$DI.get("Constant").coinComptrollerAddress()[this.coin]},isInit:function(){return this.$store.state.auth.init},coin:function(){return this.$route.query.coin},coinName:function(){return this.currentCoin.displayName},coinNameInTable:function(){return this.currentCoin.displayName.includes("-LP")&&this.$isFromMobile?this.isEn?"LP Token":"LP 代币":this.currentCoin.displayName},coins:function(){return this.$store.state.coin.coins},currentCoin:function(){var t=this;return this.coins.filter((function(e){return e.name===t.coin}))[0]},isEn:function(){return"en"===this.$i18n.locale},isDepLP:function(){return this.currentCoin.name.startsWith("dep")},isDaoExclusive:function(){var t=this.currentCoin.name;return t.includes("hbo")||t.startsWith("dep")},isBNBLP:function(){return this.currentCoin.name.includes("_lp")},coinClassName:function(){return this.currentCoin.cardClass},displayTotalLocked:function(){return"--"!==this.totalLocked?this.formatMoney(this.totalLocked,4):this.totalLocked},dailyCoinProfit:function(){var t=this.currentCoin;return t.daily>=0&&"--"!==this.yourDeposit?+(this.yourDeposit*t.daily/100).toFixed(t.fix+2):"--"},dailyHyfiProfit:function(){return"--"!==this.yourDeposit&&"--"!==this.totalLocked&&this.output?this.yourDeposit/this.totalLocked*this.output:"--"},weekCoinProfit:function(){var t=this.currentCoin;if(!(t.daily>=0)||"--"===this.yourDeposit)return"--";var e=Math.pow(1+ +t.daily/100,7)-1;return+(this.yourDeposit*e).toFixed(t.fix+2)},weekHyfiProfit:function(){return"--"===this.dailyHyfiProfit?"--":(7*this.dailyHyfiProfit).toFixed(2)},annualCoinProfit:function(){var t=this.currentCoin.APY.replace("%",""),e=this.currentCoin.fix+2;return"--"===t||"--"===this.yourDeposit?"--":+(this.yourDeposit*t/100).toFixed(e)},annualHyfiProfit:function(){return"--"},isShowVenusTip:function(){return["usdt","usdc","busd","dai","btc","eth"].includes(this.currentCoin.name)}},watch:{isInit:{immediate:!0,handler:function(t){!0===t?(this.initVault(),this.getOutput()):this.resetPage()}}},mounted:function(){this.isInit&&(this.initVault(),this.getOutput())},methods:{resetPage:function(){this.init=!1,this.vaultBalance="--",this.vaultStakeBalance=0,this.yourDeposit="--",this.userBalance="--",this.needsApproval=!1,this.totalLocked="--",this.netAssetValue="--",this.unlockedDaoBalance=0,this.daoAlertVisible=!1,this.output="",this.stakeValue="",this.unStakeValue="",this.stakeVisible=!1,this.unStakeVisible=!1,this.stakeMax=!1,this.unStakeMax=!1,this.stakeOverflowError=!1,this.unStakeOverflowError=!1},formatMoney:function(t,e){return this.$DI.get("Utils").formatMoney(t,e)},getOutput:function(){var output=this.$DI.get("Web3").getOutputByCoinName(this.currentCoin.name);this.output=Number(output).toFixed(0)},goToDepthFi:function(){window.open("https://depth.fi/deposit","_blank")},goToFAQ:function(){this.isEn?window.open("https://endocs.hyfi.pro/tutorial/faq","__blank"):window.open("https://cndocs.hyfi.pro/tutorial/faq-chang-jian-wen-ti","__blank")},gotoMdexSwap:function(){window.open("https://ht.mdex.com/#/swap","_blank")},onAddLiquidity:function(){window.open({wbnb_busd_lp:"https://v1exchange.pancakeswap.finance/#/add/BNB/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",wbnb_btcb_lp:"https://v1exchange.pancakeswap.finance/#/add/BNB/0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c",wbnb_cake_lp:"https://v1exchange.pancakeswap.finance/#/add/BNB/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",usdx_belt_lp:"https://beta.belt.fi/",belt_new4:"https://beta.belt.fi/",usdx_eps_lp:"https://ellipsis.finance/3pool/deposit",tpt_busd_lp:"https://v1exchange.pancakeswap.finance/#/add/0xe9e7cea3dedca5984780bafc599bd69add087d56/0xeca41281c24451168a37211f0bc2b8645af45092",new_cake_bnb_lp:"https://exchange.pancakeswap.finance/#/add/BNB/0x0E09FaBB73Bd3Ade0a17ECC321fD13a19e81cE82",new_busd_bnb_lp:"https://exchange.pancakeswap.finance/#/add/BNB/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56",new_btc_bnb_lp:"https://exchange.pancakeswap.finance/#/add/BNB/0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c",new_tpt_busd_lp:"https://exchange.pancakeswap.finance/#/add/0xe9e7cea3dedca5984780bafc599bd69add087d56/0xeca41281c24451168a37211f0bc2b8645af45092",bnb_usdt_lp:"https://bsc.mdex.com/#/add/BNB/0x55d398326f99059fF775485246999027B3197955",btc_usdt_lp:"https://bsc.mdex.com/#/add/0x7130d2A12B9BCbFAe4f2634d864A1Ee1Ce3Ead9c/0x55d398326f99059fF775485246999027B3197955",eth_usdt_lp:"https://bsc.mdex.com/#/add/0x2170Ed0880ac9A755fd29B2688956BD959F933F8/0x55d398326f99059fF775485246999027B3197955",busd_usdt_lp:"https://bsc.mdex.com/#/add/0xe9e7CEA3DedcA5984780Bafc599bD69ADd087D56/0x55d398326f99059fF775485246999027B3197955"}[this.currentCoin.name],"_blank")},goToMdex:function(){window.open({hbo_usdt_lp:"https://ht.mdex.com/#/add/0x8764Bd4fcc027faF72bA83c0b2028a3BAE0D2D57/0xa71EdC38d189767582C38A3145b5873052c3e47a",hbo_btc_lp:"https://ht.mdex.com/#/add/0x66a79D23E58475D2738179Ca52cd0b41d73f0BEa/0x8764Bd4fcc027faF72bA83c0b2028a3BAE0D2D57",hbo_ht_lp:"https://ht.mdex.com/#/add/HT/0x8764Bd4fcc027faF72bA83c0b2028a3BAE0D2D57",hbo_husd_lp:"https://ht.mdex.com/#/add/0x8764Bd4fcc027faF72bA83c0b2028a3BAE0D2D57/0x0298c2b32eaE4da002a15f36fdf7615BEa3DA047"}[this.currentCoin.name],"_blank")},onClickContract:function(){window.open("https://scan.hecochain.com/address/".concat(this.coinComptrollerAddress,"#contracts"),"_blank")},goToDao:function(){this.$router.push(this.localeRoute({name:"dao"}))},goToStaking:function(){this.$router.push(this.localePath({name:"staking-detail",query:{token:this.coin}}))},initVault:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.web3=t.$DI.get("Web3"),e.next=3,t.web3.makeComptroller(t.coin);case 3:t.getVaultBalance(),t.initNeedsApproval(),t.getUserBalance(),t.getVaultLockedBalance(),t.getNetAssetValue(),t.init=!0;case 9:case"end":return e.stop()}}),e)})))()},getUnlockedDaoBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.web3.unlockedDaoBalance();case 2:t.unlockedDaoBalance=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getNetAssetValue:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.t0=Number,e.next=3,t.web3.getSharePrice();case 3:e.t1=e.sent,t.netAssetValue=(0,e.t0)(e.t1).toFixed(6);case 5:case"end":return e.stop()}}),e)})))()},onStakeMax:function(){this.stakeValue=this.userBalance.toFixed(6),this.stakeMax=!0},onUnStakeMax:function(){this.unStakeValue=this.vaultBalance.toFixed(6),this.unStakeMax=!0},onStakeChange:function(){this.stakeMax=!1},onUnStakeChange:function(){this.unStakeMax=!1},onStakeInputChange:function(t){t-this.userBalance.toFixed(6)>0?this.stakeOverflowError=!0:this.stakeOverflowError=!1},onUnStakeInputChange:function(t){t-this.vaultBalance.toFixed(6)>0?this.unStakeOverflowError=!0:this.unStakeOverflowError=!1},getVaultBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.web3.getVaultBalance(t.coin);case 2:n=e.sent,t.vaultBalance=n[0],t.vaultStakeBalance=n[1],t.yourDeposit=n[0]+n[1];case 6:case"end":return e.stop()}}),e)})))()},getVaultLockedBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.web3.getVaultLockedBalance();case 2:t.totalLocked=e.sent;case 3:case"end":return e.stop()}}),e)})))()},getUserBalance:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("bnb"!==t.coin){e.next=6;break}return e.next=3,t.$store.dispatch("auth/SYNC_AUTH");case 3:t.userBalance=t.$store.state.auth.balance,e.next=9;break;case 6:return e.next=8,t.web3.getUserBalance();case 8:t.userBalance=e.sent;case 9:case"end":return e.stop()}}),e)})))()},initNeedsApproval:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if("bnb"!==t.coin){e.next=4;break}t.needsApproval=!1,e.next=7;break;case 4:return e.next=6,t.web3.needsApproval(t.coin);case 6:t.needsApproval=e.sent;case 7:case"end":return e.stop()}}),e)})))()},onStake:function(){this.isDaoExclusive&&this.unlockedDaoBalance<5e3?this.daoAlertVisible=!0:(this.stakeVisible=!0,this.stakeMax=!1)},onUnStake:function(){this.unStakeVisible=!0,this.unStakeMax=!1},onApprove:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=t.$DI.get("Notification").pending(),e.prev=1,e.next=4,t.web3.approve(t.coin);case 4:return t.needsApproval=!1,e.next=7,t.getUserBalance();case 7:e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),console.log(e.t0);case 12:n.close();case 13:case"end":return e.stop()}}),e,null,[[1,9]])})))()},onStakeAction:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n,r;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.stakeVisible=!1,n=t.$DI.get("Notification").pending(),e.prev=2,r=Number(t.stakeValue),.005,"bnb"===t.coin&&r>.005&&(r-=.005),e.next=8,t.web3.deposit(r.toFixed(8),t.coin,t.stakeMax);case 8:t.onActionSuccess(),e.next=14;break;case 11:e.prev=11,e.t0=e.catch(2),console.log(e.t0);case 14:n.close();case 15:case"end":return e.stop()}}),e,null,[[2,11]])})))()},onUnStakeAction:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.unStakeVisible=!1,n=t.$DI.get("Notification").pending(),e.prev=2,e.next=5,t.web3.withdraw(t.unStakeValue,t.unStakeMax);case 5:t.onActionSuccess(),e.next=11;break;case 8:e.prev=8,e.t0=e.catch(2),console.log(e.t0);case 11:n.close();case 12:case"end":return e.stop()}}),e,null,[[2,8]])})))()},onActionSuccess:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.$DI.get("Notification").succeed(),e.next=3,t.$store.dispatch("auth/SYNC_AUTH");case 3:t.getVaultBalance(),t.getUserBalance();case 5:case"end":return e.stop()}}),e)})))()}}}),l=(n(1422),n(1423),n(4)),component=Object(l.a)(o,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"farm container"},[r("div",{staticClass:"intro"},[t.currentCoin.plusLogo?["en"===t.$i18n.locale?r("div",{staticClass:"note"},[t._v("Hyper Plus Multiple Rewards")]):r("div",{staticClass:"note"},[t._v("Hyper Plus 多倍收益")])]:t.isBNBLP?[r("div",{staticClass:"note addLiquidity"},[r("el-button",{on:{click:t.onAddLiquidity}},[t._v(t._s(t.$t("btn.AddLiquidity",{name:t.currentCoin.displayName})))])],1)]:["en"===t.$i18n.locale?r("div",{staticClass:"note"},[t._v("Auto-Compounding, Earn more "+t._s(t.coinName))]):r("div",{staticClass:"note"},[t._v("自动复投，赚取更多 "+t._s(t.coinName))]),t.isDepLP?[t.isEn?r("div",{staticClass:"sub"},[t._v("For "+t._s(t.coinName)+", you can get it from"),r("span",{on:{click:t.goToDepthFi}},[t._v("Depth.fi")])]):r("div",{staticClass:"sub"},[t._v(t._s(t.coinName)+" 请在"),r("span",{on:{click:t.goToDepthFi}},[t._v("Depth.fi")]),t._v("上进行兑换")])]:t._e()],r("div",{staticClass:"total-wrap"},[r("div",{staticClass:"total coin",class:t.coinClassName},[r("div",{staticClass:"line flex-all",class:{"flex-column":t.$isFromMobile}},[r("div",{staticClass:"data flex-all"},[r("span",{staticClass:"left"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.TotalLocked")))])]),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.displayTotalLocked))])]),r("div",{staticClass:"data flex-all"},[r("span",{staticClass:"left flex-align"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.NetAssetValue")))]),r("el-tooltip",{staticClass:"tip"},[r("span",{attrs:{slot:"content"},slot:"content"},[t._v("1 f"+t._s(t.coinName)+" = "+t._s(t.netAssetValue)+" "+t._s(t.coinName))]),r("i",{staticClass:"el-icon-question"})])],1),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.netAssetValue))])])]),r("div",{staticClass:"line flex-all",class:{"flex-column":t.$isFromMobile}},[r("div",{staticClass:"data flex-all"},[r("span",{staticClass:"left flex-align"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.FarmAnnual")))]),r("el-tooltip",{staticClass:"tip"},[r("span",{attrs:{slot:"content"},slot:"content"},[t.isEn?[t._v("This is farming APY. The capital gain will be reinvested automatically.")]:[t._v("此为 "+t._s(t.coinName)+" 本币收益率，已存入的 "+t._s(t.coinName)+" 数额会自动增长，收入自动复投 "),r("span",{staticClass:"link-underline",on:{click:t.goToFAQ}},[t._v("复利计算方法")])]],2),r("i",{staticClass:"el-icon-question"})])],1),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.currentCoin.APY))])]),r("div",{staticClass:"data flex-all"},[r("span",{staticClass:"left"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.FarmDaily")))])]),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.currentCoin.daily>=0?t.currentCoin.daily.toFixed(4)+"%":"--%"))])])]),r("div",{staticClass:"line flex-all",class:{"flex-column":t.$isFromMobile}},[r("div",{staticClass:"data flex-all"},[r("span",{staticClass:"left flex-align"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.HYFIAnnual")))]),r("el-tooltip",{staticClass:"tip"},[r("span",{attrs:{slot:"content"},slot:"content"},[t.isEn?[t._v("This is HYFI reward for staking. After depositing "+t._s(t.coinName)+" into the vault, you will receive f"+t._s(t.coinName)+" that can be staked on "),r("span",{staticClass:"link-underline",on:{click:t.goToStaking}},[t._v("Staking Pool")]),t._v(" for HYFI reward.")]:[t._v("此为抵押挖矿 HYFI 的代币收益。"+t._s(t.coinName)+" 在存入机枪池后，可以得到存款凭证 f"+t._s(t.coinName)+"，用 f"+t._s(t.coinName)+" 前往 "),r("span",{staticClass:"link-underline",on:{click:t.goToStaking}},[t._v("质押池")]),t._v(" 进行抵押，可额外获得 HYFI 代币。")]],2),r("i",{staticClass:"el-icon-question"})])],1),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.currentCoin.hyfiAPY||"--%"))])]),r("div",{staticClass:"data flex-all"},[r("span",{staticClass:"left"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.HYFIDaily")))])]),r("span",{staticClass:"right increase-number"},[t._v(" "+t._s(t.currentCoin.hyfiDaily>=0?t.currentCoin.hyfiDaily.toFixed(4)+"%":"--%"))])])]),r("div",{staticClass:"line last flex-column"},[r("div",{staticClass:"flex-all"},[r("span",{staticClass:"left"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.DailyProfit")))])]),r("span",{staticClass:"right increase-number flex-align"},[t._v(t._s(t.dailyCoinProfit)),r("img",{staticClass:"coin-logo",attrs:{src:t.currentCoin.logo}}),r("span",{staticClass:"add"},[t._v("+")]),t._v(t._s("--"===t.dailyHyfiProfit?"--":t.dailyHyfiProfit.toFixed(2))),r("img",{staticClass:"coin-logo",attrs:{src:n(219)}})])]),r("div",{staticClass:"flex-all"},[r("span",{staticClass:"left"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.WeekProfit")))])]),r("span",{staticClass:"right increase-number flex-align"},[t._v(t._s(t.weekCoinProfit)),r("img",{staticClass:"coin-logo",attrs:{src:t.currentCoin.logo}}),r("span",{staticClass:"add"},[t._v("+")]),t._v(t._s(t.weekHyfiProfit)),r("img",{staticClass:"coin-logo",attrs:{src:n(219)}})])]),r("div",{staticClass:"flex-all"},[r("span",{staticClass:"left"},[r("div",{staticClass:"label"},[t._v(t._s(t.$t("farm.AnnualProfit")))])]),r("span",{staticClass:"right increase-number flex-align"},[t._v(t._s(t.annualCoinProfit)),r("img",{staticClass:"coin-logo",attrs:{src:t.currentCoin.logo}}),r("span",{staticClass:"add"},[t._v("+")]),t._v(t._s(t.annualHyfiProfit)),r("img",{staticClass:"coin-logo",attrs:{src:n(219)}})])])])])])],2),t.init?r("div",{staticClass:"cards flex-all"},[r("div",{staticClass:"card coin"},[r("div",{staticClass:"first"}),r("div",{staticClass:"top flex-all"},[r("div",{staticClass:"left"},[t._v(t._s(t.$t("farm.inWallet",{coin:t.coinName})))]),r("div",{staticClass:"right"},[t._v(t._s(""+Number(t.userBalance).toFixed(t.currentCoin.fix)))])]),r("div",{staticClass:"middle"},[r("div",{staticClass:"line flex-all"},[r("div",{staticClass:"left bold"},[t._v(t._s(t.$t("farm.YourBalance")))]),r("div",{staticClass:"right flex-align"},[r("img",{attrs:{src:t.currentCoin.logo}}),r("div",{staticClass:"num bold"},[t._v(t._s(""+("--"===t.yourDeposit?"--":Number(t.yourDeposit).toFixed(t.currentCoin.fix))))])])]),r("div",{staticClass:"line available flex-all"},[r("div",{staticClass:"left flex-align"},[r("span",[t._v(t._s(t.$t("farm.WithdrawAvailable")))]),r("el-tooltip",{attrs:{placement:"bottom-end"}},[r("div",{staticClass:"tip-with-arrow",attrs:{slot:"content"},on:{click:t.goToStaking},slot:"content"},[t._v(t._s(t.$t("farm.tip")))]),r("i",{staticClass:"el-icon-question"})])],1),r("div",{staticClass:"right flex-align"},[t._v(t._s(""+("--"===t.vaultBalance?"--":Number(t.vaultBalance).toFixed(t.currentCoin.fix))))])])]),r("div",{staticClass:"flex-all"},[t.needsApproval?r("div",{staticClass:"bottom approve"},[r("el-button",{on:{click:t.onApprove}},[r("div",{staticClass:"text flex-all"},[r("img",{staticClass:"icon-approve",attrs:{src:n(458)}}),t._v(t._s(t.$t("btn.Approve"))+" "+t._s(t.coinName))])])],1):t._e(),t.needsApproval?t._e():r("div",{staticClass:"bottom operation flex-all"},[r("el-button",{on:{click:t.onUnStake}},[r("div",{staticClass:"flex-align-just-center"},[r("img",{attrs:{src:n(459)}}),r("span",[t._v(t._s(t.$t("btn.Withdraw")))])])]),r("el-button",{on:{click:t.onStake}},[r("div",{staticClass:"flex-align-just-center"},[r("img",{attrs:{src:n(460)}}),r("span",[t._v(t._s(t.$t("btn.Deposit")))])])])],1),t.currentCoin.stake_pending?t._e():r("div",{staticClass:"bottom-link"},[r("div",{staticClass:"right-btn flex-align",on:{click:t.goToStaking}},[r("span",{staticClass:"bold"},[t._v(t._s(t.$t("btn.GoStake")))]),t._m(0)])])])])]):t._e(),r("div",{staticClass:"bottom-tip"},[t.isDaoExclusive?r("div",{staticClass:"plus-note flex-all"},[t.isEn?r("div",{staticClass:"note-list"},[r("p",[t._v("Notice:")]),r("p",{staticClass:"orange"},[t._v("1. This is an exclusive benefit for DAO users, and 5000 dao2HYFI is needed.")]),r("p",{staticClass:"orange"},[t._v("2. HYFI can be bought on "),r("span",{staticClass:"link",on:{click:t.gotoMdexSwap}},[t._v("mdex.com")]),t._v(", and can be locked up on Hyper DAO page.")]),r("p",[t._v("2. HBO profits are automatically reinvested, and the total is updated every five minutes. "),r("span",{staticClass:"link",on:{click:t.goToFAQ}},[t._v("click for more info")])]),r("p",[t._v("3. After deposit, you will earn more HYFI on "),r("span",{staticClass:"link",on:{click:t.goToStaking}},[t._v("Staking")]),t._v(" pool.")])]):r("div",{staticClass:"note-list"},[r("p",[t._v("注意：")]),r("p",{staticClass:"orange"},[t._v("1. 此池为锁仓用户专属福利，锁仓 5000 HYFI 即可参与；")]),r("p",{staticClass:"orange"},[t._v("2. HYFI 可在 "),r("span",{staticClass:"link",on:{click:t.gotoMdexSwap}},[t._v("mdex.com")]),t._v(" 上购买，然后在 Hyper 的 DAO 页面进行锁仓。")]),r("p",[t._v("3. HBO 利润自动复投，总数每五分钟更新一次；"),r("span",{staticClass:"link",on:{click:t.goToFAQ}},[t._v(" 如何正确理解年化复利")])]),r("p",[t._v("4. 存入后可在 "),r("span",{staticClass:"link",on:{click:t.goToStaking}},[t._v("抵押池")]),t._v(" 里额外赚取HYFI。")])])]):t._e()]),r("div",{staticClass:"bottom-tip"},[r("div",{staticClass:"plus-note flex-all"},["en"===t.$i18n.locale?r("div",{staticClass:"note-list"},[r("p",[t._v("Vault Description:")]),r("p",[t._v("1. Deposit & Withdraw Fee: 0.00%")]),r("p",[t._v("2. After the deposit, you will receive f"+t._s(t.coinName)+" that can be staked to "),r("span",{staticClass:"link",on:{click:t.goToStaking}},[t._v("mining HYFI.")])])]):r("div",{staticClass:"note-list"},[r("p",[t._v("机枪池说明：")]),r("p",[t._v("1. 充提币手续费：0.00%")]),r("p",[t._v("2. 存入成功后，可得到 f"+t._s(t.coinName)+" 在 "),r("span",{staticClass:"link",on:{click:t.goToStaking}},[t._v("质押池")]),t._v(" 赚取额外的 HYFI 奖励；")])])])]),r("el-dialog",{attrs:{title:t.$t("btn.Deposit")+" "+t.coinName,visible:t.stakeVisible,width:t.$isFromMobile?"90%":"500px"},on:{"update:visible":function(e){t.stakeVisible=e}}},[r("div",{staticClass:"dialog"},[r("InputWithBtn",{attrs:{btnText:""+t.$t("btn.Max"),type:"number",errorMsg:t.stakeOverflowError?t.$t("farm.InputErrorMsg"):""},on:{click:t.onStakeMax,change:t.onStakeChange,input:t.onStakeInputChange},model:{value:t.stakeValue,callback:function(e){t.stakeValue=e},expression:"stakeValue"}}),r("div",{staticClass:"title-right"},[t._v(t._s("--"===t.userBalance?"--":""+Number(t.userBalance).toFixed(6)))]),r("div",{staticClass:"dialog-footer",attrs:{slot:"footer"},slot:"footer"},[r("div",{staticClass:"flex"},[r("el-button",{staticClass:"cancel",on:{click:function(e){t.stakeVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onStakeAction}},[t._v(t._s(t.$t("btn.Confirm")))])],1),r("div",{staticClass:"note"},[t._v(t._s(t.$t("farm.tip3")))])])],1)]),r("el-dialog",{attrs:{title:t.$t("btn.Withdraw")+" "+t.coinName,visible:t.unStakeVisible,width:t.$isFromMobile?"90%":"500px"},on:{"update:visible":function(e){t.unStakeVisible=e}}},[r("div",{staticClass:"dialog"},[r("InputWithBtn",{attrs:{btnText:""+t.$t("btn.Max"),type:"number",errorMsg:t.unStakeOverflowError?t.$t("farm.InputErrorMsg"):""},on:{click:t.onUnStakeMax,change:t.onUnStakeChange,input:t.onUnStakeInputChange},model:{value:t.unStakeValue,callback:function(e){t.unStakeValue=e},expression:"unStakeValue"}}),r("div",{staticClass:"title-right"},[t._v(t._s("--"===t.vaultBalance?"--":""+Number(t.vaultBalance).toFixed(6)))]),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"cancel",on:{click:function(e){t.unStakeVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.onUnStakeAction}},[t._v(t._s(t.$t("btn.Confirm")))])],1)],1)]),r("el-dialog",{attrs:{title:t.isEn?"Notice":"注意",visible:t.daoAlertVisible,width:t.$isFromMobile?"90%":"500px"},on:{"update:visible":function(e){t.daoAlertVisible=e}}},[r("div",{staticClass:"dialog"},[t.isEn?r("div",[t._v("This pool is exclusive for DAO user. You need at least 5000 dao2HYFI"),r("span",{staticStyle:{color:"#FF8340"}},[t._v(" ( locked but not staking).")]),t._v(" Your balance: "+t._s(Number(t.unlockedDaoBalance).toFixed(0))+". Insufficent amount may cause your deposit fail.")]):r("div",[t._v("此为锁仓用户专属福利，需 5000 "),r("span",{staticStyle:{color:"#FF8340"}},[t._v("已锁仓但未质押的 ")]),t._v("dao2HYFI 。当前您的 dao 持仓："+t._s(Number(t.unlockedDaoBalance).toFixed(0))+"。数量不足会导致存入合约失败。")]),r("div",{staticClass:"dialog-footer flex",attrs:{slot:"footer"},slot:"footer"},[r("el-button",{staticClass:"cancel",on:{click:function(e){t.daoAlertVisible=!1}}},[t._v(t._s(t.$t("btn.Cancel")))]),r("el-button",{staticClass:"green",on:{click:t.goToDao}},[t._v(t._s(t.isEn?"Go Dao":"去锁仓 HYFI"))])],1)])])],1)}),[function(){var t=this.$createElement,e=this._self._c||t;return e("span",{staticClass:"flex-align-just-center arrow"},[e("i",{staticClass:"el-icon-arrow-right"}),e("i",{staticClass:"el-icon-arrow-right"})])}],!1,null,"b63284d4",null);e.default=component.exports},1523:function(t,e,n){"use strict";n.r(e);n(46),n(19),n(14),n(17);var r=n(2),o={data:function(){return{stackBalance:{},stackTVL:{}}},computed:{coins:function(){return this.$store.state.coin.coins},stakeOnlyCoins:function(){return this.$store.state.coin.stakeOnlyCoins},daoCoins:function(){return this.$store.state.coin.daoCoins},liquidityCoins:function(){return this.$store.state.coin.liquidityCoins}},methods:{fetchAllStakeBalances:function(){var t=this;this.coins.concat(this.stakeOnlyCoins).filter((function(t){return!t.pending})).forEach(function(){var e=Object(r.a)(regeneratorRuntime.mark((function e(n){var r,o,l;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=t.$DI.get("Web3"),e.next=3,t.fetchTotalStakedBalanceByCoin(n);case 3:if(o=e.sent,t.$set(t.stackBalance,n.name,o),!n.isLp){e.next=12;break}return e.next=8,r.lpTVL(n);case 8:l=e.sent,t.$set(t.stackTVL,n.name,l),e.next=13;break;case 12:t.$set(t.stackTVL,n.name,o*n.price);case 13:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}())},fetchTotalStakedBalanceByCoin:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.next=2,e.$DI.get("Web3").getTotalStakedBalanceByCoin(t);case 2:return n.abrupt("return",n.sent);case 3:case"end":return n.stop()}}),n)})))()},getDailyProfitNum:function(){var t=this;return this.coins.filter((function(t){return!t.pending})).reduce((function(pre,e){return pre+2*t.stackTVL[e.name]*(e.APY?Number(e.APY.replace("%","").replace("+",""))/100:1)/365}),0)}}},l=n(4),component=Object(l.a)(o,void 0,void 0,!1,null,null,null);e.default=component.exports},177:function(t,e,n){"use strict";n(19);var r=n(702),o={props:{number:{type:[Number,String],default:""},useDin:{type:Boolean,default:!0},height:{type:Number,default:14},width:{type:Number,default:8}},data:function(){return{text:"",instance:null}},watch:{number:{immediate:!1,handler:function(){this.updateNumber()}}},mounted:function(){this.updateNumber()},methods:{updateNumber:function(){var t,e=this.number;t=e,isNaN(parseFloat(t))||!isFinite(t)?this.text=e:(this.text="",this.instance?this.instance.update(e,this.$refs.scroll):this.instance=new r.a({el:this.$refs.scroll,num:e,width:this.width,height:this.height,useDin:this.useDin}))}}},l=(n(1399),n(4)),component=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("span",{ref:"scroll",staticClass:"scroll-number",class:{num:this.useDin}},[this.text?[this._v(this._s(this.text))]:this._e()],2)}),[],!1,null,null,null);e.a=component.exports},178:function(t,e,n){"use strict";var r={props:{value:{type:String,default:""},coinName:{type:String,default:""},btnText:{type:String,default:""},type:{type:String,default:"text"},errorMsg:{type:String,default:""}},methods:{onChange:function(t){this.$emit("change",t)},onBtnClick:function(t){this.$emit("click",t)},onInputChange:function(t){this.$emit("input",t)}}},o=(n(1414),n(4)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[n("div",{staticClass:"input-with-btn"},[n("el-input",{class:t.errorMsg?"error":"",attrs:{value:t.value,type:t.type},on:{input:t.onInputChange,change:t.onChange}}),n("div",{staticClass:"append flex-align"},[n("div",{staticClass:"coin-name bold"},[t._v(t._s(t.coinName))]),n("div",{directives:[{name:"show",rawName:"v-show",value:t.btnText,expression:"btnText"}],staticClass:"action"},[n("el-button",{attrs:{type:"primary"},on:{click:t.onBtnClick}},[t._v(t._s(t.btnText))])],1)])],1),n("div",{staticClass:"error-txt"},[t._v(t._s(t.errorMsg))])])}),[],!1,null,null,null);e.a=component.exports},263:function(t,e,n){},264:function(t,e,n){},265:function(t,e,n){},266:function(t,e,n){},267:function(t,e,n){},268:function(t,e,n){},269:function(t,e,n){},270:function(t,e,n){},271:function(t,e,n){},272:function(t,e,n){},273:function(t,e,n){},274:function(t,e,n){},275:function(t,e,n){},276:function(t,e,n){},277:function(t,e,n){},278:function(t,e,n){},279:function(t,e,n){},280:function(t,e,n){},281:function(t,e,n){},282:function(t,e,n){},283:function(t,e,n){},284:function(t,e,n){},285:function(t,e,n){},286:function(t,e,n){},287:function(t,e,n){},288:function(t,e,n){},289:function(t,e,n){},290:function(t,e,n){},291:function(t,e,n){},292:function(t,e,n){},293:function(t,e,n){},294:function(t,e,n){},295:function(t,e,n){},296:function(t,e,n){},297:function(t,e,n){},298:function(t,e,n){},299:function(t,e,n){},300:function(t,e,n){},301:function(t,e,n){},302:function(t,e,n){},303:function(t,e,n){},304:function(t,e,n){},305:function(t,e,n){},306:function(t,e,n){},307:function(t,e,n){},308:function(t,e,n){},309:function(t,e,n){},310:function(t,e,n){},311:function(t,e,n){},312:function(t,e,n){},313:function(t,e,n){},314:function(t,e,n){},315:function(t,e,n){},316:function(t,e,n){},317:function(t,e,n){},318:function(t,e,n){},319:function(t,e,n){},320:function(t,e,n){},321:function(t,e,n){},322:function(t,e,n){},323:function(t,e,n){},324:function(t,e,n){},325:function(t,e,n){},326:function(t,e,n){},327:function(t,e,n){},328:function(t,e,n){},329:function(t,e,n){},330:function(t,e,n){},331:function(t,e,n){},332:function(t,e,n){},333:function(t,e,n){},334:function(t,e,n){},335:function(t,e,n){},336:function(t,e,n){},337:function(t,e,n){},338:function(t,e,n){},339:function(t,e,n){},340:function(t,e,n){},341:function(t,e,n){},342:function(t,e,n){},343:function(t,e,n){},344:function(t,e,n){},347:function(t,e,n){"use strict";n(19);var r="http://www.w3.org/2000/svg",o={props:{width:{type:Number,default:90},height:{type:Number,default:30},chartData:{type:Array,default:function(){return[]}},dailyPriceChange:{type:Number,default:0},gradientColorSet:{type:Array,default:function(){return["FF654C","FFFFFF"]}},lineColor:{type:Array,default:function(){return["FF654C","FFFFFF"]}},isCache:{type:Boolean,default:function(){return!1}}},data:function(){return{svg:null,lineargradientPrefix:"line-up-fill-color-item"}},computed:{color:function(){return this.dailyPriceChange<0?this.lineColor[0]:this.lineColor[1]},isResize:function(){return this.$store.state.isResize}},watch:{chartData:function(t){this.updateChart(t)},isResize:function(t){var e=this;t&&this.$nextTick((function(){e.$refs.chart.querySelector("svg").style.width=e.width;var t=e.$refs.chart.getBoundingClientRect().left;e.chartPaddingLeft=t,e.updateChart(e.chartData)}))}},mounted:function(){var t=this;this.calSize(),setTimeout((function(){t.calSize()}),100),this.initSvg()},methods:{calSize:function(){var t=this.$refs.chart.getBoundingClientRect().left;this.chartPaddingLeft=t,this.linChartHeight=this.height},onTouchmove:function(t){this.onMove(t.targetTouches[0].pageX)},onMousemove:function(t){this.onMove(t.clientX)},onMove:function(t){if(!this.loading){var e=this.chartData.length;if(e){var n=t-this.chartPaddingLeft;n<0&&(n=0),n>this.width&&(n=this.width);var r=n/this.width,o=Math.round(r*(e-1)),l=o*(this.width/(e-1));l>=this.width-1&&(l=this.width-1);var c=this.chartData[o],d=o?this.chartData[o-1]:0;this.$emit("hover",{index:o,value:c,delta:d>0?(c-d)/d:0}),this.$refs.chart.querySelector("#indicator-line").setAttribute("x",l),this.$refs.chart.querySelector("#circle-point").setAttribute("cx",l),this.$refs.chart.querySelector("#circle-point").setAttribute("cy",this.findY(this.$refs.chart.querySelector("#line-path"),l)),this.$refs.chart.querySelector("#circle-point").setAttribute("fill","#".concat(this.color))}}},onMouseleave:function(){var t=this;this.$emit("hover",null),this.$nextTick((function(){t.$refs.chart.querySelector("#indicator-line").setAttribute("x",-1),t.$refs.chart.querySelector("#circle-point").setAttribute("cx",-10)}))},findY:function(path,t){var e=path.getTotalLength(),n=0,r=e,o=(n+r)/2;for(t=Math.max(t,path.getPointAtLength(0).x),t=Math.min(t,path.getPointAtLength(e).x);o>=n&&o<=e;){var l=path.getPointAtLength(o);if(Math.abs(l.x-t)<.001)return l.y;l.x>t?r=o:n=o,o=(n+r)/2}},initSvg:function(){var t=this,svg=document.createElementNS(r,"svg");svg.setAttribute("width",this.width),svg.setAttribute("height",this.height),svg.setAttribute("version","1.1"),svg.setAttribute("xmlns",r),this.gradientColorSet.forEach((function(e){var defs=document.createElementNS(r,"defs"),n=document.createElementNS(r,"linearGradient");[{opacity:"0.6",offset:"0%"},{opacity:"0.3",offset:"10%"},{opacity:"0",offset:"100%"}].forEach((function(s){var t=document.createElementNS(r,"stop");t.setAttribute("stop-opacity",s.opacity),t.setAttribute("offset",s.offset),t.setAttribute("stop-color","#".concat(e)),n.appendChild(t)}));var o=document.createElementNS(r,"g");o.setAttribute("id","indicator-g");var rect=document.createElementNS(r,"rect");rect.setAttribute("id","indicator-line"),rect.setAttribute("fill","#D8D8D8"),rect.setAttribute("width",1),rect.setAttribute("height",t.linChartHeight),rect.setAttribute("x",-1),rect.setAttribute("y",0),o.appendChild(rect),svg.appendChild(o);var l=document.createElementNS(r,"g");l.setAttribute("id","circle-g");var c=document.createElementNS(r,"circle");c.setAttribute("id","circle-point"),c.setAttribute("fill","#FF5072"),c.setAttribute("stroke-width","2"),c.setAttribute("stroke","#FFF"),c.setAttribute("cx",-10),c.setAttribute("cy",20),c.setAttribute("r",5),l.appendChild(c),t.$nextTick((function(){svg.appendChild(l)})),n.setAttribute("x1","0"),n.setAttribute("x2","0"),n.setAttribute("y1","0"),n.setAttribute("y2","1"),n.id="".concat(t.lineargradientPrefix).concat(e),defs.appendChild(n),svg.appendChild(defs)})),this.svg=svg,this.$refs.chart.appendChild(svg),this.chartData.length&&(this.drawChart(),this.animationLine())},animationLine:function(){var t=this.$refs.chart.querySelectorAll("path");t&&t.forEach((function(path){var t=path.getTotalLength();path.style.transition=path.style.WebkitTransition="none",path.style.strokeDasharray=t+" "+t,path.style.strokeDashoffset=t,"line-path"===path.id?(path.getBoundingClientRect(),path.style.transition=path.style.WebkitTransition="stroke-dashoffset .4s ease-in-out",path.style.strokeDashoffset="0"):(path.style.visibility="hidden",path.style.opacity=0,path.getBoundingClientRect(),path.style.transition=path.style.WebkitTransition="visibility 2s, opacity 1s ease-in-out",path.style.visibility="visible",path.style.opacity=1)}))},chart:function(t){var e,n=.1*this.height,r=.8*this.height,o=t,l=(e=o,Math.max.apply(Math,e)),c=function(t){return Math.min.apply(Math,t)}(o),d=l-c,h=t.length,f=this.width/(h-1),m="M";t.forEach((function(element,t){var e=(1-(element-c)/d)*r+n,o=t*f;m+="".concat(0===t?"":"L").concat(o,",").concat(e)}));var v="".concat(m,"L").concat(this.width,",").concat(this.height,"L0,").concat(this.height);return{linePath:m,lineAreaPath:v}},drawChart:function(){var t=this.chart(this.chartData),e=t.linePath,n=t.lineAreaPath,path=document.createElementNS(r,"path");path.setAttribute("id","line-path"),path.setAttribute("fill","none"),path.setAttribute("stroke","#".concat(this.color)),path.setAttribute("stroke-width","1"),path.setAttribute("d",e),this.svg.appendChild(path);var o=document.createElementNS(r,"path");o.setAttribute("id","line-path2"),o.setAttribute("fill","url(#".concat(this.lineargradientPrefix).concat(this.color,")")),o.setAttribute("d",n),this.svg.appendChild(o)},updateChart:function(t){var e=this.chart(t),n=e.linePath,r=e.lineAreaPath,path=this.$refs.chart.querySelector("#line-path"),o=path.getTotalLength();path.style.strokeDasharray=o+" "+o,path.setAttribute("stroke","#".concat(this.color)),path.setAttribute("d",n);var l=this.$refs.chart.querySelector("#line-path2");l.setAttribute("fill","url(#".concat(this.lineargradientPrefix).concat(this.color,")")),l.setAttribute("d",r),(this.isCache||this.isResize)&&(this.svg.appendChild(path),this.svg.appendChild(l),this.animationLine())}}},l=n(4),component=Object(l.a)(o,(function(){var t=this.$createElement;return(this._self._c||t)("div",{ref:"chart",staticClass:"chartv2",style:{height:this.height+"px"},on:{mousemove:this.onMousemove,mouseleave:this.onMouseleave,touchmove:this.onTouchmove,touchend:this.onMouseleave}})}),[],!1,null,null,null);e.a=component.exports},697:function(t,e,n){"use strict";n(17);var r=n(2),o=(n(46),{data:function(){return{dialogVisible:!1,isUseLocalApi:this.$DI.get("IS_DEV_DOMAIN"),dexRouterContractDefault:"",dexRouterContractInput:"",wooStakingVaultContract:""}},computed:{isDefaultDexRouterContract:function(){return this.dexRouterContractInput===this.dexRouterContractDefault},dexRouterContractStatus:function(){return this.isDefaultDexRouterContract?"Default":"Custom"}},mounted:function(){this.fetchData()},methods:{fetchData:function(){this.fetchDexRouterContract()},fetchDexRouterContract:function(){this.dexRouterContractDefault=this.$DI.get("Contract").dexContractDefault(),this.dexRouterContractInput=this.$DI.get("Contract").dexContract()},checkDexRouterContract:function(){this.isDefaultDexRouterContract||window.localStorage.setItem("DEV_DEX_ROUTER_CONTRACT",this.dexRouterContractInput)},onClickConfirm:function(){this.checkDexRouterContract(),window.location.reload()},onClickReset:function(){window.localStorage.removeItem("DEV_DEX_ROUTER_CONTRACT"),window.location.reload()}}}),l=(n(746),n(4)),c=Object(l.a)(o,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isUseLocalApi?n("div",{staticClass:"debug"},[n("el-tooltip",[n("span",{attrs:{slot:"content"},slot:"content"},[t._v("Relax, this button is ONLY visible in dev environment.")]),n("el-button",{staticClass:"btn",attrs:{type:"primary",icon:"el-icon-s-operation",circle:""},on:{click:function(e){t.dialogVisible=!0}}})],1),n("div",{staticClass:"debug-dialog"},[n("el-dialog",{attrs:{title:"Debug",visible:t.dialogVisible,width:t.$isFromMobile?"90%":"600px","custom-class":"debug-dialog"},on:{"update:visible":function(e){t.dialogVisible=e}}},[n("div",{staticClass:"main-content"},[n("div",{staticClass:"item"},[n("div",{staticClass:"label"},[n("span",[t._v("Dex Router Contract")])]),n("div",{staticClass:"form flex-all"},[n("el-input",{model:{value:t.dexRouterContractInput,callback:function(e){t.dexRouterContractInput=e},expression:"dexRouterContractInput"}},[n("template",{slot:"append"},[t._v(t._s(t.dexRouterContractStatus))])],2)],1)])]),n("div",{staticClass:"operation flex-all"},[n("el-button",{on:{click:t.onClickReset}},[t._v("Reset")]),n("el-button",{attrs:{type:"primary"},on:{click:t.onClickConfirm}},[t._v("Apply")])],1)])],1)],1):t._e()}),[],!1,null,"267134ea",null).exports,d=(n(752),n(29),n(36),n(14),n(27),n(20),n(38),n(667)),h=n.n(d),f={data:function(){return{visible:!1}},computed:{isNetworkAvax:function(){return"avax"===this.$DI.get("CURRENT_NETWORK")},isOntoWallet:function(){return!(!window.ethereum||!window.ethereum.isONTO)},isNetworkBsc:function(){return"bsc"===this.$DI.get("CURRENT_NETWORK")}},methods:{onLogin:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return"walletconnect"===t&&"http:"===window.location.protocol&&console.error("WalletConnect only support https"),localStorage.removeItem("USER_LOGOUT"),n.next=4,e.$DI.get("Web3").login(t,!0);case 4:if(r=n.sent,e.triggerDialog(),e.isInit||!r){n.next=14;break}if(e.$store.commit("auth/SET_INIT"),"okxwallet"!==t){n.next=13;break}return n.next=11,new Promise((function(t){return setTimeout(t,1e3)}));case 11:return window.location.reload(),n.abrupt("return");case 13:e.$DI.get("Vue").$emit("REFRESH_PAGE");case 14:return n.next=16,e.$store.dispatch("auth/SYNC_AUTH");case 16:case"end":return n.stop()}}),n)})))()},triggerDialog:function(){this.$isFromMobile&&(window.okxwallet||window.okexchain)?this.onLogin("okxwallet"):this.visible=!this.visible}}},m=(n(758),Object(l.a)(f,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"Connect to a wallet",visible:t.visible,width:t.$isFromMobile?"90%":"500px","custom-class":"normal-dialog","append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[r("div",{staticClass:"wallet-dialog"},[r("div",{staticClass:"wallet-list"},[t.isNetworkAvax?r("div",{staticClass:"item touch flex-all",on:{click:function(e){return t.onLogin("avaxcore")}}},[r("div",{staticClass:"name"},[t._v("Core Wallet")]),r("div",{staticClass:"logo"},[r("img",{attrs:{src:n(369)}})])]):t._e(),t.isOntoWallet?r("div",{staticClass:"item touch flex-all",on:{click:function(e){return t.onLogin("metamask")}}},[r("div",{staticClass:"name"},[t._v("ONTO Wallet")]),r("div",{staticClass:"logo"},[r("img",{attrs:{src:n(370)}})])]):r("div",{staticClass:"item touch flex-all",on:{click:function(e){return t.onLogin("metamask")}}},[r("div",{staticClass:"name"},[t._v("Metamask")]),r("div",{staticClass:"logo"},[r("img",{attrs:{src:n(231)}})])]),r("div",{staticClass:"item touch flex-all",on:{click:function(e){return t.onLogin("walletconnect")}}},[r("div",{staticClass:"name"},[t._v("WalletConnect")]),r("div",{staticClass:"logo"},[r("img",{attrs:{src:n(371)}})])]),t.isNetworkBsc?r("div",{staticClass:"item touch flex-all",on:{click:function(e){return t.onLogin("binancechain")}}},[r("div",{staticClass:"name"},[t._v("Binance Chain Wallet")]),r("div",{staticClass:"logo"},[r("img",{attrs:{src:n(372)}})])]):t._e(),r("div",{staticClass:"item touch flex-all",on:{click:function(e){return t.onLogin("okxwallet")}}},[r("div",{staticClass:"name"},[t._v("OKX Wallet")]),r("div",{staticClass:"logo"},[r("img",{attrs:{src:n(373)}})])])])])])}),[],!1,null,"6d4f3dc3",null).exports),v={data:function(){return{visible:!1,selectedNetwork:this.$DI.get("CURRENT_NETWORK"),selectedWallet:""}},computed:{availableNetworks:function(){return this.$DI.get("Network").getNetworkListArray()},availabeWallets:function(){var t=this.$DI.get("Wallet").getAllWalletConfig();return["metamask","walletconnect","binancechain"].map((function(e){return t[e]}))}},methods:{triggerDialog:function(){this.visible=!this.visible},onClickWallet:function(t){this.selectedWallet=t.name}}},C=(n(759),Object(l.a)(v,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("el-dialog",{attrs:{title:"Connect to a wallet",visible:t.visible,width:t.$isFromMobile?"90%":"550px","custom-class":"normal-dialog","append-to-body":!0},on:{"update:visible":function(e){t.visible=e}}},[r("div",{staticClass:"wallet-dialog"},[r("div",{staticClass:"network-select"},[r("div",{staticClass:"title"},[t._v("Select Network")]),r("div",{staticClass:"list flex-all"},t._l(t.availableNetworks,(function(e){return r("div",{key:e.key,staticClass:"item flex-all touch",on:{click:function(n){t.selectedNetwork=e.key}}},[r("div",{staticClass:"left flex-align"},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:e.logo}})]),r("div",{staticClass:"name"},[t._v(t._s(e.chainNameShort))])]),r("div",{staticClass:"right"},[t.selectedNetwork===e.key?r("div",{staticClass:"selected"},[r("img",{attrs:{src:n(232)}})]):t._e()])])})),0)]),r("div",{staticClass:"wallet-select"},[r("div",{staticClass:"title"},[t._v("Select Wallet")]),r("div",{staticClass:"list flex-align"},t._l(t.availabeWallets,(function(e){return r("div",{key:e.name,staticClass:"item touch",on:{click:function(n){return t.onClickWallet(e)}}},[r("div",{staticClass:"logo-bg"},[r("img",{staticClass:"logo",attrs:{src:e.logo}}),t.selectedWallet===e.name?r("div",{staticClass:"check"},[r("img",{attrs:{src:n(232)}})]):t._e()]),r("div",{staticClass:"name"},[t._v(t._s(e.name))])])})),0)])])])}),[],!1,null,"53fee9f0",null).exports),y=!1,_={components:{WalletSelect:m,WalletAndNetworkSelect:C},data:function(){return{networkCurrency:{},accountVisible:!1,currentWallet:{},showCopyStatus:!1,pendingQueue:{}}},computed:{blockExplorerName:function(){return this.$DI.get("Network").getBlockExplorerName()},pendingQueueCount:function(){return Object.keys(this.pendingQueue).length},showPending:function(){return this.pendingQueueCount},userBalance:function(){return this.$DI.get("Utils").formatMoney(this.$store.state.auth.balance)},userAddress:function(){return this.$store.state.auth.address},displayUserAddress:function(){return"".concat(this.userAddress.slice(0,6),"...").concat(this.userAddress.substr(-4))},isDark:function(){return this.$store.state.setting.isDark}},mounted:function(){y&&(y=!1,this.$nextTick(this.onLoginIn)),this.networkCurrency=this.$DI.get("Network").getNetworkCurrency(),this.$DI.get("Vue").$on("UI_CONNECT_WALLET",this.onLoginIn),this.$DI.get("Vue").$on("UI_ADD_PENDING",this.addPending),this.$DI.get("Vue").$on("UI_REMOVE_PENDING",this.removePending)},methods:{addPending:function(t){var e=this;this.$set(this.pendingQueue,t,!0),setTimeout((function(){e.removePending(t)}),3e5)},removePending:function(t){this.$delete(this.pendingQueue,t)},onGoToHecosan:function(){window.open("".concat(this.$DI.get("Network").getBlockExplorerUrl(),"/address/").concat(this.userAddress),"_blank")},onLogout:function(){this.accountVisible=!1,this.$DI.get("Web3").logout(),this.$store.commit("auth/RESET_AUTH"),this.$DI.get("Vue").$emit("REFRESH_PAGE")},onChangeAccount:function(){this.onLogout(),y=!0},onCopy:function(){var t=this;h()(this.userAddress),this.showCopyStatus=!0,setTimeout((function(){t.showCopyStatus=!1}),1e3)},onLoginIn:function(){localStorage.removeItem("walletconnect"),this.$refs.WalletSelect&&this.$refs.WalletSelect.triggerDialog()},onShowAccount:function(){this.accountVisible=!0;var t=localStorage.getItem("HYWOO_WALLET_CONNECTOR");this.currentWallet={avaxcore:{name:"Core Wallet",logo:n(369)},metamask:{name:"Metamask",logo:n(231)},walletconnect:{name:"WalletConnect",logo:n(371)},binancechain:{name:"BinanceChainWallet",logo:n(372)},okxwallet:{name:"OKX Wallet",logo:n(373)},argent:{name:"Argent",logo:n(760)}}[t||"metamask"],"metamask"===t&&window.ethereum&&window.ethereum.isONTO&&(this.currentWallet={name:"ONTO",logo:n(370)}),"metamask"===t&&window.ethereum&&window.ethereum.isCoinbaseWallet&&(this.currentWallet={name:"Coinbase Wallet",logo:n(488)})}}},w=(n(761),Object(l.a)(_,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"account"},[t.userAddress?r("div",{staticClass:"wallet bold flex-align",on:{click:t.onShowAccount}},[t._v(t._s(t.userBalance)+" "+t._s(t.networkCurrency.symbol)),t.showPending?r("span",{staticClass:"address pending flex-all"},[r("span",{staticClass:"text"},[t._v(t._s(t.pendingQueueCount)+" Pending")]),t.isDark?r("img",{attrs:{src:n(753)}}):r("img",{attrs:{src:n(754)}})]):r("span",{staticClass:"address"},[t._v(t._s(t.displayUserAddress))])]):r("div",{staticClass:"connect"},[r("el-button",{on:{click:t.onLoginIn}},[r("div",{staticClass:"flex-all connect-with-icon"},[r("span",[t._v(t._s(t.$t("account.connect")))]),t.isDark?r("img",{attrs:{src:n(755)}}):r("img",{attrs:{src:n(756)}})])])],1),r("WalletAndNetworkSelect",{ref:"WalletAndNetworkSelect"}),r("WalletSelect",{ref:"WalletSelect"}),r("el-dialog",{attrs:{visible:t.accountVisible,width:t.$isFromMobile?"90%":"550px",title:"","append-to-body":!0},on:{"update:visible":function(e){t.accountVisible=e}}},[r("div",{staticClass:"accountDialog"},[r("div",{staticClass:"title"},[r("div",{staticClass:"top-title bold"},[t._v("Your wallet")]),r("div",{staticClass:"name"},[t._v(t._s(t.currentWallet.name))])]),r("div",{staticClass:"current-wallet"},[r("div",{staticClass:"wallet-info flex-align"},[r("div",{staticClass:"logo"},[r("img",{attrs:{src:t.currentWallet.logo}})]),r("div",{staticClass:"address"},[t._v(t._s(t.userAddress))])])]),r("div",{staticClass:"info flex-align"},[r("div",{staticClass:"item flex-align touch",on:{click:t.onGoToHecosan}},[r("span",[t._v("View on "+t._s(t.blockExplorerName))]),r("img",{attrs:{src:n(129)}})]),r("div",{staticClass:"item flex-align touch",on:{click:t.onCopy}},[r("span",[t._v("Copy Address")]),r("img",{attrs:{src:n(757)}})]),r("div",{directives:[{name:"show",rawName:"v-show",value:t.showCopyStatus,expression:"showCopyStatus"}],staticClass:"tip"},[t._v("Copied")])]),r("div",{staticClass:"operation flex-all"},[r("el-button",{on:{click:t.onChangeAccount}},[t._v("Change")]),r("el-button",{on:{click:t.onLogout}},[t._v("Logout")])],1)])])],1)}),[],!1,null,"75ff9439",null).exports),k=n(5),x={data:function(){return{currentNetwork:k.a.get("CURRENT_NETWORK"),switchNetworkVisible:!1,availableNetwork:k.a.get("Network").getNetworkListArray()}},computed:{currentChainId:function(){return this.$store.state.auth.currentChainId},displayNetwork:function(){var t=this;return this.availableNetwork.filter((function(e){return e.key===t.currentNetwork}))[0]}},mounted:function(){var t=this;this.$DI.get("Vue").$on("onBodyClick",(function(e){e("networkSwitch")&&(t.switchNetworkVisible=!1)})),this.$DI.get("Vue").$on("onOpenSwitchNetwork",(function(){setTimeout((function(){t.switchNetworkVisible=!0}),200)}))},methods:{onClickItem:function(t){t.disabled||(k.a.get("Vue").$emit("SWITCH_SUPPORTED_NETWORK",t),this.switchNetworkVisible=!1)},onClickSwitchNetwork:function(){this.switchNetworkVisible=!this.switchNetworkVisible}}},D=(n(762),Object(l.a)(x,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"switch-network",attrs:{id:"networkSwitch"}},[r("div",{staticClass:"selected flex-align touch",on:{click:t.onClickSwitchNetwork}},[r("img",{staticClass:"logo",attrs:{src:t.displayNetwork.logo}}),r("span",{staticClass:"bold"},[t._v(t._s(t.displayNetwork.name))]),r("img",{staticClass:"down",class:{up:t.switchNetworkVisible},attrs:{src:n(192)}})]),t.switchNetworkVisible?r("div",{staticClass:"switch-list-wrapper"},[r("div",{staticClass:"switch-list"},t._l(t.availableNetwork,(function(e){return r("div",{key:e.key,staticClass:"item flex-align",class:[{disabled:e.disabled,touch:!e.disabled,active:e.key===t.currentNetwork}],on:{click:function(n){return t.onClickItem(e)}}},[r("div",{staticClass:"left flex-align"},[r("img",{attrs:{src:e.logo}}),r("div",{staticClass:"name bold"},[t._v(t._s(e.chainNameShort))])]),t.$isFromMobile&&e.key===t.currentNetwork?r("div",{staticClass:"right"},[r("img",{attrs:{src:n(232)}})]):t._e()])})),0)]):t._e(),t.$isFromMobile&&t.switchNetworkVisible?r("div",{staticClass:"mask",on:{click:function(e){t.switchNetworkVisible=!1}}}):t._e()])}),[],!1,null,"77822bbe",null).exports),S={computed:{isDark:function(){return this.$store.state.setting.isDark}},methods:{setThemeLight:function(){this.$store.commit("setting/SWITCH_THEME_LIGHT")},setThemeDark:function(){this.$store.commit("setting/SWITCH_THEME_DARK")},onSwitchTheme:function(){this.isDark?this.setThemeLight():this.setThemeDark()}}},I=(n(765),Object(l.a)(S,(function(){var t=this.$createElement,e=this._self._c||t;return this.$isFromMobile?e("div",{staticClass:"theme-switch"},[e("el-switch",{attrs:{value:this.isDark},on:{change:this.onSwitchTheme}})],1):e("div",{staticClass:"theme-switch"},[e("div",{staticClass:"switch touch",on:{click:this.onSwitchTheme}},[this.isDark?e("img",{attrs:{src:n(763)}}):e("img",{attrs:{src:n(764)}})])])}),[],!1,null,"593947a4",null).exports),N=(n(19),{components:{ThemeSwitch:I},data:function(){return{visible:!1,id:"header-menu",gasPrice:"-"}},computed:{isDark:function(){return this.$store.state.setting.isDark}},mounted:function(){var t=this;this.getGasPrice(),this.$DI.get("Vue").$on("onBodyClick",(function(e){e(t.id)&&(t.visible=!1)}))},methods:{onClickLink:function(t){switch(t){case"audit":window.open("https://learn.woo.org/woofi/audits","__blank");break;case"github":window.open("https://github.com/woonetwork","__blank");break;case"docs":window.open("https://learn.woo.org/woofi/intro","__blank");break;case"telegram":window.open("https://t.me/woo_english","__blank");break;case"discord":window.open("https://discord.com/invite/woonetwork","__blank");break;case"twitter":window.open("https://twitter.com/WOOnetwork","__blank")}},getGasPrice:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").getGasPrice();case 2:n=e.sent,t.gasPrice=Number(n).toFixed(2);case 4:case"end":return e.stop()}}),e)})))()},triggerDialog:function(){this.visible=!this.visible}}}),A=(n(776),Object(l.a)(N,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"menu-layout",attrs:{id:t.id}},[r("div",{staticClass:"menu touch",on:{click:t.triggerDialog}},[t.isDark?r("img",{attrs:{src:n(766)}}):r("img",{attrs:{src:n(767)}})]),t.visible?r("div",{staticClass:"menu-dropdown"},[r("div",{staticClass:"item flex-all"},[r("div",{staticClass:"left"},[t._v("Gas Price")]),r("div",{staticClass:"right flex-align"},[r("span",{staticClass:"bold"},[t._v(t._s(t.gasPrice)+" GWEI")])])]),r("div",{staticClass:"line"}),r("div",{staticClass:"item touch flex-align",on:{click:function(e){return t.onClickLink("audit")}}},[t.isDark?r("img",{staticClass:"icon",attrs:{src:n(768)}}):r("img",{staticClass:"icon",attrs:{src:n(769)}}),r("span",{staticClass:"link"},[t._v("Audit")])]),r("div",{staticClass:"item touch flex-align",on:{click:function(e){return t.onClickLink("docs")}}},[t.isDark?r("img",{staticClass:"icon",attrs:{src:n(770)}}):r("img",{staticClass:"icon",attrs:{src:n(771)}}),r("span",{staticClass:"link"},[t._v("Docs")])]),r("div",{staticClass:"item touch flex-align",on:{click:function(e){return t.onClickLink("github")}}},[t.isDark?r("img",{staticClass:"icon",attrs:{src:n(772)}}):r("img",{staticClass:"icon",attrs:{src:n(773)}}),r("span",{staticClass:"link"},[t._v("Github")])]),t._e(),t._e(),t._e()]):t._e()])}),[],!1,null,"e36778ca",null).exports),E={data:function(){return{price:"-",allCoinList:this.$DI.get("Coin").allCoinList()}},computed:{isAddWooEnabled:function(){return this.isMetamask()&&!this.$isFromMobile},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")}},mounted:function(){var t=this;this.getGasPrice(),setInterval((function(){t.getGasPrice()}),2e4)},methods:{getGasPrice:function(){var t=this;window.fetch("https://api.binance.com/api/v3/ticker/price?symbol=WOOUSDT").then((function(t){return t.json()})).then((function(e){var n=e.price;t.price="$"+Number(n).toFixed(3),t.$store.commit("auth/SET_WOO_PRICE",n)}))},addCoinWoo:function(){if(this.isAddWooEnabled){var t=this.allCoinList.filter((function(t){return"woo"===t.name}))[0],address=t.contract,e=t.logo,n={address:address,symbol:t.displayName,decimals:t.decimals,image:window.location.origin+e};this.$DI.get("Wallet").registerToken(n)}},isMetamask:function(){return this.$DI.get("Web3").isMetamask()}}},T=(n(778),Object(l.a)(E,(function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"add-woo flex-all",class:{touch:this.isAddWooEnabled},on:{click:this.addCoinWoo}},[e("el-tooltip",{attrs:{disabled:this.isAddWooEnabled}},[e("span",{attrs:{slot:"content"},slot:"content"},[this._v("Add WOO to your Metamask wallet")]),e("div",{staticClass:"inner flex-align"},[e("img",{attrs:{src:n(777)}}),e("span",[this._v(this._s(this.price))])])])],1)}),[],!1,null,"56ac3774",null).exports),O=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left flex-align"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(779)}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[this._v("cBridge")]),e("div",{staticClass:"sub"},[this._v("Ethereum/BSC/Avalanche/Fantom")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right"},[e("img",{attrs:{src:n(233)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left flex-align"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(780)}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[this._v("Multichain")]),e("div",{staticClass:"sub"},[this._v("Ethereum/BSC/Fantom/Polygon")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right"},[e("img",{attrs:{src:n(233)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left flex-align"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(781)}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[this._v("Avalanche Bridge")]),e("div",{staticClass:"sub"},[this._v("Ethereum/Avalanche")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right"},[e("img",{attrs:{src:n(233)}})])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"left flex-align"},[e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(782)}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"title"},[this._v("Rainbow Bridge")]),e("div",{staticClass:"sub"},[this._v("Aurora/Near")])])])},function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"right"},[e("img",{attrs:{src:n(233)}})])}],$={data:function(){return{switchNetworkVisible:!1,id:"bridgeSwitch"}},mounted:function(){var t=this;this.$DI.get("Vue").$on("onBodyClick",(function(e){e(t.id)&&(t.switchNetworkVisible=!1)}))},methods:{onClickItem:function(t){window.open({multichain:"https://app.multichain.org/#/router",cbridge:"https://cbridge.celer.network/#/transfer",avalanche_bridge:"https://bridge.avax.network/",rainbow_bridge:"https://rainbowbridge.app/transfer"}[t],"_blank")},onClickSwitchNetwork:function(){this.switchNetworkVisible=!this.switchNetworkVisible}}},P=(n(783),{name:"Header",components:{Account:w,Menu:A,ThemeSwitch:I,NetworkSwitch:D,AddWoo:T,Bridge:Object(l.a)($,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"switch-network",attrs:{id:t.id}},[r("div",{staticClass:"selected flex-align touch",on:{click:t.onClickSwitchNetwork}},[r("span",{staticClass:"bold"},[t._v("Bridge")]),r("img",{staticClass:"down",class:{up:t.switchNetworkVisible},attrs:{src:n(192)}})]),t.switchNetworkVisible?r("div",{staticClass:"switch-list-wrapper"},[r("div",{staticClass:"switch-list"},[r("div",{staticClass:"item flex-all touch",on:{click:function(e){return t.onClickItem("cbridge")}}},[t._m(0),t._m(1)]),r("div",{staticClass:"item flex-all touch",on:{click:function(e){return t.onClickItem("multichain")}}},[t._m(2),t._m(3)]),r("div",{staticClass:"item flex-all touch",on:{click:function(e){return t.onClickItem("avalanche_bridge")}}},[t._m(4),t._m(5)]),r("div",{staticClass:"item flex-all touch hide",on:{click:function(e){return t.onClickItem("rainbow_bridge")}}},[t._m(6),t._m(7)])])]):t._e()])}),O,!1,null,"50f15b0a",null).exports},data:function(){return{isNavVisible:!this.$isFromMobile,overlayVisible:!1}},computed:{userAddress:function(){return this.$store.state.auth.address},networkSwitchVisible:function(){return!this.userAddress||!this.isWalletConnect()},navConfig:function(){return[{key:"swap",name:"Swap",icon:n(784)},{key:"orderbook",name:"Orderbook",icon:n(785),link:"https://dex.woo.org/"},{key:"earn",name:"Earn",icon:n(786)},{key:"stake",name:"Stake",icon:n(787)},{key:"dashboard",name:"Dashboard",icon:n(788)}]},currentNetwork:function(){return this.$DI.get("CURRENT_NETWORK")},isDark:function(){return this.$store.state.setting.isDark},displayLocale:function(){var t=this;return this.$i18n.locales.filter((function(i){return i.code===t.$i18n.locale}))[0].name},availableLocales:function(){return this.$i18n.locales},calPath:function(){return this.$route.path.replace("/".concat(this.$i18n.locale),"")},isIndex:function(){return"/"===this.calPath||!this.calPath},currentNav:function(){var t=this.calPath;return!t||"/"===t||t.includes("swap")?"swap":["/stake"].includes(t)?"stake":"/stats"===t?"stats":"/earn"===t?"earn":"/dashboard"===t?"dashboard":"staking"},isInit:function(){return this.$store.state.auth.init}},watch:{$isFromMobile:{immediate:!0,handler:function(t){this.isNavVisible=!this.$isFromMobile}}},mounted:function(){var t=this;this.$store.dispatch("auth/SYNC_AUTH"),this.$nextTick((function(){document.addEventListener("click",t.handleBodyClick)}))},beforeDestroy:function(){document.removeEventListener("click",this.handleBodyClick)},methods:{onMouseOverNav:function(t){"swap"===t&&(this.overlayVisible=!0)},onMouseLeaveNav:function(t){var e=this;"swap"===t&&(this.overlayVisibleId=setTimeout((function(){e.overlayVisible=!1}),100))},onMouseOverOverlay:function(){this.overlayVisibleId&&clearTimeout(this.overlayVisibleId)},onMouseLeaveOverlay:function(){this.overlayVisible=!1},onGoExchange:function(){window.open("https://dex.woo.org/","__blank")},onClickSwap:function(){this.onNavClick({key:"swap"}),this.overlayVisible=!1},isWalletConnect:function(){return this.$DI.get("Web3").isWalletConnect()},onNavClick:function(t){if(t.link)window.open(t.link,"__blank");else switch(t.key){case"exchange":this.onGoExchange();break;case"swap":this.$router.push(this.localeRoute({name:"index"}));break;case"stake":this.$router.push(this.localeRoute({name:"stake"}));break;case"earn":this.$router.push(this.localeRoute({name:"earn"}));break;case"dashboard":this.$router.push(this.localeRoute({name:"dashboard"}))}},onClickNavArea:function(){this.$isFromMobile&&(this.isNavVisible=!1)},onClickNavMenu:function(){this.isNavVisible=!this.isNavVisible},handleBodyClick:function(t){var e=function(e){var n=document.getElementById(e);return n&&!n.contains(t.target)};e("navBlock")&&this.onClickNavArea(),this.$DI.get("Vue").$emit("onBodyClick",e)}}}),R=(n(789),Object(l.a)(P,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("header",[t.$isFromMobile?t._e():r("div",{staticClass:"header-padding"}),r("div",{class:{"header-fixed":!t.$isFromMobile}},[r("div",{staticClass:"header-container",class:{"flex-all":!t.$isFromMobile}},[r("div",{staticClass:"flex-all"},[r("div",{staticClass:"logo",on:{click:function(e){return t.onNavClick({key:"swap"})}}},[t.isDark?r("img",{attrs:{src:n(747)}}):r("img",{attrs:{src:n(748)}})]),r("div",{attrs:{id:"navBlock"}},[t.$isFromMobile?r("div",{staticClass:"nav-switch touch",on:{click:t.onClickNavMenu}},[t.isDark?r("img",{attrs:{src:n(749)}}):r("img",{attrs:{src:n(750)}})]):t._e(),r("div",{directives:[{name:"show",rawName:"v-show",value:t.isNavVisible,expression:"isNavVisible"}],staticClass:"nav bold",class:{"flex-all":!t.$isFromMobile},on:{click:t.onClickNavArea}},t._l(t.navConfig,(function(e){return r("div",{key:e.key,staticClass:"item touch",class:{active:t.currentNav===e.key},on:{click:function(n){return t.onNavClick(e)},mouseover:function(){return t.onMouseOverNav(e.key)},mouseleave:function(){return t.onMouseLeaveNav(e.key)}}},[r("img",{attrs:{src:e.icon}}),r("span",[t._v(t._s(e.name))]),e.link?r("img",{staticClass:"link",attrs:{src:n(751)}}):t._e()])})),0)])]),r("div",{staticClass:"right flex-align"},[t.networkSwitchVisible?r("NetworkSwitch"):t._e(),r("AddWoo"),r("Account")],1),t.$isFromMobile&&t.isNavVisible?r("div",{staticClass:"mask"}):t._e()])])])}),[],!1,null,"203c2e94",null).exports),B=[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"logo"},[e("img",{attrs:{src:n(794)}})])}],W={props:{isCheckVisible:{type:Boolean,default:!1}},data:function(){return{alphaAlertVisible:!1,alphaChecked:!1,isOperationDisabled:!1}},watch:{alphaAlertVisible:{handler:function(t){}}},methods:{onContentScroll:function(t){var e=document.getElementById("tou-content");e.offsetHeight+e.scrollTop>=e.scrollHeight&&(this.isOperationDisabled=!1)},onContinueClick:function(){this.alphaAlertVisible=!1,localStorage.setItem("USER_IS_CONFIRM_ALPHA_USER","confirm")}}},L=(n(795),Object(l.a)(W,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tous"},[n("el-dialog",{attrs:{title:"Terms of Use","show-close":!t.isCheckVisible,"close-on-click-modal":!t.isCheckVisible,visible:t.alphaAlertVisible,width:t.$isFromMobile?"90%":"670px"},on:{"update:visible":function(e){t.alphaAlertVisible=e}}},[n("div",{staticClass:"confirm-dialog",attrs:{id:"tou-content"}},[n("p",[t._v("The following terms of use (the “Terms”) constitute an agreement between you or the company or other legal entity you represent (“you” or “your”) and WOO Network Ecosystem (WOO Network Ecosystem,” “we,” or “us”), and apply to your use of WOOFi, https://fi.woo.org.")]),n("p",[t._v("You agree that you have read, understood, and accepted these Terms as well as our policies disclosed and updated from time to time, and you acknowledge and agree that you will be bound by such terms and policies.")]),n("h3",[t._v("1. ELIGIBILITY")]),n("p",[t._v("If you are an individual, you must be of legal age in the jurisdiction in which you reside and you have the legal capacity to enter into these Terms.")]),n("p",[t._v("If you are on behalf of a legal entity, you represent and warrant that (i) such legal entity is duly organized and validly existing under the applicable laws of the jurisdiction of its organization; (ii) you are duly authorized by such legal entity to act on its behalf.")]),n("p",[t._v("By accessing or using WOOFi, you further represent and warrant that you are not a Restricted Person nor are you a resident of a Restricted Territory (each as defined in Section 2) and you will not be using WOOFi for any illegal activity including, but not limited to, those Restricted Activities listed under Section 3. Notwithstanding the foregoing, we may determine not to make the services, in whole or in part, available in every market, either in its sole discretion or due to legal or regulatory requirements, depending on your location. Additionally, use of a virtual private network (e.g., a VPN) or other means by Restricted Persons or persons from Restricted Territories to access or use our service is prohibited.")]),n("h3",[t._v("2. LEGAL COMPLIANCE")]),n("p",[t._v("1) You agree that you are solely and entirely responsible for compliance with all laws and regulations that may apply to you. You further agree that we have no obligation to inform you of any potential liabilities or violations of law or regulation that may arise in connection with your access and use of our service and that we are not liable in any respect for any failure by you to comply with any applicable laws or regulations.")]),n("p",[t._v("You may not use our services if (i) you are incorporated or otherwise established in, or a citizen or resident a prohibited jurisdiction as follows (“Restricted Territories”), including but not limited to:")]),n("ul",[n("li",[t._v("Iran")]),n("li",[t._v("North Korea")]),n("li",[t._v("Cuba")]),n("li",[t._v("Syria")]),n("li",[t._v("Crimea and Sevastopol")]),n("li",[t._v("Afghanistan")]),n("li",[t._v("Libya")]),n("li",[t._v("Mali")]),n("li",[t._v("South Sudan")]),n("li",[t._v("Sudan")]),n("li",[t._v("Donetsk")]),n("li",[t._v("Luhansk")]),n("li",[t._v("US and its territories")]),n("li",[t._v("China")]),n("li",[t._v("Democratic Republic of Congo")]),n("li",[t._v("Myanmar")]),n("li",[t._v("Cayman Island")]),n("li",[t._v("Canada")])]),n("p",[t._v("WOO Network Ecosystem has the sole discretion to update the list of prohibited jurisdictions from time to time ; (ii) you are a member of any sanctions list or equivalent maintained by the United States government, the United Kingdom government, the European Union, or the Taiwan government (“Restricted Persons”); (iii) you intend to transact with any Restricted Territories or Restricted Persons; (iv) you are located, incorporated or otherwise established in, or a citizen or resident of a jurisdiction where it would be illegal under applicable laws for you (by reason of your nationality, domicile, citizenship, residence or otherwise) to access or use our services; or (v) the publication or availability of our services is prohibited or contrary to local law or regulation, or could subject WOO Network Ecosystem to any local registration or licensing requirements.")]),n("p",[t._v("In order to comply with legal obligations under applicable rules and regulations, we may conduct AML/CFT procedure, anti-fraud procedure, and authentication checks.")]),n("h3",[t._v("3. RESTRICTED ACTIVITIES")]),n("p",[t._v("In connection with your use of our services, you will not:")]),n("ul",[n("li",[t._v("violate or assist any party in violating any law, statute, ordinance, regulation or any rule of any self-regulatory or similar organization of which you are or are required to be a member through your use of our services;")]),n("li",[t._v("provide false, inaccurate, incomplete or misleading information;")]),n("li",[t._v("infringe upon WOO Network Ecosystem's or any third party's copyright, patent, trademark, or intellectual property rights;")]),n("li",[t._v("engage in any illegal activity, including without limitation illegal gambling, money laundering, fraud, blackmail, extortion, ransoming data, the financing of terrorism, other violent activities or any prohibited market practices;")]),n("li",[t._v("distribute unsolicited or unauthorized advertising or promotional material, written media releases, public announcements and public disclosures, junk mail, spam or chain letters;")]),n("li",[t._v("take any action that imposes an unreasonable or disproportionately large load on our infrastructure, or detrimentally interfere with, intercept, or expropriate any system, data or information;")]),n("li",[t._v("transmit or upload any material to WOOFi that contains viruses, Trojan horses, worms, or any other harmful or deleterious programs;")]),n("li",[t._v("transfer any rights granted to you under these Terms;")]),n("li",[t._v("engage in any other activity which, in our reasonable opinion, amounts to or may amount to market abuse including without limitation the carrying out of fictitious transactions or wash trades, front running or engaging in disorderly market conduct; or")]),n("li",[t._v("engage in any behavior which is unlawful, violates these Terms, or is otherwise deemed unacceptable by WOO Network Ecosystem in its sole discretion.")])]),n("h3",[t._v("4. FEES AND PRICE ESTIMATES")]),n("p",[t._v("In connection with your use of our services, you are required to pay all fees necessary for interacting with the blockchain networks, including “gas” costs, as well as all other fees reflected on WOOFi at the time of your use. Although we attempt to provide accurate fee information, this information reflects our estimates of fees, which may vary from the actual fees paid to use the services and interact with the blockchain networks.")]),n("h3",[t._v("5. NO PROFESSIONAL ADVICE OR FIDUCIARY DUTIES")]),n("p",[t._v("We do not advise on the merits of any particular transactions, trading risks, or tax consequences, and do not provide any other financial, investment, or legal advice in connection with our service. To the extent that we or our representatives provide trading recommendations, market commentary, or any other information, the act of doing so is incidental to your relationship with us and such information should not be construed as investment or financial advice. Any decision to buy or sell digital assets is the user’s decision and we will not be liable for any loss suffered. You accept the risk of trading digital assets. In entering into any transaction via WOOFi, you represent that you have been, are, and will be solely responsible for making your own independent appraisal and investigations into the risks of the transaction and the underlying digital asset. You represent that you have sufficient knowledge, market sophistication, professional advice and experience to make your own evaluation of the merits and risks of any transaction or any underlying digital asset. The Terms are not intended to, and do not, create or impose any fiduciary duties on us. To the fullest extent permitted by law, you acknowledge and agree that we owe no fiduciary duties or liabilities to you or any other party.")]),n("h3",[t._v("6. OWNERSHIP OF DIGITAL ASSETS")]),n("p",[t._v("You hereby represent and warrant to us that any digital assets used by you in connection with our services are either owned by you or that you are validly authorized to carry out transactions using such digital assets.")]),n("h3",[t._v("7. TAXES")]),n("p",[t._v("It is your responsibility to determine what, if any, taxes apply to your activities on WOOFi, and to collect, report, and remit the correct tax to the appropriate tax authority. WOO Network Ecosystem is not responsible for determining whether taxes apply to your transaction, or for collecting, reporting, or remitting any taxes arising from any transaction.")]),n("h3",[t._v("8. INDEMNIFICATION; RELEASE")]),n("p",[t._v("You agree to indemnify and hold WOO Network Ecosystem, its affiliates, and service providers, and each of their officers, directors, agents, joint venturers, employees, and representatives harmless from any claim or demand (including attorneys’ fees and any losses, fines, fees, or penalties imposed by any regulatory authority) arising out of your breach of these Terms, or your violation of any law or regulation. The term “losses” means all net costs reasonably incurred by us or the other persons referred to in this Section which are the result of the matters set out in this Section and which may relate to any claims, demands, causes of action, debt, cost, expense or other liability, including reasonable legal fees (without duplication). If you have a dispute with one or more Users or third parties, you release WOO Network Ecosystem (and its affiliates and service providers, and each of their officers, directors, agents, joint ventures, employees, and representatives) from any and all claims, demands, and damages (actual and consequential) of every kind and nature arising out of or in any way connected with such disputes. If you have a dispute with anyone other than WOO Network Ecosystem, you release us from liability associated with that dispute.")]),n("h3",[t._v("9. PRIVACY POLICY")]),n("p",[t._v("This Privacy Policy (hereinafter “Policy) constitutes a part of the Terms used in this Policy shall have the same meanings as in the Terms except as otherwise provided herein. This Policy explains how we collect, use, process, disclose, share, transfer, and protect personal information obtained through us and our partners. This Policy also describes how we comply with our legal obligations to you, and how we respect your ability to know, access, correct, transfer, restrict the processing of, and delete, your data. By using our platform, you agree to the collection, use, storage, and disclosure of your data in accordance with our Privacy Policy. We do not sell or lease the personal data that we have collected (and will not do so without providing a right to opt out).")]),n("h4",[t._v("9.1 Applicability of this Policy")]),n("p",[t._v("This Policy applies to our services, which include the services we provide on any other websites, pages, features, or content we own or operating third party applications relying on such an API, and related services.")]),n("h4",[t._v("9.2 Safety and Security")]),n("p",[t._v("We may use acquired information to help maintain the safety, security, and integrity of you and our services.")]),n("h3",[t._v("10. DISCLAIMER")]),n("p",[t._v("WOOFi is a developer of open-source software does not offer trade execution or clearing services and, therefore, has no oversight, involvement, or control concerning your transactions using our services. All transactions between users of this open-source software are executed directly between the users’ blockchain addresses through a smart contract.")]),n("p",[t._v("You understand and agree that WOOFi enables access to an online, decentralized and autonomous protocol and environment, and associated decentralized networks, that are not controlled by the WOO Network Ecosystem.")]),n("p",[t._v("We do not have access to your private key and cannot initiate an interaction with your digital assets or otherwise access your digital assets. We are not responsible for any activities that you engage in when using your wallet, or WOOFi. We cannot and does not represent or guarantee that any of the information available through the WOOFi is accurate, reliable, current, complete or appropriate for your needs.")]),n("p",[t._v("You expressly understand and agree that your use of WOOFi is at your sole risk. We make and expressly disclaim all representations and warranties, express, implied or statutory, and with respect to WOOFi and the code proprietary or open-source, we specifically do not represent and warrant and expressly disclaim any representation or warranty, express, implied or statutory, including without limitation, any representations or warranties of title, non-infringement, merchantability, usage, security, suitability or fitness for any particular purpose, or as to the workmanship or technical coding thereof, or the absence of any defects therein, whether latent or patent.")]),n("p",[t._v("You understand that we are not registered or licensed by the CFTC, SEC, or any financial regulatory authority. No financial regulatory authority has reviewed or approved the use of WOOFi. Our services do not constitute advice or a recommendation concerning any commodity, security, or other digital asset or instrument.")]),n("p",[t._v("You acknowledge that WOO Network Ecosystem is not responsible for transferring, safeguarding, or maintaining your private keys or any digital assets associated therewith. If you lose, mishandle or have stolen associated your private keys, you acknowledge that you may not be able to recover associated digital assets and that WOO Network Ecosystem is not responsible for such loss. You acknowledge that WOO Network Ecosystem is not responsible for any loss, damage or liability arising from your failure to comply with the Terms hereunder.")]),n("p",[t._v("OUR SERVICES ARE NOT OFFERED TO PERSONS OR ENTITIES WHO RESIDE IN, ARE CITIZENS OF, ARE LOCATED IN, ARE INCORPORATED IN, OR HAVE A REGISTERED OFFICE IN THE UNITED STATES OF AMERICA (COLLECTIVELY, “US PERSONS”). MOREOVER, NONE OF OUR OTHER SERVICES ARE OFFERED TO PERSONS OR ENTITIES WHO RESIDE IN, ARE CITIZENS OF, ARE LOCATED IN, ARE INCORPORATED IN, OR HAVE A REGISTERED OFFICE IN ANY RESTRICTED TERRITORY. WE DO NOT MAKE EXCEPTIONS; THEREFORE, IF YOU ARE A US PERSON, THEN DO NOT ATTEMPT TO USE OUR SERVICES AND IF YOU ARE A RESTRICTED PERSON, THEN DO NOT ATTEMPT TO USE ANY OF OUR SERVICES. USE OF A VIRTUAL PRIVATE NETWORK (“VPN”) TO CIRCUMVENT THE RESTRICTIONS SET FORTH HEREIN IS PROHIBITED.")]),n("h3",[t._v("11. LIMITATION OF LIABILITY; NO WARRANTY")]),n("p",[t._v("YOU EXPRESSLY UNDERSTAND AND AGREE THAT WOO NETWORK ECOSYSTEM AND OUR AFFILIATES AND SERVICE PROVIDERS, AND THEIR RESPECTIVE OFFICERS, DIRECTORS, AGENTS, JOINT VENTURERS, EMPLOYEES, AND REPRESENTATIVES WILL NOT BE LIABLE FOR ANY INDIRECT, INCIDENTAL, SPECIAL, CONSEQUENTIAL, EXEMPLARY DAMAGES, OR DAMAGES FOR LOSS OF PROFITS INCLUDING WITHOUT LIMITATION DAMAGES FOR LOSS OF GOODWILL, USE, DATA, OR OTHER INTANGIBLE LOSSES (EVEN IF WOO NETWORK ECOSYSTEM HAS BEEN ADVISED OF THE POSSIBILITY OF SUCH DAMAGES), WHETHER BASED ON CONTRACT, TORT, NEGLIGENCE, OR OTHERWISE, RESULTING FROM: (I) THE USE OR THE INABILITY TO USE THE SERVICES; (II) THE COST OF PROCUREMENT OF SUBSTITUTE GOODS AND SERVICES RESULTING FROM ANY GOODS, DATA, INFORMATION, OR SERVICES PURCHASED OR OBTAINED OR MESSAGES RECEIVED OR TRANSACTIONS ENTERED INTO THROUGH OR FROM THE SERVICES; (III) UNAUTHORIZED ACCESS TO OR ALTERATION OF YOUR TRANSMISSIONS OR DATA; OR (IV) ANY OTHER MATTER RELATING TO THE SERVICES.")]),n("p",[t._v("IN NO EVENT WILL THE AGGREGATE LIABILITY OF WOO NETWORK ECOSYSTEM, ITS AFFILIATES AND THEIR RESPECTIVE SHAREHOLDERS, MEMBERS, DIRECTORS, OFFICERS, EMPLOYEES, ATTORNEYS, AGENTS, REPRESENTATIVES, SUPPLIERS OR CONTRACTORS ARISING OUT OF SERVICES OFFERED BY OR ON BEHALF OF WOO NETWORK ECOSYSTEM AND ITS AFFILIATES, ANY PERFORMANCE OR NON-PERFORMANCE OF WOO NETWORK ECOSYSTEM SERVICES, OR ANY OTHER PRODUCT, SERVICE OR OTHER ITEM, WHETHER UNDER CONTRACT, STATUTE, STRICT LIABILITY OR OTHER THEORY, EXCEED THE AMOUNT OF THE FEES PAID BY YOU TO WOO NETWORK ECOSYSTEM UNDER THESE TERMS IN THE TWELVE-MONTH PERIOD IMMEDIATELY PRECEDING THE EVENT GIVING RISE TO THE CLAIM FOR LIABILITY.")]),n("p",[t._v("SOME JURISDICTIONS DO NOT ALLOW THE EXCLUSION OF CERTAIN WARRANTIES OR THE LIMITATION OR EXCLUSION OF LIABILITY FOR INCIDENTAL OR CONSEQUENTIAL DAMAGES. ACCORDINGLY, SOME OF THE LIMITATIONS SET FORTH ABOVE MAY NOT APPLY TO YOU. IF YOU ARE DISSATISFIED WITH ANY PORTION OF THE SERVICES OR WITH THIS AGREEMENT, YOUR SOLE AND EXCLUSIVE REMEDY IS TO DISCONTINUE USE OF THE SERVICES. THE SERVICES ARE PROVIDED “AS IS” AND WITHOUT ANY REPRESENTATION OR WARRANTY, WHETHER EXPRESS OR IMPLIED. WOO NETWORK ECOSYSTEM, OUR AFFILIATES, AND OUR RESPECTIVE OFFICERS, DIRECTORS, AGENTS, JOINT VENTURERS, EMPLOYEES, AND SUPPLIERS SPECIFICALLY DISCLAIM ANY IMPLIED WARRANTIES OF TITLE, MERCHANTABILITY, FITNESS FOR A PARTICULAR PURPOSE OR NON-INFRINGEMENT. WOO NETWORK ECOSYSTEM MAKES NO WARRANTY THAT (I) THE SERVICES WILL MEET YOUR REQUIREMENTS, (II) THE SERVICES WILL BE UNINTERRUPTED, TIMELY, SECURE, OR ERROR-FREE, OR (III) THE QUALITY OF ANY PRODUCTS, SERVICES, INFORMATION, OR OTHER MATERIAL PURCHASED OR OBTAINED BY YOU WILL MEET YOUR EXPECTATIONS.")]),n("h3",[t._v("12. FORCE MAJEURE")]),n("p",[t._v("WOO Network Ecosystem shall have no liability for any failure or delay resulting from any abnormal or unforeseeable circumstances outside our reasonable control, the consequences of which would have been unavoidable despite all efforts to the contrary, including without limitation governmental action or acts of terrorism, earthquake, fire, typhoons, floods, wars, hacker attacks, computer virus invasions, or regulatory changes which render this Agreement unlawful, or other acts of God, labor conditions, delays or failures caused by problems with another system or network, mechanical breakdown or data-processing failures or where we are bound by other legal obligations.")]),n("h3",[t._v("13. GOVERNING LAW; VENUE")]),n("p",[t._v("The laws of Taiwan shall govern these Terms. Except as otherwise required by local law, any dispute between you and WOO Network Ecosystem related in any way to, or arising in any way from, our Services or these Terms (“Dispute”) shall be finally settled in the legal proceeding of Taipei District Court. Any litigations shall take place in Taipei.")]),n("h3",[t._v("14. ASSIGNMENT")]),n("p",[t._v("You may not transfer or assign these Terms or any rights or obligations you have under these Terms without our prior written consent or otherwise and any such attempted assignment shall be void. We reserve the right to freely assign or transfer these Terms and the rights and obligations of these Terms, to any third party at any time without notice or consent. If you object to such transfer or assignment, you may stop using our services and terminate this agreement.")]),n("h3",[t._v("15. THIRD PARTY CONTENT")]),n("p",[t._v("We strives to provide accurate and reliable information and content on WOOFi, but such information may not always be correct, complete, or up to date. We will update the information on WOOFi as necessary to provide you with the most up to date information, but you should always independently verify such information. WOOFi may also contain links to third party websites, applications, events or other materials (“Third Party Content”). Such information is provided for your convenience and links or references to Third Party Content do not constitute an endorsement by our products or services. We shall have no liability for any losses incurred as a result of actions taken in reliance on the information contained on WOOFi or in any Third Party Content.")]),n("h3",[t._v("16. AMENDMENTS")]),n("p",[t._v("We may amend any portion of these Terms at any time by posting the revised version of these Terms with an updated revision date. The changes will become effective, and shall be deemed accepted by you, the first time you use our services after the initial posting of the revised agreement and shall apply on a going-forward basis with respect to transactions initiated after the posting date. In the event that you do not agree with any such modification, your sole and exclusive remedy is to terminate your use of WOOFi. You agree that we shall not be liable to you or any third party as a result of any losses suffered by any modification or amendment of these Terms.")]),n("h3",[t._v("17. ENTIRE AGREEMENT")]),n("p",[t._v("The failure of WOO Network Ecosystem to exercise or enforce any right or provision of the Agreement shall not constitute a waiver of such right or provision. If any provision of these Terms shall be adjudged by any court of competent jurisdiction to be unenforceable or invalid, that provision shall be limited or eliminated to the minimum extent necessary so that these Terms shall otherwise remain in full force and effect and remain enforceable between the parties. The headings and any explanatory text are for reference purposes only and in no way define, limit, construe, or describe the scope or extent of such section. These Terms, including WOO Network Ecosystem’s policies governing our services, constitute the entire agreement between you and WOO Network Ecosystem with respect to the use of our services.")]),n("div",{attrs:{id:"tou-finish"}})]),t.isCheckVisible?n("div",{staticClass:"operation"},[n("div",{staticClass:"check"},[n("el-checkbox",{attrs:{disabled:t.isOperationDisabled},model:{value:t.alphaChecked,callback:function(e){t.alphaChecked=e},expression:"alphaChecked"}},[n("span",[t._v("I read and accept the")]),n("i",[t._v("Terms of Use")])])],1),n("div",{staticClass:"btn"},[n("el-button",{attrs:{type:"primary",disabled:t.isOperationDisabled||!t.alphaChecked},on:{click:t.onContinueClick}},[t._v("Continue")])],1)]):t._e()])],1)}),[],!1,null,"6234d9e5",null).exports),M={name:"Footer",components:{TermsOfUse:L},computed:{isEn:function(){return"en"===this.$i18n.locale}},methods:{onClickLink:function(t){switch(t){case"broker":window.open("https://learn.woo.org/v/woofi-dev-docs/guides/become-a-woofi-broker","__blank");break;case"medium":window.open("https://woonetwork.medium.com","__blank");break;case"woonetwork":window.open("https://woo.org/network","__blank");break;case"coingecko":window.open("https://www.coingecko.com/en/coins/woo-network","__blank");break;case"coinmarketcap":window.open("https://coinmarketcap.com/zh/currencies/wootrade/","__blank");break;case"immunefybugbounty":window.open("https://immunefi.com/bounty/woofi/","__blank");break;case"term":this.$refs.termsOfUse.alphaAlertVisible=!0;break;case"audit":window.open("https://learn.woo.org/woofi/audits","__blank");break;case"github":window.open("https://github.com/woonetwork","__blank");break;case"docs":window.open("https://learn.woo.org/woofi/intro","__blank");break;case"telegram":window.open("https://t.me/woo_english","__blank");break;case"about":window.open("https://woo.org/network","__blank");break;case"discord":window.open("https://discord.com/invite/woonetwork","__blank");break;case"twitter":window.open("https://twitter.com/_WOOFi","__blank");break;case"woofinft":window.open("https://galxe.com/woonetwork/campaign/GC6TpUtAPt","__blank");break;case"defillama":window.open("https://defillama.com/dexs/woofi","__blank")}}}},F=(n(796),Object(l.a)(M,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("footer",[r("div",{staticClass:"group"},[r("div",{staticClass:"list touch",on:{click:function(e){return t.onClickLink("woonetwork")}}},[r("div",{staticClass:"title"},[t._v("Powered by")]),t._m(0)]),r("div",{staticClass:"list"},[r("div",{staticClass:"title"},[t._v("Resources")]),r("div",{staticClass:"sub-item"},[r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("broker")}}},[r("span",[t._v("WOOFi Brokers")])]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("docs")}}},[r("span",[t._v("Docs")])]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("audit")}}},[r("span",[t._v("Audits")])]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("term")}}},[r("span",[t._v("Terms of Use")])])])]),r("div",{staticClass:"list"},[r("div",{staticClass:"title"},[t._v("Links")]),r("div",{staticClass:"sub-item"},[r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("defillama")}}},[r("span",[t._v("DefiLlama")])]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("woofinft")}}},[r("span",[t._v("WOOFi NFT")])]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("github")}}},[r("span",[t._v("Github")])]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("immunefybugbounty")}}},[r("span",[t._v("Immunefi Bug Bounty")])])])]),r("div",{staticClass:"list"},[r("div",{staticClass:"title"},[t._v("Social Media")]),r("div",{staticClass:"img-items flex-align"},[r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("twitter")}}},[r("img",{attrs:{src:n(790)}})]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("discord")}}},[r("img",{attrs:{src:n(791)}})]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("medium")}}},[r("img",{attrs:{src:n(792)}})]),r("div",{staticClass:"item touch",on:{click:function(e){return t.onClickLink("telegram")}}},[r("img",{attrs:{src:n(793)}})])])])]),r("TermsOfUse",{ref:"termsOfUse"})],1)}),B,!1,null,"9c881bac",null).exports),V={data:function(){return{alphaAlertVisible:!1}},computed:{userAddress:function(){return this.$store.state.auth.address}},watch:{userAddress:{immediate:!0,handler:function(t){t&&this.onCheck()}}},methods:{onCheck:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,t.$DI.get("Web3").isUserSanctioned(t.userAddress);case 2:e.sent&&(t.alphaAlertVisible=!0);case 4:case"end":return e.stop()}}),e)})))()}}},U=(n(797),Object(l.a)(V,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"tous"},[n("el-dialog",{attrs:{title:"Blocked Address","show-close":!1,"close-on-click-modal":!1,visible:t.alphaAlertVisible,width:t.$isFromMobile?"90%":"670px"},on:{"update:visible":function(e){t.alphaAlertVisible=e}}},[n("div",{staticClass:"confirm-dialog",attrs:{id:"tou-content"}},[n("p",[t._v(t._s(t.userAddress))]),n("p",[t._v("This address is blocked on fi.woo.org because is associated with one or more blocked activities.")])])])],1)}),[],!1,null,"6e3e9fc8",null).exports),j={components:{TermsOfUse:L,Sanction:U},data:function(){return{ip:""}},mounted:function(){this.getIpCountry()},methods:{getIpCountry:function(){var t=this;return Object(r.a)(regeneratorRuntime.mark((function e(){var n;return regeneratorRuntime.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!t.$DI.get("IS_DEV_DOMAIN")){e.next=2;break}return e.abrupt("return");case 2:return e.next=4,t.$DI.get("StatHttp").getIpCountry();case 4:if(!1!==(n=e.sent).access_allow){e.next=8;break}return t.ip=n.ip,e.abrupt("return");case 8:if(!localStorage.getItem("USER_IS_CONFIRM_ALPHA_USER")){e.next=10;break}return e.abrupt("return");case 10:t.$refs.termsOfUse.alphaAlertVisible=!0;case 11:case"end":return e.stop()}}),e)})))()}}},H=(n(798),Object(l.a)(j,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"banip"},[n("el-dialog",{attrs:{title:"WE'RE SORRY...","show-close":!1,"close-on-click-modal":!1,visible:!!t.ip,width:t.$isFromMobile?"90%":"560px"}},[n("div",{staticClass:"confirm-dialog"},[n("p",[t._v("It seems like you are accessing"),n("b",[t._v("WOOFi")]),t._v("from an IP address ("+t._s(t.ip)+") belonging to one of the following countries:")]),n("p",{staticClass:"country"},[t._v("Afghanistan, Crimea and Sevatopol, Cayman Islands, Cuba, DPRK(Democratic People's Republic of Korea), Iran, Libya, Mali, South Sudan, Sudan, Syria, United States of America.")]),n("p",[t._v("Please note that access to"),n("b",[t._v("WOOFi")]),t._v("is restricted for IP addresses from the countries listed above. If you are not in one of these countries and believe this message is an error, please contact"),n("span",[t._v("support@woo.network.")])])])]),n("TermsOfUse",{ref:"termsOfUse",attrs:{isCheckVisible:!0}}),n("Sanction")],1)}),[],!1,null,"2fd23e10",null).exports),Y={1:"Ethereum",56:"BNB Chain",250:"Fantom",43114:"Avalanche",137:"Polygon",16666e5:"Harmony",25:"Cronos",128:"Heco",8217:"Klaytn",1313161554:"Aurora",42220:"Celo",100:"Gnosis",361:"Theta",40:"Telos",65:"OKExChain",4220:"Arbitrum"},G={computed:{alertVisible:function(){return!!this.isMetamask()&&this.$DI.get("Web3").isNotSupportedNetwork()},currentChainId:function(){return this.$DI.get("Web3").currentChainId},displayCurrentChainName:function(){var t=Y[Number(this.currentChainId)];return t?" (".concat(t,")"):""}},methods:{isMetamask:function(){return this.$DI.get("Web3").isMetamask()},onClickChange:function(){this.$DI.get("Vue").$emit("onOpenSwitchNetwork")}}},K=(n(799),Object(l.a)(G,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.alertVisible?n("div",{staticClass:"notice",class:{"flex-align-just-center":!t.$isFromMobile}},[n("div",{staticClass:"flex-align-just-center line-text"},[n("span",{staticClass:"text"},[t._v("Wrong Network "+t._s(t.displayCurrentChainName)+": Please connect to a supported network in the"),n("span",{staticClass:"link touch",on:{click:t.onClickChange}},[t._v("dropdown menu")]),t._v("or in your wallet.")])])]):t._e()}),[],!1,null,"10fab4e7",null).exports),Q={methods:{onClickNotification:function(){window.open("https://medium.com/woonetwork/woofi-dex-and-ref-finance-team-up-to-launch-a-trading-tourney-with-8-500-of-ref-up-for-grabs-535d89a073c8","_blank")}}},X=(n(800),{components:{Debug:c,Header:R,Footer:F,BanUser:H,ErrorChainAlert:K,Notification:Object(l.a)(Q,(function(){var t=this.$createElement,e=this._self._c||t;return this.$isFromMobile?this._e():e("div",{staticClass:"notice touch",class:{"flex-align-just-center":!this.$isFromMobile},on:{click:this.onClickNotification}},[this._m(0)])}),[function(){var t=this.$createElement,e=this._self._c||t;return e("div",{staticClass:"flex-align-just-center line-text"},[e("span",{staticClass:"text"},[this._v("Take part in our"),e("span",{staticClass:"link touch"},[this._v("WOOFi DEX trading tourney")]),this._v("and have a chance to win a share of $8,500!")])])}],!1,null,"04480c14",null).exports},data:function(){return{isInit:!1,isRefresh:!1}},computed:{isPageVisible:function(){return this.isInit&&!this.isRefresh},isIndex:function(){var t=this.$route.path.replace("/".concat(this.$i18n.locale),"");return"/"===t||!t}},mounted:function(){"true"===new URL(window.location.href).searchParams.get("debug")&&new window.VConsole,this.initPage(!0),"light"===localStorage.getItem("SETTING_THEME")&&this.$store.commit("setting/SWITCH_THEME_LIGHT"),this.$DI.get("Vue").$on("SWITCH_SUPPORTED_NETWORK",this.onSwitchNetwork),this.$DI.get("Vue").$on("REFRESH_PAGE",this.initPage)},methods:{onSwitchNetwork:function(t){var e=t.key;localStorage.setItem("LAST_SELECTED_NETWORK",this.$DI.get("CURRENT_NETWORK")),localStorage.setItem("CURRENT_NETWORK",e),this.$DI.bindValue("CURRENT_NETWORK",e),this.$DI.get("Wallet").setupNetwork()},initPage:function(t){var e=this;return Object(r.a)(regeneratorRuntime.mark((function n(){var r,o;return regeneratorRuntime.wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return t||e.$router.push(e.localeRoute({name:"index"})),e.isRefresh=!0,r=e.$loading({lock:!0,text:"",spinner:"el-icon-loading",background:"rgba(0, 0, 0, 1)"}),n.prev=3,e.$DI.get("Web3Request"),n.next=7,e.$DI.get("Web3").initWeb3();case 7:if(o=n.sent,!t){n.next=13;break}return n.next=11,e.$DI.get("Web3").login();case 11:return n.next=13,e.$DI.get("Web3").initContracts();case 13:o?e.$store.commit("auth/SET_INIT"):e.$DI.get("Notification").errorNetwork(),n.next=19;break;case 16:n.prev=16,n.t0=n.catch(3),console.log(n.t0);case 19:return n.next=21,e.$nextTick();case 21:return e.isInit=!0,n.next=24,e.$nextTick();case 24:setTimeout((function(){e.isRefresh=!1,r.close()}),t?500:100);case 25:case"end":return n.stop()}}),n,null,[[3,16]])})))()}}}),z=(n(801),n(802),Object(l.a)(X,(function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",[t.isPageVisible?n("div",{staticClass:"bg"},[n("Header"),t._v(" "),n("ErrorChainAlert"),t._v(" "),t._e(),t._v(" "),n("nuxt"),t._v(" "),n("Footer"),t._v(" "),n("BanUser")],1):t._e(),t._v(" "),n("Debug")],1)}),[],!1,null,null,null));e.a=z.exports},698:function(t,e,n){"use strict";var r={name:"NuxtLoading",data:function(){return{percent:0,show:!1,canSucceed:!0,reversed:!1,skipTimerCount:0,rtl:!1,throttle:0,duration:5e3,continuous:!0}},computed:{left:function(){return!(!this.continuous&&!this.rtl)&&(this.rtl?this.reversed?"0px":"auto":this.reversed?"auto":"0px")}},beforeDestroy:function(){this.clear()},methods:{clear:function(){clearInterval(this._timer),clearTimeout(this._throttle),this._timer=null},start:function(){var t=this;return this.clear(),this.percent=0,this.reversed=!1,this.skipTimerCount=0,this.canSucceed=!0,this.throttle?this._throttle=setTimeout((function(){return t.startTimer()}),this.throttle):this.startTimer(),this},set:function(t){return this.show=!0,this.canSucceed=!0,this.percent=Math.min(100,Math.max(0,Math.floor(t))),this},get:function(){return this.percent},increase:function(t){return this.percent=Math.min(100,Math.floor(this.percent+t)),this},decrease:function(t){return this.percent=Math.max(0,Math.floor(this.percent-t)),this},pause:function(){return clearInterval(this._timer),this},resume:function(){return this.startTimer(),this},finish:function(){return this.percent=this.reversed?0:100,this.hide(),this},hide:function(){var t=this;return this.clear(),setTimeout((function(){t.show=!1,t.$nextTick((function(){t.percent=0,t.reversed=!1}))}),500),this},fail:function(t){return this.canSucceed=!1,this},startTimer:function(){var t=this;this.show||(this.show=!0),void 0===this._cut&&(this._cut=1e4/Math.floor(this.duration)),this._timer=setInterval((function(){t.skipTimerCount>0?t.skipTimerCount--:(t.reversed?t.decrease(t._cut):t.increase(t._cut),t.continuous&&(t.percent>=100||t.percent<=0)&&(t.skipTimerCount=1,t.reversed=!t.reversed))}),100)}},render:function(t){var e=t(!1);return this.show&&(e=t("div",{staticClass:"nuxt-progress",class:{"nuxt-progress-notransition":this.skipTimerCount>0,"nuxt-progress-failed":!this.canSucceed},style:{width:this.percent+"%",left:this.left}})),e}},o=(n(745),n(4)),component=Object(o.a)(r,void 0,void 0,!1,null,null,null);e.a=component.exports},744:function(t,e,n){"use strict";var r=n(263);n.n(r).a},745:function(t,e,n){"use strict";var r=n(264);n.n(r).a},746:function(t,e,n){"use strict";var r=n(265);n.n(r).a},758:function(t,e,n){"use strict";var r=n(266);n.n(r).a},759:function(t,e,n){"use strict";var r=n(267);n.n(r).a},761:function(t,e,n){"use strict";var r=n(268);n.n(r).a},762:function(t,e,n){"use strict";var r=n(269);n.n(r).a},765:function(t,e,n){"use strict";var r=n(270);n.n(r).a},776:function(t,e,n){"use strict";var r=n(271);n.n(r).a},778:function(t,e,n){"use strict";var r=n(272);n.n(r).a},783:function(t,e,n){"use strict";var r=n(273);n.n(r).a},789:function(t,e,n){"use strict";var r=n(274);n.n(r).a},795:function(t,e,n){"use strict";var r=n(275);n.n(r).a},796:function(t,e,n){"use strict";var r=n(276);n.n(r).a},797:function(t,e,n){"use strict";var r=n(277);n.n(r).a},798:function(t,e,n){"use strict";var r=n(278);n.n(r).a},799:function(t,e,n){"use strict";var r=n(279);n.n(r).a},800:function(t,e,n){"use strict";var r=n(280);n.n(r).a},801:function(t,e,n){"use strict";var r=n(281);n.n(r).a},802:function(t,e,n){"use strict";var r=n(282);n.n(r).a},92:function(t,e,n){"use strict";var r={props:{error:{type:Object,default:function(){return{}}}},computed:{is404:function(){return 404===this.error.statusCode}}},o=(n(744),n(4)),component=Object(o.a)(r,(function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("div",{staticClass:"container"},[t.is404?r("div",{staticClass:"main"},[r("img",{attrs:{src:n(742)}}),r("div",{staticClass:"title"},[t._v("404...")]),r("div",{staticClass:"content"},[t._v("Looks like something went Wrong")])]):r("div",{staticClass:"main"},[r("img",{attrs:{src:n(743)}}),r("div",{staticClass:"title"},[t._v("Oops...")]),r("div",{staticClass:"content"},[t._v("Looks like something went Wrong"),r("p",{staticClass:"log"},[t._v(t._s(t.error.statusCode)+" "+t._s(t.error.message))])])])])}),[],!1,null,"293ea06a",null);e.a=component.exports}}]);